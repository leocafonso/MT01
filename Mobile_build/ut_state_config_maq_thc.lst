* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Sun Feb 19 10:53:51 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  19-Feb-2017 10:53:51
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=ut_state_config_maq_thc.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01\r_lvd_rx,C:\Workspace\e2studio\git\MT01\r_lvd_rx\src,C:/Workspace/e2studio/git/MT01/r_tfa
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=ut_state_config_maq_thc.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=0,EASYMAK=0,MOBILE=1,FREE_RTOS_PP
                                 ;ut_state_config_maq_thc.c
                                 
                                 		.glb	_configsVar
                                 		.glb	_configFlags
                                 		.glb	_configsTh
                                 		.glb	_th_init_types
                                 		.glb	_th_init_names
                                 		.glb	_th_init_max
                                 		.glb	_th_init_min
                                 		.glb	_th_init_step
                                 		.glb	_th_init_point
                                 		.glb	_th_init_unit
                                 		.glb	_geNextStateTh
                                 		.glb	_ut_state_config_maq_thc
                                 		.glb	_ut_menu_init
                                 		.glb	_ut_menu_browse
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         __$init:
                                 		.STACK	__$init=8
                                 ;       1 /*
                                 ;       2  * ut_state_config_menu.c
                                 ;       3  *
                                 ;       4  *  Created on: Dec 6, 2015
                                 ;       5  *      Author: Fernando
                                 ;       6  */
                                 ;       7 
                                 ;       8 #include "ut_context.h"
                                 ;       9 #include "ut_state.h"
                                 ;      10 #include "ut_state_config_var.h"
                                 ;      11 #include "eeprom.h"
                                 ;      12 #include "config_thc_maquina.h"
                                 ;      13 
                                 ;      14 
                                 ;      15 #include "FreeRTOS.h"
                                 ;      16 #include "task.h"
                                 ;      17 
                                 ;      18 #include "keyboard.h"
                                 ;      19 #include "interpreter_if.h"
                                 ;      20 
                                 ;      21 #include "lcd.h"
                                 ;      22 #include "lcd_menu.h"
                                 ;      23 
                                 ;      24 #define DEFAULT_CONFIG_TIMEOUT	portMAX_DELAY
                                 ;      25 
                                 ;      26 static bool initialized = false;
                                 ;      27 static const char* gszConfigMenuTitle = "PAR. DO THC";
                                 ;      28 
                                 ;      29 /**
                                 ;      30  * Initialize config array
                                 ;      31  */
                                 ;      32 static void init()
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",32
00000000 6040                    		SUB #04H, R0
                                 ;      33 {
                                 ;      34 	uint8_t i;
                                 ;      35 
                                 ;      36 	/* Check if already initialized */
                                 ;      37 	if(initialized) {
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",37
00000002 FBE2rrrrrrrr            		MOV.L #__$initialized, R14
00000008 58EE                    		MOVU.B [R14], R14
0000000A 610E                    		CMP #00H, R14
0000000C 20rr                    		BEQ L15
0000000E                         L12:	; bb2
                                 ;      38 		for(i = 0; i < CFG_THC_MAX; i++)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",38
0000000E 3C0300                  		MOV.B #00H, 03H[R0]
00000011 2Err                 B  		BRA L14
00000013                         L13:	; bb3
                                 ;      39 		{
                                 ;      40 			configsTh[i].name = th_init_names[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",40
00000013 B089                    		MOVU.B 03H[R0], R1
00000015 FBE2rrrrrrrr            		MOV.L #_th_init_names, R14
0000001B FE61E2                  		MOV.L [R1,R14], R2
0000001E 75112C                  		MUL #2CH, R1
00000021 FB32rrrrrrrr            		MOV.L #_configsTh, R3
00000027 4B13                    		ADD R1, R3
00000029 A1BA                    		MOV.L R2, 1CH[R3]
0000002B B089                    		MOVU.B 03H[R0], R1
0000002D 6211                    		ADD #01H, R1
0000002F 8089                    		MOV.B R1, 03H[R0]
00000031                         L14:	; bb13
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",38
00000031 B089                    		MOVU.B 03H[R0], R1
00000033 6121                    		CMP #02H, R1
00000035 29rr                    		BLT L13
00000037 38rrrr               W  		BRA L30
0000003A                         L15:	; bb25
0000003A 754358                  		MOV.L #00000058H, R3
0000003D 6602                    		MOV.L #00000000H, R2
                                 ;      41 		}
                                 ;      42 		return;
                                 ;      43 	}
                                 ;      44 
                                 ;      45 	/* Zero all values */
                                 ;      46 	memset(configsTh, 0, sizeof(configsTh));
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",46
0000003F FB12rrrrrrrr            		MOV.L #_configsTh, R1
00000045 7F88                    		SSTR.B
00000047                         L16:	; bb25.split
                                 ;      47 
                                 ;      48 	/* Initialize all variables */
                                 ;      49 	for(i = 0; i < CFG_THC_MAX; i++)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",49
00000047 3C0300                  		MOV.B #00H, 03H[R0]
0000004A 38rrrr               W  		BRA L26
0000004D                         L17:	; bb26
                                 ;      50 	{
                                 ;      51 		configsTh[i].type = th_init_types[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",51
0000004D B089                    		MOVU.B 03H[R0], R1
0000004F FBE2rrrrrrrr            		MOV.L #_th_init_types, R14
00000055 FE61EE                  		MOV.L [R1,R14], R14
00000058 75112C                  		MUL #2CH, R1
0000005B FBF2rrrrrrrr            		MOV.L #_configsTh, R15
00000061 4B1F                    		ADD R1, R15
00000063 E3FE                    		MOV.L R14, [R15]
00000065                         L18:	; bb26.split
                                 ;      52 		configsTh[i].valueMax = th_init_max[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",52
00000065 B089                    		MOVU.B 03H[R0], R1
00000067 FBE2rrrrrrrr            		MOV.L #_th_init_max, R14
0000006D FE61E2                  		MOV.L [R1,R14], R2
00000070 75112C                  		MUL #2CH, R1
00000073 FB32rrrrrrrr            		MOV.L #_configsTh, R3
00000079 4B13                    		ADD R1, R3
0000007B A0BA                    		MOV.L R2, 0CH[R3]
0000007D                         L19:	; bb26.split1
                                 ;      53 		configsTh[i].valueMin = th_init_min[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",53
0000007D B089                    		MOVU.B 03H[R0], R1
0000007F FBE2rrrrrrrr            		MOV.L #_th_init_min, R14
00000085 FE61E2                  		MOV.L [R1,R14], R2
00000088 75112C                  		MUL #2CH, R1
0000008B FB32rrrrrrrr            		MOV.L #_configsTh, R3
00000091 4B13                    		ADD R1, R3
00000093 A0B2                    		MOV.L R2, 08H[R3]
00000095                         L20:	; bb26.split2
                                 ;      54 		configsTh[i].name = th_init_names[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",54
00000095 B089                    		MOVU.B 03H[R0], R1
00000097 FBE2rrrrrrrr            		MOV.L #_th_init_names, R14
0000009D FE61E2                  		MOV.L [R1,R14], R2
000000A0 75112C                  		MUL #2CH, R1
000000A3 FB32rrrrrrrr            		MOV.L #_configsTh, R3
000000A9 4B13                    		ADD R1, R3
000000AB A1BA                    		MOV.L R2, 1CH[R3]
000000AD                         L21:	; bb26.split3
                                 ;      55 		configsTh[i].unit = th_init_unit[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",55
000000AD B089                    		MOVU.B 03H[R0], R1
000000AF FBE2rrrrrrrr            		MOV.L #_th_init_unit, R14
000000B5 FE61E2                  		MOV.L [R1,R14], R2
000000B8 75112C                  		MUL #2CH, R1
000000BB FB32rrrrrrrr            		MOV.L #_configsTh, R3
000000C1 4B13                    		ADD R1, R3
000000C3 A1B2                    		MOV.L R2, 18H[R3]
000000C5                         L22:	; bb26.split4
                                 ;      56 		configsTh[i].step = th_init_step[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",56
000000C5 B089                    		MOVU.B 03H[R0], R1
000000C7 FBE2rrrrrrrr            		MOV.L #_th_init_step, R14
000000CD FE61E2                  		MOV.L [R1,R14], R2
000000D0 75112C                  		MUL #2CH, R1
000000D3 FB32rrrrrrrr            		MOV.L #_configsTh, R3
000000D9 4B13                    		ADD R1, R3
000000DB A132                    		MOV.L R2, 10H[R3]
000000DD                         L23:	; bb26.split5
                                 ;      57 		configsTh[i].point = th_init_point[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",57
000000DD B089                    		MOVU.B 03H[R0], R1
000000DF FBE2rrrrrrrr            		MOV.L #_th_init_point, R14
000000E5 FECE12                  		MOVU.B [R14,R1], R2
000000E8 75112C                  		MUL #2CH, R1
000000EB FB32rrrrrrrr            		MOV.L #_configsTh, R3
000000F1 4B13                    		ADD R1, R3
000000F3 8532                    		MOV.B R2, 14H[R3]
000000F5                         L24:	; bb26.split6
                                 ;      58 		configsTh[i].currentState = STATE_CONFIG_MAQUINA_THC;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",58
000000F5 B089                    		MOVU.B 03H[R0], R1
000000F7 75112C                  		MUL #2CH, R1
000000FA FB22rrrrrrrr            		MOV.L #_configsTh, R2
00000100 4B12                    		ADD R1, R2
00000102 3E280B                  		MOV.L #0000000BH, 20H[R2]
00000105                         L25:	; bb26.split7
                                 ;      59 		configsTh[i].currentItem = i;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",59
00000105 B089                    		MOVU.B 03H[R0], R1
00000107 EF1E                    		MOV.L R1, R14
00000109 751E2C                  		MUL #2CH, R14
0000010C FBF2rrrrrrrr            		MOV.L #_configsTh, R15
00000112 4BEF                    		ADD R14, R15
00000114 C7F124                  		MOV.B R1, 24H[R15]
00000117 B089                    		MOVU.B 03H[R0], R1
00000119 6211                    		ADD #01H, R1
0000011B 8089                    		MOV.B R1, 03H[R0]
0000011D                         L26:	; bb95
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",49
0000011D B089                    		MOVU.B 03H[R0], R1
0000011F 6121                    		CMP #02H, R1
00000121 28rr                  * 		BLT L17
         38rrrr                  
00000126                         L27:	; bb101
                                 ;      60 	}
                                 ;      61 	configsTh[0].value = &configFlags[KERF];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",61
00000126 FB12rrrrrrrr            		MOV.L #_configFlags, R1
0000012C 6281                    		ADD #08H, R1
0000012E FB22rrrrrrrr            		MOV.L #_configsTh, R2
00000134 A029                    		MOV.L R1, 04H[R2]
00000136                         L28:	; bb101.split
                                 ;      62 	configsTh[1].value = &configFlags[MERGULHO];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",62
00000136 FB12rrrrrrrr            		MOV.L #_configFlags, R1
0000013C 62C1                    		ADD #0CH, R1
0000013E FB22rrrrrrrr            		MOV.L #_configsTh, R2
00000144 A321                    		MOV.L R1, 30H[R2]
00000146                         L29:	; bb101.split8
                                 ;      63 	initialized = true;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",63
00000146 FBE2rrrrrrrr            		MOV.L #__$initialized, R14
0000014C F8E401                  		MOV.B #01H, [R14]
0000014F 6701                    		RTSD #04H
00000151                         L30:	; return
                                 ;      64 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",64
00000151 6701                    		RTSD #04H
00000153                         _ut_state_config_maq_thc:
                                 		.STACK	_ut_state_config_maq_thc=440
                                 ;      65 
                                 ;      66 /**
                                 ;      67  * Shows a configuration menu for the machine.
                                 ;      68  *
                                 ;      69  * @param pContext Context object
                                 ;      70  * @return Main menu state
                                 ;      71  */
                                 ;      72 ut_state ut_state_config_maq_thc(ut_context* pContext)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",72
00000153 72004CFE                		ADD #0FFFFFE4CH, R0
00000157 E7016C                  		MOV.L R1, 01B0H[R0]
                                 ;      73 {
                                 ;      74 	ut_menu config_menu;
                                 ;      75 	uint8_t i;
                                 ;      76 
                                 ;      77 	/* Initialize variables */
                                 ;      78 	init();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",78
0000015A 39rrrr               W  		BSR __$init
0000015D                         L32:	; entry.split
0000015D 710104                  		ADD #04H, R0, R1
                                 ;      79 
                                 ;      80 	/* Initialize menu */
                                 ;      81 	ut_menu_init(&config_menu);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",81
00000160 05rrrrrr             A  		BSR _ut_menu_init
00000164                         L33:	; entry.split1
                                 ;      82 
                                 ;      83 	/* Options */
                                 ;      84 	config_menu.title = gszConfigMenuTitle;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",84
00000164 FBE2rrrrrrrr            		MOV.L #__$gszConfigMenuTitle, R14
0000016A E4E065                  		MOV.L [R14], 0194H[R0]
0000016D                         L34:	; entry.split2
                                 ;      85 //	config_menu.offset = 1;
                                 ;      86 	/* Items */
                                 ;      87 	for(i = 0; i < CFG_THC_MAX; i++)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",87
0000016D FA04AB0100              		MOV.B #00H, 01ABH[R0]
00000172 2Err                 B  		BRA L36
00000174                         L35:	; bb
                                 ;      88 	{
                                 ;      89 		config_menu.items[config_menu.numItems++].text = configsTh[i].name;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",89
00000174 5D0ECD                  		MOVU.W 019AH[R0], R14
00000177 751E14                  		MUL #14H, R14
0000017A 710F04                  		ADD #04H, R0, R15
0000017D 4BEF                    		ADD R14, R15
0000017F 5A01AB01                		MOVU.B 01ABH[R0], R1
00000183 75112C                  		MUL #2CH, R1
00000186 FBE2rrrrrrrr            		MOV.L #_configsTh, R14
0000018C 4B1E                    		ADD R1, R14
0000018E E5EF0703                		MOV.L 1CH[R14], 0CH[R15]
00000192 DD0ECD                  		MOV.W 019AH[R0], R14
00000195 621E                    		ADD #01H, R14
00000197 D70ECD                  		MOV.W R14, 019AH[R0]
0000019A 5A01AB01                		MOVU.B 01ABH[R0], R1
0000019E 6211                    		ADD #01H, R1
000001A0 CB01AB01                		MOV.B R1, 01ABH[R0]
000001A4                         L36:	; bb22
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",87
000001A4 5A01AB01                		MOVU.B 01ABH[R0], R1
000001A8 6121                    		CMP #02H, R1
000001AA 29rr                    		BLT L35
000001AC                         L37:	; bb27
                                 ;      90 	}
                                 ;      91 
                                 ;      92 	/* Show menu */
                                 ;      93 	config_menu.selectedItem = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",93
000001AC F905CC00                		MOV.W #0000H, 0198H[R0]
000001B0                         L38:	; bb27.split
000001B0 FB26FF                  		MOV.L #0FFFFFFFFH, R2
000001B3 710104                  		ADD #04H, R0, R1
                                 ;      94 	if(ut_menu_browse(&config_menu, DEFAULT_CONFIG_TIMEOUT) < 0)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",94
000001B6 05rrrrrr             A  		BSR _ut_menu_browse
000001BA 69F1                    		SHLR #1FH, R1
000001BC 6101                    		CMP #00H, R1
000001BE 10                   S  		BEQ L40
000001BF                         L39:	; bb30
                                 ;      95 	{
                                 ;      96 		return STATE_MAIN_MENU;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",96
000001BF F80602                  		MOV.L #00000002H, [R0]
000001C2 2Err                 B  		BRA L43
000001C4                         L40:	; bb37
                                 ;      97 	}
                                 ;      98 
                                 ;      99 	/* Set selected item */
                                 ;     100 	pContext->value[0] = STATE_CONFIG_MAQUINA_THC;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",100
000001C4 ED016C                  		MOV.L 01B0H[R0], R1
000001C7 3C120B                  		MOV.B #0BH, 02H[R1]
000001CA                         L41:	; bb37.split
                                 ;     101 	configsVar = &configsTh[config_menu.selectedItem];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",101
000001CA 5D0ECC                  		MOVU.W 0198H[R0], R14
000001CD 751E2C                  		MUL #2CH, R14
000001D0 FBF2rrrrrrrr            		MOV.L #_configsTh, R15
000001D6 4BEF                    		ADD R14, R15
000001D8 FBE2rrrrrrrr            		MOV.L #_configsVar, R14
000001DE E3EF                    		MOV.L R15, [R14]
000001E0                         L42:	; bb37.split3
                                 ;     102 	return geNextStateTh[config_menu.selectedItem];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",102
000001E0 FBE2rrrrrrrr            		MOV.L #_geNextStateTh, R14
000001E6 5D0FCC                  		MOVU.W 0198H[R0], R15
000001E9 FE6FE1                  		MOV.L [R15,R14], R1
000001EC E301                    		MOV.L R1, [R0]
000001EE                         L43:	; bb52
000001EE EC01                    		MOV.L [R0], R1
000001F0 E7016B                  		MOV.L R1, 01ACH[R0]
                                 ;     103 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_maq_thc.c",103
000001F3 676D                    		RTSD #01B4H
                                 		.SECTION	L,ROMDATA,ALIGN=4
00000000                         _L10:
00000000 5041522E                		.byte	"PAR. DO THC"
         20444F20                
         544843                  
0000000B 00                      		.byte	00H
                                 		.SECTION	D,ROMDATA,ALIGN=4
00000000                         __$gszConfigMenuTitle:
00000000 rrrrrrrr                		.lword	_L10
                                 		.SECTION	D_1,ROMDATA
00000000                         __$initialized:
00000000 00                      		.byte	00H
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00380   LINES

Section List

Attr         Size               Name
CODE     0000000501(000001F5H)  P
ROMDATA  0000000012(0000000CH)  L
ROMDATA  0000000004(00000004H)  D
ROMDATA  0000000001(00000001H)  D_1

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx7E87\$ccrx\ut_state_config_maq_thc.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01\Mobile_build\ut_state_config_maq_thc.lst
-output=C:\Workspace\e2studio\git\MT01\Mobile_build\src\states\ut_state_config_maq_thc.obj
