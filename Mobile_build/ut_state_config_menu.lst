* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Sun Feb 19 10:53:51 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  19-Feb-2017 10:53:51
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=ut_state_config_menu.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01\r_lvd_rx,C:\Workspace\e2studio\git\MT01\r_lvd_rx\src,C:/Workspace/e2studio/git/MT01/r_tfa
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=ut_state_config_menu.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=0,EASYMAK=0,MOBILE=1,FREE_RTOS_PP
                                 ;ut_state_config_menu.c
                                 
                                 		.glb	_configsVar
                                 		.glb	_configsPl
                                 		.glb	_configsOx
                                 		.glb	_ut_state_config_menu_ox
                                 		.glb	_initOx
                                 		.glb	_ut_menu_init
                                 		.glb	_ut_menu_browse
                                 		.glb	_eepromReadConfig
                                 		.glb	_ut_state_config_menu_pl
                                 		.glb	_initPl
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _ut_state_config_menu_ox:
                                 		.STACK	_ut_state_config_menu_ox=440
                                 ;       1 /*
                                 ;       2  * ut_state_config_menu.c
                                 ;       3  *
                                 ;       4  *  Created on: Dec 6, 2015
                                 ;       5  *      Author: Fernando
                                 ;       6  */
                                 ;       7 
                                 ;       8 #include "ut_context.h"
                                 ;       9 #include "ut_state.h"
                                 ;      10 #include "ut_state_config_var.h"
                                 ;      11 #include "eeprom.h"
                                 ;      12 #include "config_menu_ox.h"
                                 ;      13 #include "config_menu_pl.h"
                                 ;      14 
                                 ;      15 
                                 ;      16 #include "FreeRTOS.h"
                                 ;      17 #include "task.h"
                                 ;      18 
                                 ;      19 #include "keyboard.h"
                                 ;      20 #include "interpreter_if.h"
                                 ;      21 
                                 ;      22 #include "lcd.h"
                                 ;      23 #include "lcd_menu.h"
                                 ;      24 
                                 ;      25 #define DEFAULT_CONFIG_TIMEOUT	portMAX_DELAY
                                 ;      26 
                                 ;      27 
                                 ;      28 static const char* gszConfigMenuTitle = "CONFIG. DE CORTE";
                                 ;      29 
                                 ;      30 /**
                                 ;      31  * Shows a configuration menu for the machine.
                                 ;      32  *
                                 ;      33  * @param pContext Context object
                                 ;      34  * @return Main menu state
                                 ;      35  */
                                 ;      36 ut_state ut_state_config_menu_ox(ut_context* pContext)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",36
00000000 72004CFE                		ADD #0FFFFFE4CH, R0
00000004 E7016C                  		MOV.L R1, 01B0H[R0]
                                 ;      37 {
                                 ;      38 	ut_menu config_menu;
                                 ;      39 	uint8_t i;
                                 ;      40 
                                 ;      41 	/* Initialize variables */
                                 ;      42 	initOx();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",42
00000007 05rrrrrr             A  		BSR _initOx
0000000B                         L12:	; entry.split
0000000B 710104                  		ADD #04H, R0, R1
                                 ;      43 
                                 ;      44 	/* Initialize menu */
                                 ;      45 	ut_menu_init(&config_menu);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",45
0000000E 05rrrrrr             A  		BSR _ut_menu_init
00000012                         L13:	; entry.split1
                                 ;      46 
                                 ;      47 	/* Options */
                                 ;      48 	config_menu.title = gszConfigMenuTitle;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",48
00000012 FBE2rrrrrrrr            		MOV.L #__$gszConfigMenuTitle, R14
00000018 E4E065                  		MOV.L [R14], 0194H[R0]
0000001B                         L14:	; entry.split2
                                 ;      49 	config_menu.currentState = STATE_CONFIG_MENU_OX;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",49
0000001B F9066904                		MOV.L #00000004H, 01A4H[R0]
0000001F                         L15:	; entry.split3
                                 ;      50 //	config_menu.offset = 1;
                                 ;      51 	/* Items */
                                 ;      52 	for(i = 0; i < OX_CONFIG_MAX; i++)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",52
0000001F FA04AB0100              		MOV.B #00H, 01ABH[R0]
00000024 2Err                 B  		BRA L17
00000026                         L16:	; bb
                                 ;      53 	{
                                 ;      54 		config_menu.items[config_menu.numItems++].text = configsOx[i].name;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",54
00000026 5D0ECD                  		MOVU.W 019AH[R0], R14
00000029 751E14                  		MUL #14H, R14
0000002C 710F04                  		ADD #04H, R0, R15
0000002F 4BEF                    		ADD R14, R15
00000031 5A01AB01                		MOVU.B 01ABH[R0], R1
00000035 75112C                  		MUL #2CH, R1
00000038 FBE2rrrrrrrr            		MOV.L #_configsOx, R14
0000003E 4B1E                    		ADD R1, R14
00000040 E5EF0703                		MOV.L 1CH[R14], 0CH[R15]
00000044 DD0ECD                  		MOV.W 019AH[R0], R14
00000047 621E                    		ADD #01H, R14
00000049 D70ECD                  		MOV.W R14, 019AH[R0]
0000004C 5A01AB01                		MOVU.B 01ABH[R0], R1
00000050 6211                    		ADD #01H, R1
00000052 CB01AB01                		MOV.B R1, 01ABH[R0]
00000056                         L17:	; bb23
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",52
00000056 5A01AB01                		MOVU.B 01ABH[R0], R1
0000005A 6151                    		CMP #05H, R1
0000005C 29rr                    		BLT L16
0000005E                         L18:	; bb28
                                 ;      55 	}
                                 ;      56 
                                 ;      57 	/* Show menu */
                                 ;      58 	config_menu.selectedItem = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",58
0000005E F905CC00                		MOV.W #0000H, 0198H[R0]
00000062                         L19:	; bb28.split
00000062 FB26FF                  		MOV.L #0FFFFFFFFH, R2
00000065 710104                  		ADD #04H, R0, R1
                                 ;      59 	if(ut_menu_browse(&config_menu, DEFAULT_CONFIG_TIMEOUT) < 0)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",59
00000068 05rrrrrr             A  		BSR _ut_menu_browse
0000006C 69F1                    		SHLR #1FH, R1
0000006E 6101                    		CMP #00H, R1
00000070 10                   S  		BEQ L21
00000071                         L20:	; bb31
                                 ;      60 	{
                                 ;      61 		return STATE_MAIN_MENU;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",61
00000071 F80602                  		MOV.L #00000002H, [R0]
00000074 2Err                 B  		BRA L25
00000076                         L21:	; bb38
00000076 6601                    		MOV.L #00000000H, R1
                                 ;      62 	}
                                 ;      63 	eepromReadConfig(CONFIGVAR_OX);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",63
00000078 05rrrrrr             A  		BSR _eepromReadConfig
0000007C                         L22:	; bb38.split
                                 ;      64 	/* Set selected item */
                                 ;      65 	pContext->value[0] = STATE_CONFIG_MENU_OX;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",65
0000007C ED016C                  		MOV.L 01B0H[R0], R1
0000007F 3C1204                  		MOV.B #04H, 02H[R1]
00000082                         L23:	; bb38.split4
                                 ;      66 	configsVar = &configsOx[config_menu.selectedItem];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",66
00000082 5D0ECC                  		MOVU.W 0198H[R0], R14
00000085 751E2C                  		MUL #2CH, R14
00000088 FBF2rrrrrrrr            		MOV.L #_configsOx, R15
0000008E 4BEF                    		ADD R14, R15
00000090 FBE2rrrrrrrr            		MOV.L #_configsVar, R14
00000096 E3EF                    		MOV.L R15, [R14]
00000098                         L24:	; bb38.split5
                                 ;      67 	return STATE_CONFIG_VAR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",67
00000098 F8060C                  		MOV.L #0000000CH, [R0]
0000009B                         L25:	; bb48
0000009B EC01                    		MOV.L [R0], R1
0000009D E7016B                  		MOV.L R1, 01ACH[R0]
                                 ;      68 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",68
000000A0 676D                    		RTSD #01B4H
000000A2                         _ut_state_config_menu_pl:
                                 		.STACK	_ut_state_config_menu_pl=440
                                 ;      69 
                                 ;      70 /**
                                 ;      71  * Shows a configuration menu for the machine.
                                 ;      72  *
                                 ;      73  * @param pContext Context object
                                 ;      74  * @return Main menu state
                                 ;      75  */
                                 ;      76 ut_state ut_state_config_menu_pl(ut_context* pContext)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",76
000000A2 72004CFE                		ADD #0FFFFFE4CH, R0
000000A6 E7016C                  		MOV.L R1, 01B0H[R0]
                                 ;      77 {
                                 ;      78 	ut_menu config_menu;
                                 ;      79 	uint8_t i;
                                 ;      80 
                                 ;      81 	/* Initialize variables */
                                 ;      82 	initPl();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",82
000000A9 05rrrrrr             A  		BSR _initPl
000000AD                         L27:	; entry.split
000000AD 710104                  		ADD #04H, R0, R1
                                 ;      83 
                                 ;      84 	/* Initialize menu */
                                 ;      85 	ut_menu_init(&config_menu);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",85
000000B0 05rrrrrr             A  		BSR _ut_menu_init
000000B4                         L28:	; entry.split1
                                 ;      86 
                                 ;      87 	/* Options */
                                 ;      88 	config_menu.title = gszConfigMenuTitle;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",88
000000B4 FBE2rrrrrrrr            		MOV.L #__$gszConfigMenuTitle, R14
000000BA E4E065                  		MOV.L [R14], 0194H[R0]
000000BD                         L29:	; entry.split2
                                 ;      89 	config_menu.currentState = STATE_CONFIG_MENU_PL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",89
000000BD F9066905                		MOV.L #00000005H, 01A4H[R0]
000000C1                         L30:	; entry.split3
                                 ;      90 //	config_menu.offset = 1;
                                 ;      91 	/* Items */
                                 ;      92 	for(i = 0; i < PL_CONFIG_MAX; i++)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",92
000000C1 FA04AB0100              		MOV.B #00H, 01ABH[R0]
000000C6 2Err                 B  		BRA L32
000000C8                         L31:	; bb
                                 ;      93 	{
                                 ;      94 		config_menu.items[config_menu.numItems++].text = configsPl[i].name;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",94
000000C8 5D0ECD                  		MOVU.W 019AH[R0], R14
000000CB 751E14                  		MUL #14H, R14
000000CE 710F04                  		ADD #04H, R0, R15
000000D1 4BEF                    		ADD R14, R15
000000D3 5A01AB01                		MOVU.B 01ABH[R0], R1
000000D7 75112C                  		MUL #2CH, R1
000000DA FBE2rrrrrrrr            		MOV.L #_configsPl, R14
000000E0 4B1E                    		ADD R1, R14
000000E2 E5EF0703                		MOV.L 1CH[R14], 0CH[R15]
000000E6 DD0ECD                  		MOV.W 019AH[R0], R14
000000E9 621E                    		ADD #01H, R14
000000EB D70ECD                  		MOV.W R14, 019AH[R0]
000000EE 5A01AB01                		MOVU.B 01ABH[R0], R1
000000F2 6211                    		ADD #01H, R1
000000F4 CB01AB01                		MOV.B R1, 01ABH[R0]
000000F8                         L32:	; bb23
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",92
000000F8 5A01AB01                		MOVU.B 01ABH[R0], R1
000000FC 6151                    		CMP #05H, R1
000000FE 29rr                    		BLT L31
00000100                         L33:	; bb28
                                 ;      95 	}
                                 ;      96 
                                 ;      97 	/* Show menu */
                                 ;      98 	config_menu.selectedItem = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",98
00000100 F905CC00                		MOV.W #0000H, 0198H[R0]
00000104                         L34:	; bb28.split
00000104 FB26FF                  		MOV.L #0FFFFFFFFH, R2
00000107 710104                  		ADD #04H, R0, R1
                                 ;      99 	if(ut_menu_browse(&config_menu, DEFAULT_CONFIG_TIMEOUT) < 0)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",99
0000010A 05rrrrrr             A  		BSR _ut_menu_browse
0000010E 69F1                    		SHLR #1FH, R1
00000110 6101                    		CMP #00H, R1
00000112 10                   S  		BEQ L36
00000113                         L35:	; bb31
                                 ;     100 	{
                                 ;     101 		return STATE_MAIN_MENU;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",101
00000113 F80602                  		MOV.L #00000002H, [R0]
00000116 2Err                 B  		BRA L40
00000118                         L36:	; bb38
00000118 6611                    		MOV.L #00000001H, R1
                                 ;     102 	}
                                 ;     103 
                                 ;     104 	/* Set selected item */
                                 ;     105 	eepromReadConfig(CONFIGVAR_PL);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",105
0000011A 05rrrrrr             A  		BSR _eepromReadConfig
0000011E                         L37:	; bb38.split
                                 ;     106 	pContext->value[0] = STATE_CONFIG_MENU_PL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",106
0000011E ED016C                  		MOV.L 01B0H[R0], R1
00000121 3C1205                  		MOV.B #05H, 02H[R1]
00000124                         L38:	; bb38.split4
                                 ;     107 	configsVar = &configsPl[config_menu.selectedItem];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",107
00000124 5D0ECC                  		MOVU.W 0198H[R0], R14
00000127 751E2C                  		MUL #2CH, R14
0000012A FBF2rrrrrrrr            		MOV.L #_configsPl, R15
00000130 4BEF                    		ADD R14, R15
00000132 FBE2rrrrrrrr            		MOV.L #_configsVar, R14
00000138 E3EF                    		MOV.L R15, [R14]
0000013A                         L39:	; bb38.split5
                                 ;     108 	return STATE_CONFIG_VAR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",108
0000013A F8060C                  		MOV.L #0000000CH, [R0]
0000013D                         L40:	; bb48
0000013D EC01                    		MOV.L [R0], R1
0000013F E7016B                  		MOV.L R1, 01ACH[R0]
                                 ;     109 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\states\ut_state_config_menu.c",109
00000142 676D                    		RTSD #01B4H
                                 		.SECTION	L,ROMDATA,ALIGN=4
00000000                         _L10:
00000000 434F4E46                		.byte	"CONFIG. DE CORTE"
         49472E20                
         44452043                
         4F525445                
00000010 00                      		.byte	00H
                                 		.SECTION	D,ROMDATA,ALIGN=4
00000000                         __$gszConfigMenuTitle:
00000000 rrrrrrrr                		.lword	_L10
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00319   LINES

Section List

Attr         Size               Name
CODE     0000000324(00000144H)  P
ROMDATA  0000000017(00000011H)  L
ROMDATA  0000000004(00000004H)  D

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx124\$ccrx\ut_state_config_menu.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01\Mobile_build\ut_state_config_menu.lst
-output=C:\Workspace\e2studio\git\MT01\Mobile_build\src\states\ut_state_config_menu.obj
