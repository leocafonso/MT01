* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Tue Feb 28 14:07:26 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  28-Feb-2017 14:07:25
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=r_usb_hstorage_driver.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01\r_lvd_rx,C:\Workspace\e2studio\git\MT01\r_lvd_rx\src,C:/Workspace/e2studio/git/MT01/r_tfa
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=r_usb_hstorage_driver.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=1,EASYMAK=0,MOBILE=0,FREE_RTOS_PP
                                 ;r_usb_hstorage_driver.c
                                 
                                 		.glb	_usb_ghmsc_TransSize
                                 		.glb	_usb_ghmsc_PipeTable
                                 		.glb	_usb_ghmsc_DriveChk
                                 		.glb	_usb_ghmsc_InPipe
                                 		.glb	_usb_ghmsc_MaxDrive
                                 		.glb	_usb_ghmsc_OutPipe
                                 		.glb	_usb_shmsc_StrgProcess
                                 		.glb	_usb_ghmsc_StrgCount
                                 		.glb	_usb_ghmsc_Data
                                 		.glb	_usb_ghmsc_ClassData
                                 		.glb	_usb_shmsc_ClassControl
                                 		.glb	_usb_shmsc_command_result
                                 		.glb	_usb_shmsc_ClassRequest
                                 		.glb	_usb_shmsc_DeviceReady
                                 		.glb	_usb_ghmsc_MaxLUN
                                 		.glb	_usb_shmsc_StrgDriveSearchSeq
                                 		.glb	_usb_shmsc_StrgDriveSearchErrCount
                                 		.glb	_usb_shmsc_StrgDriveSearchCount
                                 		.glb	_usb_shmsc_DevReadPartitionSeq
                                 		.glb	_usb_ghmsc_RootDevaddr
                                 		.glb	_usb_shmsc_NewDrive
                                 		.glb	_usb_shmsc_LoopCont
                                 		.glb	_usb_shmsc_Unit
                                 		.glb	_usb_ghmsc_PartTransSize
                                 		.glb	_usb_hmsc_SmpDevNextDriveSearch
                                 		.glb	_usb_hmsc_StrgDriveSearchAct
                                 		.glb	_R_usb_hmsc_GetMaxUnit
                                 		.glb	_R_usb_cstd_PgetBlk
                                 		.glb	_R_usb_cstd_SndMsg
                                 		.glb	_R_usb_cstd_RelBlk
                                 		.glb	_usb_hmsc_GetMaxUnitCheck
                                 		.glb	_R_usb_hmsc_ref_drvno
                                 		.glb	_usb_cpu_DelayXms
                                 		.glb	_R_usb_hmsc_Inquiry
                                 		.glb	_R_usb_hmsc_ReadFormatCapacity
                                 		.glb	_R_usb_hmsc_ReadCapacity
                                 		.glb	_R_usb_hmsc_TestUnit
                                 		.glb	_usb_hmsc_strg_user_command_result
                                 		.glb	_usb_hmsc_SmpDevReadPartition
                                 		.glb	_usb_hmsc_SmpDevReadPartitionAct
                                 		.glb	_R_usb_hmsc_Read10
                                 		.glb	_usb_hmsc_GetStringDescriptor1
                                 		.glb	_usb_hmsc_GetStringDescriptor2
                                 		.glb	_usb_hmsc_StrgSpecifiedPath
                                 		.glb	_usb_hmsc_StrgCheckResult
                                 		.glb	_usb_hmsc_GetStringDesc
                                 		.glb	_usb_hmsc_CmdSubmit
                                 		.glb	_usb_hmsc_SmpDevCheckBootRecord
                                 		.glb	_usb_cstd_RelBlk
                                 		.glb	_usb_hstd_TransferStart
                                 		.glb	_usb_hmsc_SmpFsiDriveClear
                                 		.glb	_R_usb_hmsc_TaskClose
                                 		.glb	_usb_hmsc_SmpTotalDrive
                                 		.glb	_usb_hmsc_SmpDrive2Unit
                                 		.glb	_usb_hmsc_SmpDrive2Part
                                 		.glb	_usb_hmsc_SmpDrive2Addr
                                 		.glb	_usb_hmsc_SmpDrive2Msgnum
                                 		.glb	_R_usb_cstd_GetUsbIpAdr
                                 		.glb	_usb_hmsc_ClassWait
                                 		.glb	_R_usb_hstd_DeviceInformation
                                 		.glb	_usb_hmsc_StdReqCheck
                                 		.glb	_usb_hmsc_GetStringDescriptor1Check
                                 		.glb	_usb_hmsc_GetStringDescriptor2Check
                                 		.glb	_usb_hmsc_SmpFsiSectorInitialized
                                 		.glb	_usb_cstd_DummyFunction
                                 		.glb	_usb_hmsc_SmpFsiOffsetSectorRead
                                 		.glb	_usb_hmsc_SmpFsiFileSystemInitialized
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _usb_hmsc_SmpDevNextDriveSearch:
                                 		.STACK	_usb_hmsc_SmpDevNextDriveSearch=16
                                 ;       1 /***********************************************************************************************************************
                                 ;       2 * DISCLAIMER
                                 ;       3 * This software is supplied by Renesas Electronics Corporation and is only intended for use with Renesas products. No
                                 ;       4 * other uses are authorized. This software is owned by Renesas Electronics Corporation and is protected under all
                                 ;       5 * applicable laws, including copyright laws.
                                 ;       6 * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES REGARDING
                                 ;       7 * THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY,
                                 ;       8 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. ALL SUCH WARRANTIES ARE EXPRESSLY DISCLAIMED. TO THE MAXIMUM
                                 ;       9 * EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS ELECTRONICS CORPORATION NOR ANY OF ITS AFFILIATED COMPANIES
                                 ;      10 * SHALL BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES FOR ANY REASON RELATED TO THIS
                                 ;      11 * SOFTWARE, EVEN IF RENESAS OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                                 ;      12 * Renesas reserves the right, without notice, to make changes to this software and to discontinue the availability of
                                 ;      13 * this software. By using this software, you agree to the additional terms and conditions found by accessing the
                                 ;      14 * following link:
                                 ;      15 * http://www.renesas.com/disclaimer
                                 ;      16 *
                                 ;      17 * Copyright (C) 2014(2015) Renesas Electronics Corporation. All rights reserved.
                                 ;      18 ***********************************************************************************************************************/
                                 ;      19 /***********************************************************************************************************************
                                 ;      20 * File Name    : r_usb_hstorage_driver.c
                                 ;      21 * Description  : USB sample data declaration
                                 ;      22 ***********************************************************************************************************************/
                                 ;      23 /**********************************************************************************************************************
                                 ;      24 * History : DD.MM.YYYY Version Description
                                 ;      25 *         : 04.01.2014 1.00 First Release
                                 ;      26 *         : 30.01.2015 1.01    Support Multi device.
                                 ;      27 ***********************************************************************************************************************/
                                 ;      28 
                                 ;      29 /******************************************************************************
                                 ;      30 Includes   <System Includes> , "Project Includes"
                                 ;      31 ******************************************************************************/
                                 ;      32 #include "r_usb_basic_if.h"
                                 ;      33 #include "r_usb_hatapi_define.h"    /* Peripheral ATAPI Device extern */
                                 ;      34 #include "r_usb_hmsc_define.h"      /* Host Mass Storage Class Driver */
                                 ;      35 #include "r_usb_hmsc_extern.h"      /* MSC global definition */
                                 ;      36 
                                 ;      37 #include "r_usb_api.h"
                                 ;      38 #include "r_usb_hmsc_config.h"
                                 ;      39 #include "r_usb_hmsc_if.h"
                                 ;      40 
                                 ;      41 /******************************************************************************
                                 ;      42 Renesas Abstracted Peripheral Driver functions
                                 ;      43 ******************************************************************************/
                                 ;      44 
                                 ;      45 /******************************************************************************
                                 ;      46 Function Name   : usb_hmsc_SmpDevNextDriveSearch
                                 ;      47 Description     : Next drive search
                                 ;      48 Arguments       : none
                                 ;      49 Return value    : uint16_t             : 
                                 ;      50 ******************************************************************************/
                                 ;      51 uint16_t usb_hmsc_SmpDevNextDriveSearch(USB_UTR_t *ptr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",51
00000000 60C0                    		SUB #0CH, R0
00000002 A081                    		MOV.L R1, 08H[R0]
                                 ;      52 {
                                 ;      53     uint16_t i;
                                 ;      54 
                                 ;      55     for( i = 0; i < USB_MAXDRIVE; i++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",55
00000004 3D0200                  		MOV.W #0000H, 04H[R0]
00000007 2Err                 B  		BRA L14
00000009                         L11:	; bb3
                                 ;      56     {
                                 ;      57         if( usb_ghmsc_DriveChk[i][0] == USB_NO )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",57
00000009 B881                    		MOVU.W 04H[R0], R1
0000000B EF1E                    		MOV.L R1, R14
0000000D 63CE                    		MUL #0CH, R14
0000000F FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R15
00000015 4BEF                    		ADD R14, R15
00000017 5CFE                    		MOVU.W [R15], R14
00000019 610E                    		CMP #00H, R14
0000001B 18                   S  		BNE L13
0000001C                         L12:	; bb4
                                 ;      58         {
                                 ;      59             return i;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",59
0000001C 9009                    		MOV.W R1, 02H[R0]
0000001E 2Err                 B  		BRA L16
00000020                         L13:	; bb16
00000020 6211                    		ADD #01H, R1
00000022 9081                    		MOV.W R1, 04H[R0]
00000024                         L14:	; bb19
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",55
00000024 B881                    		MOVU.W 04H[R0], R1
00000026 755110                  		CMP #10H, R1
00000029 29rr                    		BLT L11
0000002B                         L15:	; bb25
                                 ;      60         }
                                 ;      61     }
                                 ;      62     return (uint16_t)0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",62
0000002B 3D0100                  		MOV.W #0000H, 02H[R0]
0000002E                         L16:	; bb27
0000002E D5000103                		MOV.W 02H[R0], 06H[R0]
                                 ;      63 }   /* eof usb_hmsc_SmpDevNextDriveSearch() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",63
00000032 B889                    		MOVU.W 06H[R0], R1
00000034 6703                    		RTSD #0CH
00000036                         _usb_hmsc_StrgDriveSearchAct:
                                 		.STACK	_usb_hmsc_StrgDriveSearchAct=48
                                 ;      64 
                                 ;      65 
                                 ;      66 /******************************************************************************
                                 ;      67 Function Name   : usb_hmsc_StrgDriveSearchAct
                                 ;      68 Description     : Storage drive search
                                 ;      69 Arguments       : USB_CLSINFO_t *mess   : Message
                                 ;      70 Return value    : none
                                 ;      71 ******************************************************************************/
                                 ;      72 void usb_hmsc_StrgDriveSearchAct(USB_CLSINFO_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",72
00000036 7EA6                    		PUSH.L R6
00000038 7100D8                  		ADD #0FFFFFFD8H, R0
0000003B A209                    		MOV.L R1, 24H[R0]
                                 ;      73 {
                                 ;      74     uint32_t    j, result;
                                 ;      75     uint16_t    resultk;
                                 ;      76 /* Condition compilation by the difference of quality control */
                                 ;      77  #ifdef USB_DEBUGPRINT_PP
                                 ;      78     uint32_t    i;
                                 ;      79     uint8_t     pdata[32];
                                 ;      80  #endif /* USB_DEBUGPRINT_PP */
                                 ;      81     uint16_t    offset, new_count, addr;
                                 ;      82     USB_ER_t err,err2;
                                 ;      83     USB_MH_t p_blf;
                                 ;      84     USB_CLSINFO_t *cp;
                                 ;      85     uint16_t    drive_no;
                                 ;      86 
                                 ;      87     switch( usb_shmsc_StrgDriveSearchSeq[mess->ip] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",87
0000003D B991                    		MOVU.W 0CH[R1], R1
0000003F FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000045 FED1EE                  		MOVU.W [R1,R14], R14
00000048 619E                    		CMP #09H, R14
0000004A 25rr                  * 		BGTU L137
         38rrrr                  
0000004F                         L18:	; entry
0000004F FBF2rrrrrrrr            		MOV.L #L142, R15
00000055 FE5EFE                  		.swmov L142, R14, R15, R14
00000058                         L143:
00000058 7F4E                    		BRA.L R14
0000005A                         L19:	; bb
                                 ;      88     {
                                 ;      89     case USB_SEQ_0:
                                 ;      90         USB_PRINTF0("\n*** Drive search !\n");
                                 ;      91         /* Unit number set */
                                 ;      92         addr = mess -> keyword;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",92
0000005A AA09                    		MOV.L 24H[R0], R1
0000005C D5100307                		MOV.W 06H[R1], 0EH[R0]
00000060                         L20:	; bb.split
                                 ;      93         usb_ghmsc_RootDevaddr[mess->ip] = addr;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",93
00000060 AA09                    		MOV.L 24H[R0], R1
00000062 B991                    		MOVU.W 0CH[R1], R1
00000064 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
0000006A 998A                    		MOV.W 0EH[R0], R2
0000006C FE11E2                  		MOV.W R2, [R1,R14]
0000006F                         L21:	; bb.split1
                                 ;      94         usb_shmsc_command_result[mess->ip] = mess->complete;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",94
0000006F AA09                    		MOV.L 24H[R0], R1
00000071 A912                    		MOV.L 10H[R1], R2
00000073 B991                    		MOVU.W 0CH[R1], R1
00000075 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_command_result, R14
0000007B FE21E2                  		MOV.L R2, [R1,R14]
0000007E                         L22:	; bb.split2
                                 ;      95 
                                 ;      96         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",96
0000007E AA09                    		MOV.L 24H[R0], R1
00000080 B991                    		MOVU.W 0CH[R1], R1
00000082 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000088 FBFA0106                		MOV.L #00000601H, R15
0000008C FE11EF                  		MOV.W R15, [R1,R14]
0000008F                         L23:	; bb.split3
                                 ;      97         err = R_usb_hmsc_GetMaxUnit(mess, addr, (USB_CB_t)usb_hmsc_StrgCheckResult);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",97
0000008F B98A                    		MOVU.W 0EH[R0], R2
00000091 AA09                    		MOV.L 24H[R0], R1
00000093 FB32rrrrrrrr            		MOV.L #_usb_hmsc_StrgCheckResult, R3
00000099 05rrrrrr             A  		BSR _R_usb_hmsc_GetMaxUnit
0000009D A101                    		MOV.L R1, 10H[R0]
0000009F                         L24:	; bb.split4
                                 ;      98         if( err == USB_E_QOVR )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",98
0000009F A901                    		MOV.L 10H[R0], R1
000000A1 7501D5                  		CMP #0FFFFFFD5H, R1
000000A4 21rr                    		BNE L38
000000A6                         L25:	; bb45
000000A6 710218                  		ADD #18H, R0, R2
000000A9 6651                    		MOV.L #00000005H, R1
                                 ;      99         {
                                 ;     100             /* Resend message */
                                 ;     101             err = R_USB_PGET_BLK(USB_HSTRG_MPL, &p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",101
000000AB 05rrrrrr             A  		BSR _R_usb_cstd_PgetBlk
000000AF A101                    		MOV.L R1, 10H[R0]
000000B1                         L26:	; bb45.split
                                 ;     102             if( err == USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",102
000000B1 A901                    		MOV.L 10H[R0], R1
000000B3 6101                    		CMP #00H, R1
000000B5 3Brrrr               W  		BNE L141
000000B8                         L27:	; bb49
                                 ;     103             {
                                 ;     104                 cp = (USB_CLSINFO_t*)p_blf;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",104
000000B8 E5000607                		MOV.L 18H[R0], 1CH[R0]
000000BC                         L28:	; bb49.split
                                 ;     105                 cp->msginfo = mess -> msginfo;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",105
000000BC AA09                    		MOV.L 24H[R0], R1
000000BE A98A                    		MOV.L 1CH[R0], R2
000000C0 D5120202                		MOV.W 04H[R1], 04H[R2]
000000C4                         L29:	; bb49.split5
                                 ;     106                 cp->keyword = mess -> keyword;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",106
000000C4 AA09                    		MOV.L 24H[R0], R1
000000C6 A98A                    		MOV.L 1CH[R0], R2
000000C8 D5120303                		MOV.W 06H[R1], 06H[R2]
000000CC                         L30:	; bb49.split6
                                 ;     107                 cp->result  = mess -> result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",107
000000CC AA09                    		MOV.L 24H[R0], R1
000000CE A98A                    		MOV.L 1CH[R0], R2
000000D0 D5120707                		MOV.W 0EH[R1], 0EH[R2]
000000D4                         L31:	; bb49.split7
                                 ;     108                 cp->complete = mess->complete;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",108
000000D4 AA09                    		MOV.L 24H[R0], R1
000000D6 A98A                    		MOV.L 1CH[R0], R2
000000D8 E5120404                		MOV.L 10H[R1], 10H[R2]
000000DC                         L32:	; bb49.split8
                                 ;     109                 cp->ip      = mess->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",109
000000DC AA09                    		MOV.L 24H[R0], R1
000000DE A98A                    		MOV.L 1CH[R0], R2
000000E0 D5120606                		MOV.W 0CH[R1], 0CH[R2]
000000E4                         L33:	; bb49.split9
                                 ;     110                 cp->ipp     = mess->ipp;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",110
000000E4 AA09                    		MOV.L 24H[R0], R1
000000E6 A98A                    		MOV.L 1CH[R0], R2
000000E8 E5120202                		MOV.L 08H[R1], 08H[R2]
000000EC                         L34:	; bb49.split10
                                 ;     111 
                                 ;     112                 /* Send message */
                                 ;     113                 err = R_USB_SND_MSG(USB_HSTRG_MBX, (USB_MSG_t*)p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",113
000000EC A982                    		MOV.L 18H[R0], R2
000000EE 6651                    		MOV.L #00000005H, R1
000000F0 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
000000F4 A101                    		MOV.L R1, 10H[R0]
000000F6                         L35:	; bb49.split11
                                 ;     114                 if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",114
000000F6 A901                    		MOV.L 10H[R0], R1
000000F8 6101                    		CMP #00H, R1
000000FA 3Arrrr               W  		BEQ L141
000000FD                         L36:	; bb88
                                 ;     115                 {
                                 ;     116                     USB_PRINTF1("### hmsc_StrgDriveSearch snd_msg error (%ld)\n", err);
                                 ;     117                     err2 = R_USB_REL_BLK(USB_HSTRG_MPL, (USB_MH_t)p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",117
000000FD A982                    		MOV.L 18H[R0], R2
000000FF 6651                    		MOV.L #00000005H, R1
00000101 05rrrrrr             A  		BSR _R_usb_cstd_RelBlk
00000105 A109                    		MOV.L R1, 14H[R0]
00000107                         L37:	; bb88.split
                                 ;     118                     if( err2 != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",118
00000107 3F660B                  		RTSD #2CH, R6-R6
0000010A                         L38:	; bb109
                                 ;     119                     {
                                 ;     120                         USB_PRINTF1("### hmsc_StrgDriveSearch rel_blk error (%ld)\n", err2);
                                 ;     121                     }
                                 ;     122                 }
                                 ;     123             }
                                 ;     124             else
                                 ;     125             {
                                 ;     126                 USB_PRINTF1("### hmsc_StrgDriveSearch pget_blk error (%ld)\n", err);
                                 ;     127             }
                                 ;     128         }
                                 ;     129         else
                                 ;     130         {
                                 ;     131             usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",131
0000010A AA09                    		MOV.L 24H[R0], R1
0000010C B991                    		MOVU.W 0CH[R1], R1
0000010E FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000114 FE51EF                  		MOV.W [R1,R14], R15
00000117 621F                    		ADD #01H, R15
00000119 FE11EF                  		MOV.W R15, [R1,R14]
0000011C 3F660B                  		RTSD #2CH, R6-R6
0000011F                         L39:	; bb122
                                 ;     132         }
                                 ;     133         break;
                                 ;     134     case USB_SEQ_1:
                                 ;     135         addr = usb_ghmsc_RootDevaddr[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",135
0000011F AA09                    		MOV.L 24H[R0], R1
00000121 B991                    		MOVU.W 0CH[R1], R1
00000123 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
00000129 FE51E1                  		MOV.W [R1,R14], R1
0000012C 9189                    		MOV.W R1, 0EH[R0]
0000012E                         L40:	; bb122.split
                                 ;     136 
                                 ;     137         /* Get MAX_LUN */
                                 ;     138         usb_ghmsc_MaxLUN[mess->ip] =  usb_hmsc_GetMaxUnitCheck(mess, mess->result);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",138
0000012E AA09                    		MOV.L 24H[R0], R1
00000130 B99A                    		MOVU.W 0EH[R1], R2
00000132 B996                    		MOVU.W 0CH[R1], R6
00000134 05rrrrrr             A  		BSR _usb_hmsc_GetMaxUnitCheck
00000138 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
0000013E FE26E1                  		MOV.L R1, [R6,R14]
00000141                         L41:	; bb122.split12
                                 ;     139         if( usb_ghmsc_MaxLUN[mess->ip] == USB_ERROR )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",139
00000141 AA09                    		MOV.L 24H[R0], R1
00000143 B991                    		MOVU.W 0CH[R1], R1
00000145 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
0000014B FE61EE                  		MOV.L [R1,R14], R14
0000014E 770EFFFF00              		CMP #0FFFFH, R14
00000153 21rr                    		BNE L43
00000155                         L42:	; bb141
                                 ;     140         {
                                 ;     141             usb_ghmsc_MaxLUN[mess->ip] = (uint16_t)0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",141
00000155 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
0000015B 660F                    		MOV.L #00000000H, R15
0000015D FE21EF                  		MOV.L R15, [R1,R14]
00000160 2Err                 B  		BRA L45
00000162                         L43:	; bb148
                                 ;     142             USB_PRINTF1("*** Unit information error, set unit number %d !\n", usb_ghmsc_MaxLUN[mess->ip]);
                                 ;     143         }
                                 ;     144         else if( usb_ghmsc_MaxLUN[mess->ip] > (uint32_t)USB_MAXUNITNUM )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",144
00000162 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
00000168 FE61EE                  		MOV.L [R1,R14], R14
0000016B 615E                    		CMP #05H, R14
0000016D 23rr                    		BLTU L45
0000016F                         L44:	; bb149
                                 ;     145         {
                                 ;     146             USB_PRINTF2("*** Max Unit number(%d) is error, set unit number %d !\n", usb_ghmsc_MaxLUN[mess->ip], USB_MAXUNITNUM);
                                 ;     147             usb_ghmsc_MaxLUN[mess->ip] = USB_MAXUNITNUM - 1u;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",147
0000016F AA09                    		MOV.L 24H[R0], R1
00000171 B991                    		MOVU.W 0CH[R1], R1
00000173 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
00000179 663F                    		MOV.L #00000003H, R15
0000017B FE21EF                  		MOV.L R15, [R1,R14]
0000017E                         L45:	; bb175
                                 ;     148         }
                                 ;     149         else
                                 ;     150         {
                                 ;     151             USB_PRINTF1(" Unit number is %d\n", usb_ghmsc_MaxLUN[mess->ip]);
                                 ;     152         }
                                 ;     153 
                                 ;     154         drive_no = R_usb_hmsc_ref_drvno( mess->ip, addr );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",154
0000017E AA09                    		MOV.L 24H[R0], R1
00000180 B991                    		MOVU.W 0CH[R1], R1
00000182 B98A                    		MOVU.W 0EH[R0], R2
00000184 05rrrrrr             A  		BSR _R_usb_hmsc_ref_drvno
00000188 9409                    		MOV.W R1, 22H[R0]
0000018A                         L46:	; bb175.split
                                 ;     155 
                                 ;     156         /* Set pipe information */
                                 ;     157         offset  = (uint16_t)( 2u * USB_EPL * drive_no );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",157
0000018A BC09                    		MOVU.W 22H[R0], R1
0000018C 63C1                    		MUL #0CH, R1
0000018E 9109                    		MOV.W R1, 0AH[R0]
00000190                         L47:	; bb175.split13
                                 ;     158         usb_ghmsc_PipeTable[mess->ip][offset + 3u] |= (uint16_t)(addr << USB_DEVADDRBIT);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",158
00000190 AA09                    		MOV.L 24H[R0], R1
00000192 B991                    		MOVU.W 0CH[R1], R1
00000194 6C21                    		SHLL #02H, R1
00000196 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
0000019C 4B1E                    		ADD R1, R14
0000019E B909                    		MOVU.W 0AH[R0], R1
000001A0 6C11                    		SHLL #01H, R1
000001A2 0688E1                  		ADD [R14].L, R1
000001A5 998A                    		MOV.W 0EH[R0], R2
000001A7 6CC2                    		SHLL #0CH, R2
000001A9 06551203                		OR 06H[R1].W, R2
000001AD 909A                    		MOV.W R2, 06H[R1]
000001AF                         L48:	; bb175.split14
                                 ;     159         usb_ghmsc_PipeTable[mess->ip][(offset + 3u) + USB_EPL] |= (uint16_t)(addr << USB_DEVADDRBIT);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",159
000001AF AA09                    		MOV.L 24H[R0], R1
000001B1 B991                    		MOVU.W 0CH[R1], R1
000001B3 6C21                    		SHLL #02H, R1
000001B5 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
000001BB 4B1E                    		ADD R1, R14
000001BD B909                    		MOVU.W 0AH[R0], R1
000001BF 6C11                    		SHLL #01H, R1
000001C1 0688E1                  		ADD [R14].L, R1
000001C4 998A                    		MOV.W 0EH[R0], R2
000001C6 6CC2                    		SHLL #0CH, R2
000001C8 06551209                		OR 12H[R1].W, R2
000001CC 921A                    		MOV.W R2, 12H[R1]
000001CE                         L49:	; bb175.split15
000001CE 754164                  		MOV.L #00000064H, R1
                                 ;     160 
                                 ;     161         /* Check connection */
                                 ;     162         USB_PRINTF0("\nPlease wait device ready\n");
                                 ;     163         usb_cpu_DelayXms(100);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",163
000001D1 05rrrrrr             A  		BSR _usb_cpu_DelayXms
000001D5                         L50:	; bb175.split16
                                 ;     164         /* Drive yes */
                                 ;     165         usb_ghmsc_DriveChk[USB_MAXDRIVE][0] = USB_YES;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",165
000001D5 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000001DB F9E56001                		MOV.W #0001H, 0C0H[R14]
000001DF                         L51:	; bb175.split17
                                 ;     166         /* Device address */
                                 ;     167         usb_ghmsc_DriveChk[USB_MAXDRIVE][3] = addr;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",167
000001DF FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000001E5 D50E0763                		MOV.W 0EH[R0], 0C6H[R14]
000001E9                         L52:	; bb175.split18
                                 ;     168         usb_ghmsc_DriveChk[USB_MAXDRIVE][5] = mess->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",168
000001E9 AA09                    		MOV.L 24H[R0], R1
000001EB FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000001F1 D51E0665                		MOV.W 0CH[R1], 0CAH[R14]
000001F5                         L53:	; bb175.split19
                                 ;     169 
                                 ;     170         /* Device number */
                                 ;     171         usb_ghmsc_DriveChk[USB_MAXDRIVE][4] = drive_no;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",171
000001F5 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000001FB D50E1164                		MOV.W 22H[R0], 0C8H[R14]
000001FF                         L54:	; bb175.split20
                                 ;     172 
                                 ;     173         usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",173
000001FF AA09                    		MOV.L 24H[R0], R1
00000201 B991                    		MOVU.W 0CH[R1], R1
00000203 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000209 FE51EF                  		MOV.W [R1,R14], R15
0000020C 621F                    		ADD #01H, R15
0000020E FE11EF                  		MOV.W R15, [R1,R14]
00000211                         L55:	; bb175.split21
                                 ;     174         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",174
00000211 AA09                    		MOV.L 24H[R0], R1
00000213 B991                    		MOVU.W 0CH[R1], R1
00000215 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000021B FBFA0106                		MOV.L #00000601H, R15
0000021F FE11EF                  		MOV.W R15, [R1,R14]
00000222                         L56:	; bb175.split22
                                 ;     175         usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",175
00000222 AA09                    		MOV.L 24H[R0], R1
00000224 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
00000227 3F660B                  		RTSD #2CH, R6-R6
0000022A                         L57:	; bb242
                                 ;     176         break;
                                 ;     177     case USB_SEQ_2:
                                 ;     178         addr = usb_ghmsc_RootDevaddr[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",178
0000022A AA09                    		MOV.L 24H[R0], R1
0000022C B991                    		MOVU.W 0CH[R1], R1
0000022E FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
00000234 FE51E1                  		MOV.W [R1,R14], R1
00000237 9189                    		MOV.W R1, 0EH[R0]
00000239                         L58:	; bb242.split
                                 ;     179         /* Unit Number */
                                 ;     180         usb_ghmsc_DriveChk[USB_MAXDRIVE][1] = (uint16_t)usb_shmsc_StrgDriveSearchCount[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",180
00000239 AA09                    		MOV.L 24H[R0], R1
0000023B B991                    		MOVU.W 0CH[R1], R1
0000023D FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000243 FE51EE                  		MOV.W [R1,R14], R14
00000246 FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R15
0000024C D7FE61                  		MOV.W R14, 0C2H[R15]
0000024F                         L59:	; bb242.split23
                                 ;     181         /* Inquiry */
                                 ;     182         resultk = R_usb_hmsc_Inquiry(mess, USB_MAXDRIVE, (uint8_t*)&usb_ghmsc_Data[mess->ip]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",182
0000024F AA09                    		MOV.L 24H[R0], R1
00000251 B992                    		MOVU.W 0CH[R1], R2
00000253 76120014                		MUL #1400H, R2
00000257 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R3
0000025D 4B23                    		ADD R2, R3
0000025F 754210                  		MOV.L #00000010H, R2
00000262 05rrrrrr             A  		BSR _R_usb_hmsc_Inquiry
00000266 9101                    		MOV.W R1, 08H[R0]
00000268                         L60:	; bb242.split24
                                 ;     183         usb_shmsc_DeviceReady[usb_shmsc_StrgDriveSearchCount[mess->ip]] = USB_PDT_UNKNOWN;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",183
00000268 AA09                    		MOV.L 24H[R0], R1
0000026A B991                    		MOVU.W 0CH[R1], R1
0000026C FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000272 FED1EE                  		MOVU.W [R1,R14], R14
00000275 FBF2rrrrrrrr            		MOV.L #_usb_shmsc_DeviceReady, R15
0000027B 75451F                  		MOV.L #0000001FH, R5
0000027E FE0FE5                  		MOV.B R5, [R15,R14]
00000281                         L61:	; bb242.split25
                                 ;     184         
                                 ;     185         usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",185
00000281 AA09                    		MOV.L 24H[R0], R1
00000283 B991                    		MOVU.W 0CH[R1], R1
00000285 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
0000028B FE51EF                  		MOV.W [R1,R14], R15
0000028E 621F                    		ADD #01H, R15
00000290 FE11EF                  		MOV.W R15, [R1,R14]
00000293                         L62:	; bb242.split26
                                 ;     186         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",186
00000293 AA09                    		MOV.L 24H[R0], R1
00000295 B991                    		MOVU.W 0CH[R1], R1
00000297 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000029D FBFA0106                		MOV.L #00000601H, R15
000002A1 FE11EF                  		MOV.W R15, [R1,R14]
000002A4 3F660B                  		RTSD #2CH, R6-R6
000002A7                         L63:	; bb283
                                 ;     187         break;
                                 ;     188     case USB_SEQ_3:
                                 ;     189         addr = usb_ghmsc_RootDevaddr[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",189
000002A7 AA09                    		MOV.L 24H[R0], R1
000002A9 B991                    		MOVU.W 0CH[R1], R1
000002AB FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
000002B1 FE51E1                  		MOV.W [R1,R14], R1
000002B4 9189                    		MOV.W R1, 0EH[R0]
000002B6                         L64:	; bb283.split
                                 ;     190         resultk = mess -> result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",190
000002B6 AA09                    		MOV.L 24H[R0], R1
000002B8 D5100704                		MOV.W 0EH[R1], 08H[R0]
000002BC                         L65:	; bb283.split27
                                 ;     191         if( resultk == USB_HMSC_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",191
000002BC B901                    		MOVU.W 08H[R0], R1
000002BE 6101                    		CMP #00H, R1
000002C0 3Brrrr               W  		BNE L73
000002C3                         L66:	; bb294
                                 ;     192         {
                                 ;     193             usb_shmsc_DeviceReady[usb_shmsc_StrgDriveSearchCount[mess->ip]] = usb_ghmsc_Data[mess->ip][0];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",193
000002C3 AA09                    		MOV.L 24H[R0], R1
000002C5 B991                    		MOVU.W 0CH[R1], R1
000002C7 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
000002CD FED1EE                  		MOVU.W [R1,R14], R14
000002D0 76110014                		MUL #1400H, R1
000002D4 FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R15
000002DA FECF1F                  		MOVU.B [R15,R1], R15
000002DD FB52rrrrrrrr            		MOV.L #_usb_shmsc_DeviceReady, R5
000002E3 FE05EF                  		MOV.B R15, [R5,R14]
000002E6                         L67:	; bb294.split
                                 ;     194 /* Condition compilation by the difference of quality control */
                                 ;     195  #ifdef USB_DEBUGPRINT_PP
                                 ;     196             /* Unit number */
                                 ;     197             for( i = (uint32_t)0; i < (uint32_t)8; i++ )
                                 ;     198             {
                                 ;     199                 pdata[i] = usb_ghmsc_Data[mess->ip][i + (uint32_t)8];
                                 ;     200             }
                                 ;     201             USB_PRINTF1("\n    Unit number %d .\n", usb_shmsc_StrgDriveSearchCount[mess->ip]);
                                 ;     202             pdata[8] = 0;
                                 ;     203             USB_PRINTF1("    Vender Identification : %s\n", pdata);
                                 ;     204             /* Product Identification */
                                 ;     205             for( i = (uint32_t)0; i < (uint32_t)16; i++ )
                                 ;     206             {
                                 ;     207                 pdata[i] = usb_ghmsc_Data[mess->ip][i + (uint32_t)16];
                                 ;     208             }
                                 ;     209             pdata[16] = 0;
                                 ;     210             USB_PRINTF1("    Product Identification : %s\n", pdata);
                                 ;     211  #endif /* USB_DEBUGPRINT_PP*/
                                 ;     212             usb_shmsc_StrgDriveSearchErrCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",212
000002E6 AA09                    		MOV.L 24H[R0], R1
000002E8 B991                    		MOVU.W 0CH[R1], R1
000002EA FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
000002F0 660F                    		MOV.L #00000000H, R15
000002F2 FE11EF                  		MOV.W R15, [R1,R14]
000002F5                         L68:	; bb294.split28
                                 ;     213             usb_shmsc_StrgDriveSearchCount[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",213
000002F5 AA09                    		MOV.L 24H[R0], R1
000002F7 B991                    		MOVU.W 0CH[R1], R1
000002F9 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
000002FF FE51EF                  		MOV.W [R1,R14], R15
00000302 621F                    		ADD #01H, R15
00000304 FE11EF                  		MOV.W R15, [R1,R14]
00000307                         L69:	; bb294.split29
                                 ;     214             usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_2;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",214
00000307 AA09                    		MOV.L 24H[R0], R1
00000309 B991                    		MOVU.W 0CH[R1], R1
0000030B FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000311 662F                    		MOV.L #00000002H, R15
00000313 FE11EF                  		MOV.W R15, [R1,R14]
00000316                         L70:	; bb294.split30
                                 ;     215 
                                 ;     216             if( usb_shmsc_StrgDriveSearchCount[mess->ip] > usb_ghmsc_MaxLUN[mess->ip] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",216
00000316 AA09                    		MOV.L 24H[R0], R1
00000318 B991                    		MOVU.W 0CH[R1], R1
0000031A FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000320 FED1EE                  		MOVU.W [R1,R14], R14
00000323 FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R15
00000329 FE61FF                  		MOV.L [R1,R15], R15
0000032C 47FE                    		CMP R15, R14
0000032E 24rr                  * 		BLEU L88
         38rrrr                  
00000333                         L71:	; bb329
                                 ;     217             {
                                 ;     218                 usb_shmsc_StrgDriveSearchCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",218
00000333 AA09                    		MOV.L 24H[R0], R1
00000335 B991                    		MOVU.W 0CH[R1], R1
00000337 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
0000033D 660F                    		MOV.L #00000000H, R15
0000033F FE11EF                  		MOV.W R15, [R1,R14]
00000342                         L72:	; bb329.split
                                 ;     219                 usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_4;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",219
00000342 AA09                    		MOV.L 24H[R0], R1
00000344 B991                    		MOVU.W 0CH[R1], R1
00000346 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
0000034C 664F                    		MOV.L #00000004H, R15
0000034E FE11EF                  		MOV.W R15, [R1,R14]
00000351 38rrrr               W  		BRA L88
00000354                         L73:	; bb358
                                 ;     220             }
                                 ;     221 
                                 ;     222         }
                                 ;     223         else if( resultk == USB_HMSC_CSW_ERR )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",223
00000354 B901                    		MOVU.W 08H[R0], R1
00000356 7701FBFF00              		CMP #0FFFBH, R1
0000035B AA09                    		MOV.L 24H[R0], R1
0000035D B991                    		MOVU.W 0CH[R1], R1
0000035F 3Brrrr               W  		BNE L82
00000362                         L74:	; bb359
                                 ;     224         {
                                 ;     225             /* Inquiry error */
                                 ;     226             USB_PRINTF1("### inquiry error ( %d times )\n", (usb_shmsc_StrgDriveSearchErrCount[mess->ip] + 1));
                                 ;     227             usb_shmsc_StrgDriveSearchErrCount[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",227
00000362 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
00000368 FE51EF                  		MOV.W [R1,R14], R15
0000036B 621F                    		ADD #01H, R15
0000036D FE11EF                  		MOV.W R15, [R1,R14]
00000370                         L75:	; bb359.split
                                 ;     228             usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_2;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",228
00000370 AA09                    		MOV.L 24H[R0], R1
00000372 B991                    		MOVU.W 0CH[R1], R1
00000374 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
0000037A 662F                    		MOV.L #00000002H, R15
0000037C FE11EF                  		MOV.W R15, [R1,R14]
0000037F                         L76:	; bb359.split31
                                 ;     229             if( usb_shmsc_StrgDriveSearchErrCount[mess->ip] >= 3 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",229
0000037F AA09                    		MOV.L 24H[R0], R1
00000381 B991                    		MOVU.W 0CH[R1], R1
00000383 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
00000389 FED1EE                  		MOVU.W [R1,R14], R14
0000038C 613E                    		CMP #03H, R14
0000038E 28rr                  * 		BLT L88
         38rrrr                  
00000393                         L77:	; bb373
                                 ;     230             {
                                 ;     231                 usb_shmsc_StrgDriveSearchErrCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",231
00000393 AA09                    		MOV.L 24H[R0], R1
00000395 B991                    		MOVU.W 0CH[R1], R1
00000397 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
0000039D 660F                    		MOV.L #00000000H, R15
0000039F FE11EF                  		MOV.W R15, [R1,R14]
000003A2                         L78:	; bb373.split
                                 ;     232                 usb_shmsc_StrgDriveSearchCount[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",232
000003A2 AA09                    		MOV.L 24H[R0], R1
000003A4 B991                    		MOVU.W 0CH[R1], R1
000003A6 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
000003AC FE51EF                  		MOV.W [R1,R14], R15
000003AF 621F                    		ADD #01H, R15
000003B1 FE11EF                  		MOV.W R15, [R1,R14]
000003B4                         L79:	; bb373.split32
                                 ;     233                 if( usb_shmsc_StrgDriveSearchCount[mess->ip] > usb_ghmsc_MaxLUN[mess->ip] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",233
000003B4 AA09                    		MOV.L 24H[R0], R1
000003B6 B991                    		MOVU.W 0CH[R1], R1
000003B8 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
000003BE FED1EE                  		MOVU.W [R1,R14], R14
000003C1 FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R15
000003C7 FE61FF                  		MOV.L [R1,R15], R15
000003CA 47FE                    		CMP R15, R14
000003CC 24rr                  * 		BLEU L88
         38rrrr                  
000003D1                         L80:	; bb387
                                 ;     234                 {
                                 ;     235                     usb_shmsc_StrgDriveSearchCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",235
000003D1 AA09                    		MOV.L 24H[R0], R1
000003D3 B991                    		MOVU.W 0CH[R1], R1
000003D5 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
000003DB 660F                    		MOV.L #00000000H, R15
000003DD FE11EF                  		MOV.W R15, [R1,R14]
000003E0                         L81:	; bb387.split
                                 ;     236                     usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_4;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",236
000003E0 AA09                    		MOV.L 24H[R0], R1
000003E2 B991                    		MOVU.W 0CH[R1], R1
000003E4 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
000003EA 664F                    		MOV.L #00000004H, R15
000003EC FE11EF                  		MOV.W R15, [R1,R14]
000003EF 2Err                 B  		BRA L88
000003F1                         L82:	; bb426
                                 ;     237                 }
                                 ;     238             }
                                 ;     239         }
                                 ;     240         else
                                 ;     241         {
                                 ;     242             USB_PRINTF0("### inquiry error\n");
                                 ;     243 
                                 ;     244             usb_shmsc_StrgDriveSearchErrCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",244
000003F1 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
000003F7 660F                    		MOV.L #00000000H, R15
000003F9 FE11EF                  		MOV.W R15, [R1,R14]
000003FC                         L83:	; bb426.split
                                 ;     245             usb_shmsc_StrgDriveSearchCount[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",245
000003FC AA09                    		MOV.L 24H[R0], R1
000003FE B991                    		MOVU.W 0CH[R1], R1
00000400 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000406 FE51EF                  		MOV.W [R1,R14], R15
00000409 621F                    		ADD #01H, R15
0000040B FE11EF                  		MOV.W R15, [R1,R14]
0000040E                         L84:	; bb426.split33
                                 ;     246             usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_2;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",246
0000040E AA09                    		MOV.L 24H[R0], R1
00000410 B991                    		MOVU.W 0CH[R1], R1
00000412 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000418 662F                    		MOV.L #00000002H, R15
0000041A FE11EF                  		MOV.W R15, [R1,R14]
0000041D                         L85:	; bb426.split34
                                 ;     247 
                                 ;     248             if( usb_shmsc_StrgDriveSearchCount[mess->ip] > usb_ghmsc_MaxLUN[mess->ip] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",248
0000041D AA09                    		MOV.L 24H[R0], R1
0000041F B991                    		MOVU.W 0CH[R1], R1
00000421 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000427 FED1EE                  		MOVU.W [R1,R14], R14
0000042A FBF2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R15
00000430 FE61FF                  		MOV.L [R1,R15], R15
00000433 47FE                    		CMP R15, R14
00000435 25rr                    		BLEU L88
00000437                         L86:	; bb445
                                 ;     249             {
                                 ;     250                 usb_shmsc_StrgDriveSearchCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",250
00000437 AA09                    		MOV.L 24H[R0], R1
00000439 B991                    		MOVU.W 0CH[R1], R1
0000043B FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000441 660F                    		MOV.L #00000000H, R15
00000443 FE11EF                  		MOV.W R15, [R1,R14]
00000446                         L87:	; bb445.split
                                 ;     251                 usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_4;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",251
00000446 AA09                    		MOV.L 24H[R0], R1
00000448 B991                    		MOVU.W 0CH[R1], R1
0000044A FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000450 664F                    		MOV.L #00000004H, R15
00000452 FE11EF                  		MOV.W R15, [R1,R14]
00000455                         L88:	; bb484
                                 ;     252             }
                                 ;     253         }
                                 ;     254         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",254
00000455 AA09                    		MOV.L 24H[R0], R1
00000457 B991                    		MOVU.W 0CH[R1], R1
00000459 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000045F FBFA0106                		MOV.L #00000601H, R15
00000463 FE11EF                  		MOV.W R15, [R1,R14]
00000466                         L89:	; bb484.split
                                 ;     255         usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",255
00000466 AA09                    		MOV.L 24H[R0], R1
00000468 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
0000046B 3F660B                  		RTSD #2CH, R6-R6
0000046E                         L90:	; bb491
                                 ;     256         break;
                                 ;     257 
                                 ;     258     case USB_SEQ_4:
                                 ;     259         /* Read Format Capacity */
                                 ;     260         R_usb_hmsc_ReadFormatCapacity(mess, USB_MAXDRIVE
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",260
0000046E AA09                    		MOV.L 24H[R0], R1
00000470 B992                    		MOVU.W 0CH[R1], R2
00000472 76120014                		MUL #1400H, R2
00000476 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R3
0000047C 4B23                    		ADD R2, R3
0000047E 754210                  		MOV.L #00000010H, R2
00000481 05rrrrrr             A  		BSR _R_usb_hmsc_ReadFormatCapacity
00000485                         L91:	; bb491.split
                                 ;     261             , (uint8_t*)&usb_ghmsc_Data[mess->ip]);
                                 ;     262         usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",262
00000485 AA09                    		MOV.L 24H[R0], R1
00000487 B991                    		MOVU.W 0CH[R1], R1
00000489 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
0000048F FE51EF                  		MOV.W [R1,R14], R15
00000492 621F                    		ADD #01H, R15
00000494 FE11EF                  		MOV.W R15, [R1,R14]
00000497                         L92:	; bb491.split35
                                 ;     263         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",263
00000497 AA09                    		MOV.L 24H[R0], R1
00000499 B991                    		MOVU.W 0CH[R1], R1
0000049B FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
000004A1 FBFA0106                		MOV.L #00000601H, R15
000004A5 FE11EF                  		MOV.W R15, [R1,R14]
000004A8 3F660B                  		RTSD #2CH, R6-R6
000004AB                         L93:	; bb512
                                 ;     264         break;
                                 ;     265 
                                 ;     266     case USB_SEQ_5:
                                 ;     267         /* Read Capacity */
                                 ;     268         R_usb_hmsc_ReadCapacity(mess, USB_MAXDRIVE, (uint8_t*)&usb_ghmsc_Data[mess->ip]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",268
000004AB AA09                    		MOV.L 24H[R0], R1
000004AD B992                    		MOVU.W 0CH[R1], R2
000004AF 76120014                		MUL #1400H, R2
000004B3 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R3
000004B9 4B23                    		ADD R2, R3
000004BB 754210                  		MOV.L #00000010H, R2
000004BE 05rrrrrr             A  		BSR _R_usb_hmsc_ReadCapacity
000004C2                         L94:	; bb512.split
                                 ;     269         usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",269
000004C2 AA09                    		MOV.L 24H[R0], R1
000004C4 B991                    		MOVU.W 0CH[R1], R1
000004C6 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
000004CC FE51EF                  		MOV.W [R1,R14], R15
000004CF 621F                    		ADD #01H, R15
000004D1 FE11EF                  		MOV.W R15, [R1,R14]
000004D4                         L95:	; bb512.split36
                                 ;     270         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",270
000004D4 AA09                    		MOV.L 24H[R0], R1
000004D6 B991                    		MOVU.W 0CH[R1], R1
000004D8 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
000004DE FBFA0106                		MOV.L #00000601H, R15
000004E2 FE11EF                  		MOV.W R15, [R1,R14]
000004E5 3F660B                  		RTSD #2CH, R6-R6
000004E8                         L96:	; bb533
                                 ;     271         break;
                                 ;     272 
                                 ;     273     case USB_SEQ_6:
                                 ;     274         resultk = mess -> result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",274
000004E8 AA09                    		MOV.L 24H[R0], R1
000004EA D5100704                		MOV.W 0EH[R1], 08H[R0]
000004EE                         L97:	; bb533.split
                                 ;     275         if( resultk != USB_HMSC_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",275
000004EE B901                    		MOVU.W 08H[R0], R1
000004F0 6101                    		CMP #00H, R1
000004F2 AA09                    		MOV.L 24H[R0], R1
000004F4 20rr                    		BEQ L101
000004F6                         L98:	; bb538
000004F6 754210                  		MOV.L #00000010H, R2
                                 ;     276         {
                                 ;     277             /* TestUnitReady */
                                 ;     278             R_usb_hmsc_TestUnit(mess, USB_MAXDRIVE);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",278
000004F9 05rrrrrr             A  		BSR _R_usb_hmsc_TestUnit
000004FD                         L99:	; bb538.split
                                 ;     279             usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",279
000004FD AA09                    		MOV.L 24H[R0], R1
000004FF B991                    		MOVU.W 0CH[R1], R1
00000501 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000507 FE51EF                  		MOV.W [R1,R14], R15
0000050A 621F                    		ADD #01H, R15
0000050C FE11EF                  		MOV.W R15, [R1,R14]
0000050F                         L100:	; bb538.split37
                                 ;     280             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",280
0000050F AA09                    		MOV.L 24H[R0], R1
00000511 B991                    		MOVU.W 0CH[R1], R1
00000513 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000519 FBFA0106                		MOV.L #00000601H, R15
0000051D FE11EF                  		MOV.W R15, [R1,R14]
00000520 3F660B                  		RTSD #2CH, R6-R6
00000523                         L101:	; bb553
                                 ;     281         }
                                 ;     282         else
                                 ;     283         {
                                 ;     284             /* Pass TestUnitReady  */
                                 ;     285             usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_8;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",285
00000523 B991                    		MOVU.W 0CH[R1], R1
00000525 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
0000052B 668F                    		MOV.L #00000008H, R15
0000052D FE11EF                  		MOV.W R15, [R1,R14]
00000530                         L102:	; bb553.split
                                 ;     286             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",286
00000530 AA09                    		MOV.L 24H[R0], R1
00000532 B991                    		MOVU.W 0CH[R1], R1
00000534 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000053A FBFA0106                		MOV.L #00000601H, R15
0000053E FE11EF                  		MOV.W R15, [R1,R14]
00000541                         L103:	; bb553.split38
                                 ;     287             usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",287
00000541 AA09                    		MOV.L 24H[R0], R1
00000543 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
00000546 3F660B                  		RTSD #2CH, R6-R6
00000549                         L104:	; bb571
                                 ;     288         };
                                 ;     289         break;
                                 ;     290 
                                 ;     291     case USB_SEQ_7:
                                 ;     292         resultk = mess -> result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",292
00000549 AA09                    		MOV.L 24H[R0], R1
0000054B D5100704                		MOV.W 0EH[R1], 08H[R0]
0000054F                         L105:	; bb571.split
                                 ;     293         if( resultk != USB_HMSC_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",293
0000054F B901                    		MOVU.W 08H[R0], R1
00000551 6101                    		CMP #00H, R1
00000553 AA09                    		MOV.L 24H[R0], R1
00000555 20rr                    		BEQ L109
00000557                         L106:	; bb576
00000557 754210                  		MOV.L #00000010H, R2
                                 ;     294         {
                                 ;     295             /* TestUnitReady */
                                 ;     296             R_usb_hmsc_TestUnit(mess, USB_MAXDRIVE);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",296
0000055A 05rrrrrr             A  		BSR _R_usb_hmsc_TestUnit
0000055E                         L107:	; bb576.split
                                 ;     297             usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_7;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",297
0000055E AA09                    		MOV.L 24H[R0], R1
00000560 B991                    		MOVU.W 0CH[R1], R1
00000562 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000568 667F                    		MOV.L #00000007H, R15
0000056A FE11EF                  		MOV.W R15, [R1,R14]
0000056D                         L108:	; bb576.split39
                                 ;     298             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",298
0000056D AA09                    		MOV.L 24H[R0], R1
0000056F B991                    		MOVU.W 0CH[R1], R1
00000571 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000577 FBFA0106                		MOV.L #00000601H, R15
0000057B FE11EF                  		MOV.W R15, [R1,R14]
0000057E 3F660B                  		RTSD #2CH, R6-R6
00000581                         L109:	; bb589
                                 ;     299         }
                                 ;     300         else
                                 ;     301         {
                                 ;     302             /* Read Capacity */
                                 ;     303             R_usb_hmsc_ReadCapacity(mess, USB_MAXDRIVE, (uint8_t*)&usb_ghmsc_Data[mess->ip]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",303
00000581 AA0A                    		MOV.L 24H[R0], R2
00000583 B9A2                    		MOVU.W 0CH[R2], R2
00000585 76120014                		MUL #1400H, R2
00000589 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R3
0000058F 4B23                    		ADD R2, R3
00000591 754210                  		MOV.L #00000010H, R2
00000594 05rrrrrr             A  		BSR _R_usb_hmsc_ReadCapacity
00000598                         L110:	; bb589.split
                                 ;     304             usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",304
00000598 AA09                    		MOV.L 24H[R0], R1
0000059A B991                    		MOVU.W 0CH[R1], R1
0000059C FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
000005A2 FE51EF                  		MOV.W [R1,R14], R15
000005A5 621F                    		ADD #01H, R15
000005A7 FE11EF                  		MOV.W R15, [R1,R14]
000005AA                         L111:	; bb589.split40
                                 ;     305             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",305
000005AA AA09                    		MOV.L 24H[R0], R1
000005AC B991                    		MOVU.W 0CH[R1], R1
000005AE FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
000005B4 FBFA0106                		MOV.L #00000601H, R15
000005B8 FE11EF                  		MOV.W R15, [R1,R14]
000005BB 3F660B                  		RTSD #2CH, R6-R6
000005BE                         L112:	; bb616
                                 ;     306         };
                                 ;     307         break;
                                 ;     308 
                                 ;     309     case USB_SEQ_8:
                                 ;     310         addr = usb_ghmsc_RootDevaddr[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",310
000005BE AA09                    		MOV.L 24H[R0], R1
000005C0 B991                    		MOVU.W 0CH[R1], R1
000005C2 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
000005C8 FE51E1                  		MOV.W [R1,R14], R1
000005CB 9189                    		MOV.W R1, 0EH[R0]
000005CD                         L113:	; bb616.split
                                 ;     311         /* Read & set partition information */
                                 ;     312         USB_PRINTF0("\nPartition information\n");
                                 ;     313         result = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",313
000005CD 3E0100                  		MOV.L #00000000H, 04H[R0]
000005D0                         L114:	; bb616.split41
                                 ;     314         for( j = (uint32_t)0; j <= usb_ghmsc_MaxLUN[mess->ip]; j++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",314
000005D0 F80600                  		MOV.L #00000000H, [R0]
000005D3 2Err                 B  		BRA L120
000005D5                         L115:	; bb623
                                 ;     315         {
                                 ;     316             /* Set sector size & block address */
                                 ;     317             switch( usb_shmsc_DeviceReady[j] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",317
000005D5 EC01                    		MOV.L [R0], R1
000005D7 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DeviceReady, R14
000005DD FECE1E                  		MOVU.B [R14,R1], R14
000005E0 610E                    		CMP #00H, R14
000005E2 21rr                    		BNE L119
000005E4                         L116:	; bb628
                                 ;     318             {
                                 ;     319             case USB_PDT_DIRECT:
                                 ;     320                 USB_PRINTF1("    Unit %d is direct access device.\n", j);
                                 ;     321                 /* Unit Number */
                                 ;     322                 usb_ghmsc_DriveChk[USB_MAXDRIVE][1] = (uint16_t)j;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",322
000005E4 EC01                    		MOV.L [R0], R1
000005E6 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000005EC D7E161                  		MOV.W R1, 0C2H[R14]
000005EF                         L117:	; bb628.split
                                 ;     323                 offset = usb_hmsc_SmpDevReadPartition(mess, (uint16_t)j, (uint32_t)512);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",323
000005EF 5C02                    		MOVU.W [R0], R2
000005F1 AA09                    		MOV.L 24H[R0], R1
000005F3 FB3A0002                		MOV.L #00000200H, R3
000005F7 39rrrr               W  		BSR _usb_hmsc_SmpDevReadPartition
000005FA 9109                    		MOV.W R1, 0AH[R0]
000005FC                         L118:	; bb628.split42
                                 ;     324                 result++;                                   
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",324
000005FC A809                    		MOV.L 04H[R0], R1
000005FE 6211                    		ADD #01H, R1
00000600 A009                    		MOV.L R1, 04H[R0]
00000602                         L119:	; bb643
00000602 EC01                    		MOV.L [R0], R1
00000604 6211                    		ADD #01H, R1
00000606 E301                    		MOV.L R1, [R0]
00000608                         L120:	; bb646
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",314
00000608 AA09                    		MOV.L 24H[R0], R1
0000060A B991                    		MOVU.W 0CH[R1], R1
0000060C FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
00000612 FE61EE                  		MOV.L [R1,R14], R14
00000615 EC01                    		MOV.L [R0], R1
00000617 47E1                    		CMP R14, R1
00000619 25rr                    		BLEU L115
0000061B                         L121:	; bb657
                                 ;     325                 break;
                                 ;     326             case USB_PDT_SEQUENTIAL:
                                 ;     327                 /* Not support: Sequential device */
                                 ;     328                 USB_PRINTF1("### Unit %d sequential device.(not support)\n", j);
                                 ;     329                 break;
                                 ;     330             case USB_PDT_WRITEONCE:
                                 ;     331                 /* Not support: Write once device */
                                 ;     332                 USB_PRINTF1("### Unit %d write once device.(not support)\n", j);
                                 ;     333                 break;
                                 ;     334             case USB_PDT_CDROM:
                                 ;     335                 /* Not support: CD-ROM device */
                                 ;     336                 USB_PRINTF1("### Unit %d CD-ROM device.(not support)\n", j);
                                 ;     337                 break;
                                 ;     338             case USB_PDT_OPTICAL:
                                 ;     339                 /* Not support: Optivasl device */
                                 ;     340                 USB_PRINTF1("### Unit %d optivasl device.(not support)\n", j);
                                 ;     341                 break;
                                 ;     342             case USB_PDT_UNKNOWN:
                                 ;     343                 /* Not support: Unknown device */
                                 ;     344                 USB_PRINTF1("### Unit %d unknown device.(not support)\n", j);
                                 ;     345                 break;
                                 ;     346             default:
                                 ;     347                 /* Not support: Not direct access device */
                                 ;     348                 USB_PRINTF1("### Unit %d is not direct access device.(not support)\n", j);
                                 ;     349                 break;
                                 ;     350             }
                                 ;     351         }
                                 ;     352         usb_shmsc_StrgDriveSearchSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",352
0000061B AA09                    		MOV.L 24H[R0], R1
0000061D B991                    		MOVU.W 0CH[R1], R1
0000061F FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
00000625 FE51EF                  		MOV.W [R1,R14], R15
00000628 621F                    		ADD #01H, R15
0000062A FE11EF                  		MOV.W R15, [R1,R14]
0000062D                         L122:	; bb657.split
                                 ;     353         if( result == 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",353
0000062D A809                    		MOV.L 04H[R0], R1
0000062F 6101                    		CMP #00H, R1
00000631 3Brrrr               W  		BNE L141
00000634                         L123:	; bb666
                                 ;     354         {
                                 ;     355             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",355
00000634 AA09                    		MOV.L 24H[R0], R1
00000636 B991                    		MOVU.W 0CH[R1], R1
00000638 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000063E FBFA0106                		MOV.L #00000601H, R15
00000642 FE11EF                  		MOV.W R15, [R1,R14]
00000645                         L124:	; bb666.split
                                 ;     356             usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",356
00000645 AA09                    		MOV.L 24H[R0], R1
00000647 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
0000064A 3F660B                  		RTSD #2CH, R6-R6
0000064D                         L125:	; bb678
                                 ;     357 
                                 ;     358         }   
                                 ;     359         break;
                                 ;     360 
                                 ;     361     case USB_SEQ_9:
                                 ;     362         addr = usb_ghmsc_RootDevaddr[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",362
0000064D AA09                    		MOV.L 24H[R0], R1
0000064F B991                    		MOVU.W 0CH[R1], R1
00000651 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_RootDevaddr, R14
00000657 FE51E1                  		MOV.W [R1,R14], R1
0000065A 9189                    		MOV.W R1, 0EH[R0]
0000065C                         L126:	; bb678.split
                                 ;     363         new_count = USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",363
0000065C F90906FFFF              		MOV.W #0FFFFH, 0CH[R0]
00000661                         L127:	; bb678.split43
                                 ;     364         for( j = (uint32_t)0; j <= usb_ghmsc_MaxLUN[mess->ip]; j++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",364
00000661 F80600                  		MOV.L #00000000H, [R0]
00000664 2Err                 B  		BRA L131
00000666                         L128:	; bb686
                                 ;     365         {
                                 ;     366             /* Set sector size & block address */
                                 ;     367             if( usb_shmsc_DeviceReady[j] == USB_PDT_DIRECT )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",367
00000666 EC01                    		MOV.L [R0], R1
00000668 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DeviceReady, R14
0000066E FECE1E                  		MOVU.B [R14,R1], R14
00000671 610E                    		CMP #00H, R14
00000673 18                   S  		BNE L130
00000674                         L129:	; bb687
                                 ;     368             {
                                 ;     369                 new_count = mess->result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",369
00000674 AA09                    		MOV.L 24H[R0], R1
00000676 D5100706                		MOV.W 0EH[R1], 0CH[R0]
0000067A                         L130:	; bb698
0000067A EC01                    		MOV.L [R0], R1
0000067C 6211                    		ADD #01H, R1
0000067E E301                    		MOV.L R1, [R0]
00000680                         L131:	; bb701
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",364
00000680 AA09                    		MOV.L 24H[R0], R1
00000682 B991                    		MOVU.W 0CH[R1], R1
00000684 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxLUN, R14
0000068A FE61EE                  		MOV.L [R1,R14], R14
0000068D EC01                    		MOV.L [R0], R1
0000068F 47E1                    		CMP R14, R1
00000691 25rr                    		BLEU L128
00000693                         L132:	; bb713
                                 ;     370             }
                                 ;     371         }
                                 ;     372         if( new_count == USB_DONE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",372
00000693 B981                    		MOVU.W 0CH[R0], R1
00000695 6101                    		CMP #00H, R1
00000697 21rr                    		BNE L134
00000699                         L133:	; bb714
                                 ;     373         {
                                 ;     374             usb_ghmsc_StrgCount++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",374
00000699 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_StrgCount, R14
0000069F DCEF                    		MOV.W [R14], R15
000006A1 621F                    		ADD #01H, R15
000006A3 D3EF                    		MOV.W R15, [R14]
000006A5                         L134:	; bb722
                                 ;     375         }
                                 ;     376         (usb_shmsc_command_result[mess->ip])( (USB_UTR_t *)mess, addr, 0 );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",376
000006A5 AA09                    		MOV.L 24H[R0], R1
000006A7 B992                    		MOVU.W 0CH[R1], R2
000006A9 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_command_result, R14
000006AF FE62EE                  		MOV.L [R2,R14], R14
000006B2 B98A                    		MOVU.W 0EH[R0], R2
000006B4 6603                    		MOV.L #00000000H, R3
000006B6 7F1E                    		JSR R14
000006B8                         L135:	; bb722.split
                                 ;     377 
                                 ;     378         usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",378
000006B8 AA09                    		MOV.L 24H[R0], R1
000006BA B991                    		MOVU.W 0CH[R1], R1
000006BC FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
000006C2 660F                    		MOV.L #00000000H, R15
000006C4 FE11EF                  		MOV.W R15, [R1,R14]
000006C7                         L136:	; bb722.split44
                                 ;     379         usb_shmsc_StrgProcess[mess->ip] = USB_NONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",379
000006C7 AA09                    		MOV.L 24H[R0], R1
000006C9 B991                    		MOVU.W 0CH[R1], R1
000006CB FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
000006D1 660F                    		MOV.L #00000000H, R15
000006D3 FE11EF                  		MOV.W R15, [R1,R14]
000006D6 3F660B                  		RTSD #2CH, R6-R6
000006D9                         L137:	; bb741
                                 ;     380         break;
                                 ;     381     default:
                                 ;     382         usb_shmsc_StrgProcess[mess->ip] = USB_NONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",382
000006D9 AA09                    		MOV.L 24H[R0], R1
000006DB B991                    		MOVU.W 0CH[R1], R1
000006DD FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
000006E3 660F                    		MOV.L #00000000H, R15
000006E5 FE11EF                  		MOV.W R15, [R1,R14]
000006E8                         L138:	; bb741.split
                                 ;     383         usb_shmsc_StrgDriveSearchSeq[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",383
000006E8 AA09                    		MOV.L 24H[R0], R1
000006EA B991                    		MOVU.W 0CH[R1], R1
000006EC FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchSeq, R14
000006F2 660F                    		MOV.L #00000000H, R15
000006F4 FE11EF                  		MOV.W R15, [R1,R14]
000006F7                         L139:	; bb741.split45
                                 ;     384         usb_shmsc_StrgDriveSearchCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",384
000006F7 AA09                    		MOV.L 24H[R0], R1
000006F9 B991                    		MOVU.W 0CH[R1], R1
000006FB FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchCount, R14
00000701 660F                    		MOV.L #00000000H, R15
00000703 FE11EF                  		MOV.W R15, [R1,R14]
00000706                         L140:	; bb741.split46
                                 ;     385         usb_shmsc_StrgDriveSearchErrCount[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",385
00000706 AA09                    		MOV.L 24H[R0], R1
00000708 B991                    		MOVU.W 0CH[R1], R1
0000070A FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgDriveSearchErrCount, R14
00000710 660F                    		MOV.L #00000000H, R15
00000712 FE11EF                  		MOV.W R15, [R1,R14]
00000715 3F660B                  		RTSD #2CH, R6-R6
00000718                         L141:	; return
                                 ;     386         break;
                                 ;     387     }
                                 ;     388 }   /* eof usb_hmsc_StrgDriveSearchAct() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",388
00000718 3F660B                  		RTSD #2CH, R6-R6
0000071B                         _usb_hmsc_strg_user_command_result:
                                 		.STACK	_usb_hmsc_strg_user_command_result=8
                                 ;     389 
                                 ;     390 /******************************************************************************
                                 ;     391 Function Name   : usb_hmsc_strg_user_command_result
                                 ;     392 Description     : Storage drive search
                                 ;     393 Arguments       : USB_CLSINFO_t *mess   : Message
                                 ;     394 Return value    : none
                                 ;     395 ******************************************************************************/
                                 ;     396 void usb_hmsc_strg_user_command_result(USB_CLSINFO_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",396
0000071B 6040                    		SUB #04H, R0
0000071D E301                    		MOV.L R1, [R0]
                                 ;     397 {
                                 ;     398     (usb_shmsc_command_result[mess->ip])( (USB_UTR_t *)mess, 0, 0 );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",398
0000071F B992                    		MOVU.W 0CH[R1], R2
00000721 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_command_result, R14
00000727 FE62EE                  		MOV.L [R2,R14], R14
0000072A 6602                    		MOV.L #00000000H, R2
0000072C EF23                    		MOV.L R2, R3
0000072E 7F1E                    		JSR R14
00000730 6701                    		RTSD #04H
00000732                         _usb_hmsc_SmpDevReadPartition:
                                 		.STACK	_usb_hmsc_SmpDevReadPartition=32
                                 ;     399 }   /* eof usb_hmsc_strg_user_command_result() */
                                 ;     400 
                                 ;     401 /******************************************************************************
                                 ;     402 Function Name   : usb_hmsc_SmpDevReadPartition
                                 ;     403 Description     : Searches drive SndMsg
                                 ;     404 Arguments       : uint16_t unit        : Unit
                                 ;     405                 : uint32_t trans_byte  : Trans byte
                                 ;     406 Return value    : uint16_t
                                 ;     407 ******************************************************************************/
                                 ;     408 uint16_t usb_hmsc_SmpDevReadPartition(USB_UTR_t *ptr, uint16_t unit, uint32_t trans_byte)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",408
00000732 7100E4                  		ADD #0FFFFFFE4H, R0
00000735 A181                    		MOV.L R1, 18H[R0]
00000737 928A                    		MOV.W R2, 16H[R0]
00000739 A103                    		MOV.L R3, 10H[R0]
                                 ;     409 {
                                 ;     410     USB_MH_t            p_blf;
                                 ;     411     USB_ER_t            err;
                                 ;     412     USB_CLSINFO_t       *cp;
                                 ;     413 
                                 ;     414     usb_shmsc_DevReadPartitionSeq[ptr->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",414
0000073B A981                    		MOV.L 18H[R0], R1
0000073D B991                    		MOVU.W 0CH[R1], R1
0000073F FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DevReadPartitionSeq, R14
00000745 660F                    		MOV.L #00000000H, R15
00000747 FE11EF                  		MOV.W R15, [R1,R14]
0000074A                         L146:	; entry.split
0000074A EF02                    		MOV.L R0, R2
0000074C 6651                    		MOV.L #00000005H, R1
                                 ;     415 
                                 ;     416     /* Get mem pool blk */
                                 ;     417     if( R_USB_PGET_BLK(USB_HSTRG_MPL, &p_blf) == USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",417
0000074E 05rrrrrr             A  		BSR _R_usb_cstd_PgetBlk
00000752 6101                    		CMP #00H, R1
00000754 21rr                    		BNE L156
00000756                         L147:	; bb12
                                 ;     418     {
                                 ;     419         cp = (USB_CLSINFO_t*)p_blf;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",419
00000756 E40002                  		MOV.L [R0], 08H[R0]
00000759                         L148:	; bb12.split
                                 ;     420         cp->msginfo = USB_MSG_HMSC_DEV_READ_PARTITION;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",420
00000759 A881                    		MOV.L 08H[R0], R1
0000075B F919020306              		MOV.W #0603H, 04H[R1]
00000760                         L149:	; bb12.split1
                                 ;     421         cp->keyword = unit;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",421
00000760 9A89                    		MOV.W 16H[R0], R1
00000762 A882                    		MOV.L 08H[R0], R2
00000764 90A9                    		MOV.W R1, 06H[R2]
00000766                         L150:	; bb12.split2
                                 ;     422         usb_ghmsc_TransSize[ptr->ip] = trans_byte;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",422
00000766 A981                    		MOV.L 18H[R0], R1
00000768 B991                    		MOVU.W 0CH[R1], R1
0000076A FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_TransSize, R14
00000770 A902                    		MOV.L 10H[R0], R2
00000772 FE21E2                  		MOV.L R2, [R1,R14]
00000775                         L151:	; bb12.split3
                                 ;     423 
                                 ;     424         cp->ip      = ptr->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",424
00000775 A981                    		MOV.L 18H[R0], R1
00000777 A882                    		MOV.L 08H[R0], R2
00000779 D5120606                		MOV.W 0CH[R1], 0CH[R2]
0000077D                         L152:	; bb12.split4
                                 ;     425         cp->ipp     = ptr->ipp;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",425
0000077D A981                    		MOV.L 18H[R0], R1
0000077F A882                    		MOV.L 08H[R0], R2
00000781 E5120202                		MOV.L 08H[R1], 08H[R2]
00000785                         L153:	; bb12.split5
                                 ;     426 
                                 ;     427         /* Send message */
                                 ;     428         err = R_USB_SND_MSG( USB_HSTRG_MBX, (USB_MSG_t*)p_blf );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",428
00000785 EC02                    		MOV.L [R0], R2
00000787 6651                    		MOV.L #00000005H, R1
00000789 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
0000078D A009                    		MOV.L R1, 04H[R0]
0000078F                         L154:	; bb12.split6
                                 ;     429         if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",429
0000078F A809                    		MOV.L 04H[R0], R1
00000791 6101                    		CMP #00H, R1
00000793 20rr                    		BEQ L156
00000795                         L155:	; bb42
                                 ;     430         {
                                 ;     431             err = R_USB_REL_BLK(USB_HSTRG_MPL,(USB_MH_t)p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",431
00000795 EC02                    		MOV.L [R0], R2
00000797 6651                    		MOV.L #00000005H, R1
00000799 05rrrrrr             A  		BSR _R_usb_cstd_RelBlk
0000079D A009                    		MOV.L R1, 04H[R0]
0000079F                         L156:	; bb56
                                 ;     432             USB_PRINTF0("### DevReadSectorSize function snd_msg error\n");
                                 ;     433         }
                                 ;     434     }
                                 ;     435     else
                                 ;     436     {
                                 ;     437         USB_PRINTF0("### DevReadSectorSize function pget_blk error\n");
                                 ;     438     }   
                                 ;     439     return (USB_DONE);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",439
0000079F 3D0700                  		MOV.W #0000H, 0EH[R0]
000007A2 9989                    		MOV.W 0EH[R0], R1
000007A4                         L157:	; bb56.split
                                 ;     440 }   /* eof usb_hmsc_SmpDevReadPartition() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",440
000007A4 5F11                    		MOVU.W R1, R1
000007A6 6707                    		RTSD #1CH
000007A8                         _usb_hmsc_SmpDevReadPartitionAct:
                                 		.STACK	_usb_hmsc_SmpDevReadPartitionAct=60
                                 ;     441 
                                 ;     442 /******************************************************************************
                                 ;     443 Function Name   : usb_hmsc_SmpDevReadPartitionAct
                                 ;     444 Description     : Drive read partition
                                 ;     445 Arguments       : USB_CLSINFO_t *mess : Message
                                 ;     446 Return value    : uint16_t            : [USB_DONE/USB_ERROR]
                                 ;     447 ******************************************************************************/
                                 ;     448 uint16_t usb_hmsc_SmpDevReadPartitionAct(USB_CLSINFO_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",448
000007A8 7100D0                  		ADD #0FFFFFFD0H, R0
000007AB A289                    		MOV.L R1, 2CH[R0]
                                 ;     449 {
                                 ;     450     uint32_t    i;
                                 ;     451     uint16_t    result;
                                 ;     452     uint16_t    new_drive, parcount = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",452
000007AD 3D0400                  		MOV.W #0000H, 08H[R0]
000007B0                         L159:	; entry.split
                                 ;     453     uint16_t    unit;
                                 ;     454     uint8_t     partition_info[USB_BOOTPARTNUM];
                                 ;     455     uint32_t    partition_lba[USB_BOOTPARTNUM + 1u];
                                 ;     456     uint32_t    trans_byte;
                                 ;     457 
                                 ;     458     trans_byte = usb_ghmsc_TransSize[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",458
000007B0 AA89                    		MOV.L 2CH[R0], R1
000007B2 B991                    		MOVU.W 0CH[R1], R1
000007B4 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_TransSize, R14
000007BA FE61E1                  		MOV.L [R1,R14], R1
000007BD A209                    		MOV.L R1, 24H[R0]
000007BF                         L160:	; entry.split1
                                 ;     459     new_drive = usb_shmsc_NewDrive[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",459
000007BF AA89                    		MOV.L 2CH[R0], R1
000007C1 B991                    		MOVU.W 0CH[R1], R1
000007C3 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_NewDrive, R14
000007C9 FE51E1                  		MOV.W [R1,R14], R1
000007CC 9089                    		MOV.W R1, 06H[R0]
000007CE                         L161:	; entry.split2
                                 ;     460 
                                 ;     461     switch( usb_shmsc_DevReadPartitionSeq[mess->ip] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",461
000007CE AA89                    		MOV.L 2CH[R0], R1
000007D0 B991                    		MOVU.W 0CH[R1], R1
000007D2 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DevReadPartitionSeq, R14
000007D8 FED1EE                  		MOVU.W [R1,R14], R14
000007DB 611E                    		CMP #01H, R14
000007DD 3Arrrr               W  		BEQ L174
000007E0                         L162:	; entry.split2
000007E0 610E                    		CMP #00H, R14
000007E2 3Brrrr               W  		BNE L214
000007E5                         L163:	; bb29
                                 ;     462     {
                                 ;     463     case USB_SEQ_0:
                                 ;     464         if( usb_shmsc_LoopCont[mess->ip] == USB_SEQ_0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",464
000007E5 AA89                    		MOV.L 2CH[R0], R1
000007E7 B991                    		MOVU.W 0CH[R1], R1
000007E9 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_LoopCont, R14
000007EF FED1EE                  		MOVU.W [R1,R14], R14
000007F2 610E                    		CMP #00H, R14
000007F4 21rr                    		BNE L166
000007F6                         L164:	; bb30
                                 ;     465         {
                                 ;     466             usb_shmsc_Unit[mess->ip] = mess->keyword;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",466
000007F6 AA8A                    		MOV.L 2CH[R0], R2
000007F8 98AA                    		MOV.W 06H[R2], R2
000007FA FBE2rrrrrrrr            		MOV.L #_usb_shmsc_Unit, R14
00000800 FE11E2                  		MOV.W R2, [R1,R14]
00000803                         L165:	; bb30.split
                                 ;     467             usb_ghmsc_PartTransSize[mess->ip] = trans_byte;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",467
00000803 AA89                    		MOV.L 2CH[R0], R1
00000805 B991                    		MOVU.W 0CH[R1], R1
00000807 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PartTransSize, R14
0000080D AA0A                    		MOV.L 24H[R0], R2
0000080F FE11E2                  		MOV.W R2, [R1,R14]
00000812 2Err                 B  		BRA L167
00000814                         L166:	; bb46
                                 ;     468         }
                                 ;     469         else
                                 ;     470         {
                                 ;     471             trans_byte = usb_ghmsc_PartTransSize[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",471
00000814 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PartTransSize, R14
0000081A FED1E1                  		MOVU.W [R1,R14], R1
0000081D A209                    		MOV.L R1, 24H[R0]
0000081F                         L167:	; bb63
                                 ;     472         }
                                 ;     473         partition_lba[0]                = (uint32_t)0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",473
0000081F 3E0400                  		MOV.L #00000000H, 10H[R0]
00000822                         L168:	; bb63.split
                                 ;     474         partition_lba[USB_BOOTPARTNUM]  = (uint32_t)0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",474
00000822 3E0800                  		MOV.L #00000000H, 20H[R0]
00000825                         L169:	; bb63.split3
                                 ;     475     
                                 ;     476         /* set drive number */
                                 ;     477         new_drive = usb_hmsc_SmpDevNextDriveSearch(mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",477
00000825 AA89                    		MOV.L 2CH[R0], R1
00000827 39rrrr               W  		BSR _usb_hmsc_SmpDevNextDriveSearch
0000082A 9089                    		MOV.W R1, 06H[R0]
0000082C                         L170:	; bb63.split4
                                 ;     478         usb_shmsc_NewDrive[mess->ip] = new_drive;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",478
0000082C AA89                    		MOV.L 2CH[R0], R1
0000082E B991                    		MOVU.W 0CH[R1], R1
00000830 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_NewDrive, R14
00000836 988A                    		MOV.W 06H[R0], R2
00000838 FE11E2                  		MOV.W R2, [R1,R14]
0000083B                         L171:	; bb63.split5
                                 ;     479 
                                 ;     480         /* Read10 */
                                 ;     481         result = R_usb_hmsc_Read10(
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",481
0000083B AA89                    		MOV.L 2CH[R0], R1
0000083D B992                    		MOVU.W 0CH[R1], R2
0000083F AA0B                    		MOV.L 24H[R0], R3
00000841 A904                    		MOV.L 10H[R0], R4
00000843 6080                    		SUB #08H, R0
00000845 A00B                    		MOV.L R3, 04H[R0]
00000847 F80501                  		MOV.W #0001H, [R0]
0000084A 76120014                		MUL #1400H, R2
0000084E FB32rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R3
00000854 4B23                    		ADD R2, R3
00000856 754210                  		MOV.L #00000010H, R2
00000859 05rrrrrr             A  		BSR _R_usb_hmsc_Read10
0000085D 6280                    		ADD #08H, R0
0000085F 9081                    		MOV.W R1, 04H[R0]
00000861                         L172:	; bb63.split6
                                 ;     482                     mess, USB_MAXDRIVE, (uint8_t*)&usb_ghmsc_Data[mess->ip], partition_lba[0], (uint16_t)1, trans_byte);
                                 ;     483         usb_shmsc_DevReadPartitionSeq[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",483
00000861 AA89                    		MOV.L 2CH[R0], R1
00000863 B991                    		MOVU.W 0CH[R1], R1
00000865 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DevReadPartitionSeq, R14
0000086B FE51EF                  		MOV.W [R1,R14], R15
0000086E 621F                    		ADD #01H, R15
00000870 FE11EF                  		MOV.W R15, [R1,R14]
00000873                         L173:	; bb63.split7
                                 ;     484         usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_DEV_READ_PARTITION;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",484
00000873 AA89                    		MOV.L 2CH[R0], R1
00000875 B991                    		MOVU.W 0CH[R1], R1
00000877 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
0000087D FBFA0306                		MOV.L #00000603H, R15
00000881 FE11EF                  		MOV.W R15, [R1,R14]
00000884 38rrrr               W  		BRA L217
00000887                         L174:	; bb100
                                 ;     485         break;
                                 ;     486     case USB_SEQ_1:
                                 ;     487         unit = usb_shmsc_Unit[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",487
00000887 AA89                    		MOV.L 2CH[R0], R1
00000889 B991                    		MOVU.W 0CH[R1], R1
0000088B FBE2rrrrrrrr            		MOV.L #_usb_shmsc_Unit, R14
00000891 FE51E1                  		MOV.W [R1,R14], R1
00000894 9109                    		MOV.W R1, 0AH[R0]
00000896                         L175:	; bb100.split
                                 ;     488         usb_shmsc_DevReadPartitionSeq[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",488
00000896 AA89                    		MOV.L 2CH[R0], R1
00000898 B991                    		MOVU.W 0CH[R1], R1
0000089A FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DevReadPartitionSeq, R14
000008A0 660F                    		MOV.L #00000000H, R15
000008A2 FE11EF                  		MOV.W R15, [R1,R14]
000008A5                         L176:	; bb100.split8
                                 ;     489 
                                 ;     490         if( mess -> result == USB_HMSC_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",490
000008A5 AA89                    		MOV.L 2CH[R0], R1
000008A7 B99A                    		MOVU.W 0EH[R1], R2
000008A9 6102                    		CMP #00H, R2
000008AB B992                    		MOVU.W 0CH[R1], R2
000008AD 3Brrrr               W  		BNE L204
000008B0                         L177:	; bb113
                                 ;     491         {
                                 ;     492             /* Check boot record */
                                 ;     493             result = usb_hmsc_SmpDevCheckBootRecord((uint8_t*)&usb_ghmsc_Data[mess->ip],
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",493
000008B0 76120014                		MUL #1400H, R2
000008B4 FB12rrrrrrrr            		MOV.L #_usb_ghmsc_Data, R1
000008BA 4B21                    		ADD R2, R1
000008BC 6604                    		MOV.L #00000000H, R4
000008BE 71030C                  		ADD #0CH, R0, R3
000008C1 710210                  		ADD #10H, R0, R2
000008C4 39rrrr               W  		BSR _usb_hmsc_SmpDevCheckBootRecord
000008C7 9081                    		MOV.W R1, 04H[R0]
000008C9                         L178:	; bb113.split
                                 ;     494                         (uint32_t*)&partition_lba, (uint8_t*)&partition_info, (uint16_t)0 );
                                 ;     495             /* Display partition information */
                                 ;     496             if( result != (uint16_t)USB_BOOT_ERROR )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",496
000008C9 B882                    		MOVU.W 04H[R0], R2
000008CB 6152                    		CMP #05H, R2
000008CD 3Arrrr               W  		BEQ L203
000008D0                         L179:	; bb124
                                 ;     497             {
                                 ;     498                 result = USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",498
000008D0 3D0200                  		MOV.W #0000H, 04H[R0]
000008D3                         L180:	; bb124.split
                                 ;     499 
                                 ;     500                 for( i = (uint32_t)0; i < (uint32_t)USB_BOOTPARTNUM; i++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",500
000008D3 F80600                  		MOV.L #00000000H, [R0]
000008D6 38rrrr               W  		BRA L202
000008D9                         L181:	; bb125
                                 ;     501                 {
                                 ;     502                     switch( partition_info[i] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",502
000008D9 EC02                    		MOV.L [R0], R2
000008DB 710E0C                  		ADD #0CH, R0, R14
000008DE FECE2E                  		MOVU.B [R14,R2], R14
000008E1 611E                    		CMP #01H, R14
000008E3 20rr                    		BEQ L185
000008E5                         L182:	; bb125
000008E5 614E                    		CMP #04H, R14
000008E7 20rr                    		BEQ L185
000008E9                         L183:	; bb125
000008E9 615E                    		CMP #05H, R14
000008EB 3Arrrr               W  		BEQ L197
000008EE                         L184:	; bb125
000008EE 61BE                    		CMP #0BH, R14
000008F0 3Brrrr               W  		BNE L201
000008F3                         L185:	; bb131
                                 ;     503                     {
                                 ;     504                     case USB_PT_FAT12:
                                 ;     505                     case USB_PT_FAT16:
                                 ;     506                     case USB_PT_FAT32:
                                 ;     507                         USB_PRINTF2("    Partition %d open. SIDE %d !\n", i, new_drive);
                                 ;     508                         /* Drive yes */
                                 ;     509                         usb_ghmsc_DriveChk[new_drive][0] = USB_YES;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",509
000008F3 B88A                    		MOVU.W 06H[R0], R2
000008F5 63C2                    		MUL #0CH, R2
000008F7 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000008FD 4B2E                    		ADD R2, R14
000008FF F8E501                  		MOV.W #0001H, [R14]
00000902                         L186:	; bb131.split
                                 ;     510                         /* Unit Number */
                                 ;     511                         usb_ghmsc_DriveChk[new_drive][1] = unit;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",511
00000902 B88A                    		MOVU.W 06H[R0], R2
00000904 63C2                    		MUL #0CH, R2
00000906 FB12rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R1
0000090C 4B21                    		ADD R2, R1
0000090E D5010501                		MOV.W 0AH[R0], 02H[R1]
00000912                         L187:	; bb131.split9
                                 ;     512                         /* Partition Number */
                                 ;     513                         usb_ghmsc_DriveChk[new_drive][2] = parcount;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",513
00000912 B88A                    		MOVU.W 06H[R0], R2
00000914 63C2                    		MUL #0CH, R2
00000916 FB12rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R1
0000091C 4B21                    		ADD R2, R1
0000091E D5010402                		MOV.W 08H[R0], 04H[R1]
00000922                         L188:	; bb131.split10
                                 ;     514                         /* Device address */
                                 ;     515                         usb_ghmsc_DriveChk[new_drive][3] = usb_ghmsc_DriveChk[USB_MAXDRIVE][3];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",515
00000922 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
00000928 B88A                    		MOVU.W 06H[R0], R2
0000092A 63C2                    		MUL #0CH, R2
0000092C 4BE2                    		ADD R14, R2
0000092E D5E26303                		MOV.W 0C6H[R14], 06H[R2]
00000932                         L189:	; bb131.split11
                                 ;     516                         /* Endpoint table offset */
                                 ;     517                         usb_ghmsc_DriveChk[new_drive][4] = usb_ghmsc_DriveChk[USB_MAXDRIVE][4];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",517
00000932 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
00000938 B88A                    		MOVU.W 06H[R0], R2
0000093A 63C2                    		MUL #0CH, R2
0000093C 4BE2                    		ADD R14, R2
0000093E D5E26404                		MOV.W 0C8H[R14], 08H[R2]
00000942                         L190:	; bb131.split12
                                 ;     518                         /* USB IP No. */
                                 ;     519                         usb_ghmsc_DriveChk[new_drive][5] = usb_ghmsc_DriveChk[USB_MAXDRIVE][5];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",519
00000942 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
00000948 B88A                    		MOVU.W 06H[R0], R2
0000094A 63C2                    		MUL #0CH, R2
0000094C 4BE2                    		ADD R14, R2
0000094E D5E26505                		MOV.W 0CAH[R14], 0AH[R2]
00000952                         L191:	; bb131.split13
                                 ;     520 
                                 ;     521                         usb_ghmsc_MaxDrive++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",521
00000952 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxDrive, R14
00000958 DCEF                    		MOV.W [R14], R15
0000095A 621F                    		ADD #01H, R15
0000095C D3EF                    		MOV.W R15, [R14]
0000095E                         L192:	; bb131.split14
                                 ;     522                         if( usb_ghmsc_MaxDrive == USB_MAXDRIVE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",522
0000095E FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxDrive, R14
00000964 5CEE                    		MOVU.W [R14], R14
00000966 755E10                  		CMP #10H, R14
00000969 18                   S  		BNE L194
0000096A                         L193:	; bb170
                                 ;     523                         {
                                 ;     524                             USB_PRINTF1("    Max drive over %d .\n", usb_ghmsc_MaxDrive );
                                 ;     525                             i = (uint32_t)USB_BOOTPARTNUM;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",525
0000096A F80604                  		MOV.L #00000004H, [R0]
0000096D 2Err                 B  		BRA L196
0000096F                         L194:	; bb171
                                 ;     526                         }
                                 ;     527                         else
                                 ;     528                         {
                                 ;     529                             /* Next drive search */
                                 ;     530                             new_drive = usb_hmsc_SmpDevNextDriveSearch(mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",530
0000096F AA89                    		MOV.L 2CH[R0], R1
00000971 39rrrr               W  		BSR _usb_hmsc_SmpDevNextDriveSearch
00000974 9089                    		MOV.W R1, 06H[R0]
00000976                         L195:	; bb171.split
                                 ;     531                             usb_shmsc_NewDrive[mess->ip] = new_drive;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",531
00000976 AA8A                    		MOV.L 2CH[R0], R2
00000978 B9A2                    		MOVU.W 0CH[R2], R2
0000097A FBE2rrrrrrrr            		MOV.L #_usb_shmsc_NewDrive, R14
00000980 9889                    		MOV.W 06H[R0], R1
00000982 FE12E1                  		MOV.W R1, [R2,R14]
00000985                         L196:	; bb185
                                 ;     532                         }
                                 ;     533                         parcount++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",533
00000985 9902                    		MOV.W 08H[R0], R2
00000987 6212                    		ADD #01H, R2
00000989 9102                    		MOV.W R2, 08H[R0]
0000098B 2Err                 B  		BRA L201
0000098D                         L197:	; bb189
                                 ;     534                         break;
                                 ;     535                     case USB_PT_EPRT:
                                 ;     536                         USB_PRINTF1("    Extended partition %d. !\n", i);
                                 ;     537                         if( partition_lba[USB_BOOTPARTNUM] == (uint32_t)0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",537
0000098D AA02                    		MOV.L 20H[R0], R2
0000098F 6102                    		CMP #00H, R2
00000991 21rr                    		BNE L200
00000993                         L198:	; bb190
00000993 710E10                  		ADD #10H, R0, R14
                                 ;     538                         {
                                 ;     539                             /* Master Boot */
                                 ;     540                             partition_lba[USB_BOOTPARTNUM] = partition_lba[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",540
00000996 EC02                    		MOV.L [R0], R2
00000998 FE62E2                  		MOV.L [R2,R14], R2
0000099B A202                    		MOV.L R2, 20H[R0]
0000099D                         L199:	; bb190.split
0000099D 710E10                  		ADD #10H, R0, R14
                                 ;     541                             /* Next EMBR sector */
                                 ;     542                             partition_lba[0] = partition_lba[i];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",542
000009A0 EC02                    		MOV.L [R0], R2
000009A2 FE62E2                  		MOV.L [R2,R14], R2
000009A5 A102                    		MOV.L R2, 10H[R0]
000009A7 2Err                 B  		BRA L201
000009A9                         L200:	; bb203
000009A9 710E10                  		ADD #10H, R0, R14
                                 ;     543                         }
                                 ;     544                         else
                                 ;     545                         {
                                 ;     546                             /* Next EBMR sector */
                                 ;     547                             partition_lba[0] = partition_lba[i] + partition_lba[USB_BOOTPARTNUM];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",547
000009AC EC02                    		MOV.L [R0], R2
000009AE FE62E2                  		MOV.L [R2,R14], R2
000009B1 06890208                		ADD 20H[R0].L, R2
000009B5 A102                    		MOV.L R2, 10H[R0]
000009B7                         L201:	; bb222
000009B7 EC02                    		MOV.L [R0], R2
000009B9 6212                    		ADD #01H, R2
000009BB E302                    		MOV.L R2, [R0]
000009BD                         L202:	; bb225
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",500
000009BD EC02                    		MOV.L [R0], R2
000009BF 6142                    		CMP #04H, R2
000009C1 22rr                  * 		BLTU L181
         38rrrr                  
000009C6 2Err                 B  		BRA L209
000009C8                         L203:	; bb231
                                 ;     548                         }
                                 ;     549                         break;
                                 ;     550                     default:
                                 ;     551                         break;
                                 ;     552                     }
                                 ;     553                 }
                                 ;     554             }
                                 ;     555             else
                                 ;     556             {
                                 ;     557                 /* Drive read error */
                                 ;     558                 USB_PRINTF2("### %d drive read error  ( %d times ).\n", new_drive, 0);
                                 ;     559                 result = USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",559
000009C8 F90902FFFF              		MOV.W #0FFFFH, 04H[R0]
000009CD 2Err                 B  		BRA L209
000009CF                         L204:	; bb238
                                 ;     560             }
                                 ;     561         }
                                 ;     562         else
                                 ;     563         {
                                 ;     564             /* Drive read error */
                                 ;     565             USB_PRINTF2("### %d drive read error  ( %d times ).\n", new_drive, 0);
                                 ;     566             usb_shmsc_LoopCont[mess->ip]++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",566
000009CF FBE2rrrrrrrr            		MOV.L #_usb_shmsc_LoopCont, R14
000009D5 FE52EF                  		MOV.W [R2,R14], R15
000009D8 621F                    		ADD #01H, R15
000009DA FE12EF                  		MOV.W R15, [R2,R14]
000009DD                         L205:	; bb238.split
                                 ;     567             result = (uint16_t)USB_EMBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",567
000009DD 3D0203                  		MOV.W #0003H, 04H[R0]
000009E0                         L206:	; bb238.split15
                                 ;     568             if( usb_shmsc_LoopCont[mess->ip] == (uint32_t)10 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",568
000009E0 AA89                    		MOV.L 2CH[R0], R1
000009E2 B991                    		MOVU.W 0CH[R1], R1
000009E4 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_LoopCont, R14
000009EA FED1EE                  		MOVU.W [R1,R14], R14
000009ED 61AE                    		CMP #0AH, R14
000009EF 21rr                    		BNE L209
000009F1                         L207:	; bb247
                                 ;     569             {
                                 ;     570                 result = USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",570
000009F1 F90902FFFF              		MOV.W #0FFFFH, 04H[R0]
000009F6                         L208:	; bb247.split
                                 ;     571                 usb_shmsc_LoopCont[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",571
000009F6 AA89                    		MOV.L 2CH[R0], R1
000009F8 B991                    		MOVU.W 0CH[R1], R1
000009FA FBE2rrrrrrrr            		MOV.L #_usb_shmsc_LoopCont, R14
00000A00 660F                    		MOV.L #00000000H, R15
00000A02 FE11EF                  		MOV.W R15, [R1,R14]
00000A05                         L209:	; bb272
                                 ;     572             }
                                 ;     573         }
                                 ;     574 
                                 ;     575         if( result != (uint16_t)USB_EMBR_ADDR )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",575
00000A05 B881                    		MOVU.W 04H[R0], R1
00000A07 6131                    		CMP #03H, R1
00000A09 20rr                    		BEQ L213
00000A0B                         L210:	; bb273
                                 ;     576         {
                                 ;     577             usb_shmsc_StrgProcess[mess->ip] = USB_MSG_HMSC_STRG_DRIVE_SEARCH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",577
00000A0B AA89                    		MOV.L 2CH[R0], R1
00000A0D B991                    		MOVU.W 0CH[R1], R1
00000A0F FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000A15 FBFA0106                		MOV.L #00000601H, R15
00000A19 FE11EF                  		MOV.W R15, [R1,R14]
00000A1C                         L211:	; bb273.split
                                 ;     578             mess->result = result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",578
00000A1C 9881                    		MOV.W 04H[R0], R1
00000A1E AA8A                    		MOV.L 2CH[R0], R2
00000A20 91A9                    		MOV.W R1, 0EH[R2]
00000A22                         L212:	; bb273.split16
                                 ;     579             usb_shmsc_LoopCont[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",579
00000A22 AA89                    		MOV.L 2CH[R0], R1
00000A24 B991                    		MOVU.W 0CH[R1], R1
00000A26 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_LoopCont, R14
00000A2C 660F                    		MOV.L #00000000H, R15
00000A2E FE11EF                  		MOV.W R15, [R1,R14]
00000A31                         L213:	; bb292
                                 ;     580         }
                                 ;     581         usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",581
00000A31 AA89                    		MOV.L 2CH[R0], R1
00000A33 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
00000A36 2Err                 B  		BRA L217
00000A38                         L214:	; bb294
                                 ;     582         break;
                                 ;     583     default:
                                 ;     584         usb_shmsc_DevReadPartitionSeq[mess->ip] = USB_SEQ_0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",584
00000A38 AA89                    		MOV.L 2CH[R0], R1
00000A3A B991                    		MOVU.W 0CH[R1], R1
00000A3C FBE2rrrrrrrr            		MOV.L #_usb_shmsc_DevReadPartitionSeq, R14
00000A42 660F                    		MOV.L #00000000H, R15
00000A44 FE11EF                  		MOV.W R15, [R1,R14]
00000A47                         L215:	; bb294.split
                                 ;     585         mess->result = USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",585
00000A47 AA89                    		MOV.L 2CH[R0], R1
00000A49 F91907FFFF              		MOV.W #0FFFFH, 0EH[R1]
00000A4E                         L216:	; bb294.split17
                                 ;     586         usb_hmsc_StrgSpecifiedPath((USB_CLSINFO_t *)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",586
00000A4E AA89                    		MOV.L 2CH[R0], R1
00000A50 39rrrr               W  		BSR _usb_hmsc_StrgSpecifiedPath
00000A53                         L217:	; bb303
                                 ;     587         break;
                                 ;     588     }
                                 ;     589     return 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",589
00000A53 3D8500                  		MOV.W #0000H, 2AH[R0]
00000A56 9D09                    		MOV.W 2AH[R0], R1
00000A58                         L218:	; bb303.split
                                 ;     590 }   /* eof usb_hmsc_SmpDevReadPartitionAct() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",590
00000A58 5F11                    		MOVU.W R1, R1
00000A5A 670C                    		RTSD #30H
00000A5C                         _usb_hmsc_GetStringDescriptor1:
                                 		.STACK	_usb_hmsc_GetStringDescriptor1=20
                                 ;     591 
                                 ;     592 
                                 ;     593 /******************************************************************************
                                 ;     594 Function Name   : usb_hmsc_GetStringDescriptor1
                                 ;     595 Description     : Get String descriptor
                                 ;     596 Arguments       : uint16_t devaddr          : device address
                                 ;     597                 : uint16_t index            : descriptor index
                                 ;     598 Return value    : uint16_t                  : error info
                                 ;     599 ******************************************************************************/
                                 ;     600 uint16_t usb_hmsc_GetStringDescriptor1(USB_UTR_t *ptr, uint16_t devaddr, uint16_t index, USB_CB_t complete)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",600
00000A5C 7100F0                  		ADD #0FFFFFFF0H, R0
00000A5F A089                    		MOV.L R1, 0CH[R0]
00000A61 910A                    		MOV.W R2, 0AH[R0]
00000A63 9103                    		MOV.W R3, 08H[R0]
00000A65 A00C                    		MOV.L R4, 04H[R0]
                                 ;     601 {
                                 ;     602     usb_hmsc_GetStringDesc(ptr, devaddr, (uint16_t)0, complete);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",602
00000A67 B90A                    		MOVU.W 0AH[R0], R2
00000A69 A889                    		MOV.L 0CH[R0], R1
00000A6B 6603                    		MOV.L #00000000H, R3
00000A6D 39rrrr               W  		BSR _usb_hmsc_GetStringDesc
00000A70                         L220:	; entry.split
                                 ;     603 
                                 ;     604     return  USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",604
00000A70 3D0100                  		MOV.W #0000H, 02H[R0]
00000A73 9809                    		MOV.W 02H[R0], R1
00000A75                         L221:	; entry.split1
                                 ;     605 }   /* eof usb_hmsc_GetStringDescriptor1() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",605
00000A75 5F11                    		MOVU.W R1, R1
00000A77 6704                    		RTSD #10H
00000A79                         _usb_hmsc_GetStringDescriptor2:
                                 		.STACK	_usb_hmsc_GetStringDescriptor2=20
                                 ;     606 
                                 ;     607 /******************************************************************************
                                 ;     608 Function Name   : usb_hmsc_GetStringDescriptor2
                                 ;     609 Description     : Get String descriptor
                                 ;     610 Arguments       : uint16_t devaddr          : device address
                                 ;     611                 : uint16_t index            : descriptor index
                                 ;     612 Return value    : uint16_t                  : error info
                                 ;     613 ******************************************************************************/
                                 ;     614 uint16_t usb_hmsc_GetStringDescriptor2(USB_UTR_t *ptr, uint16_t devaddr, uint16_t index, USB_CB_t complete)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",614
00000A79 7100F0                  		ADD #0FFFFFFF0H, R0
00000A7C A089                    		MOV.L R1, 0CH[R0]
00000A7E 910A                    		MOV.W R2, 0AH[R0]
00000A80 9103                    		MOV.W R3, 08H[R0]
00000A82 A00C                    		MOV.L R4, 04H[R0]
                                 ;     615 {
                                 ;     616     usb_hmsc_GetStringDesc(ptr, devaddr, index, complete);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",616
00000A84 B903                    		MOVU.W 08H[R0], R3
00000A86 B90A                    		MOVU.W 0AH[R0], R2
00000A88 A889                    		MOV.L 0CH[R0], R1
00000A8A 39rrrr               W  		BSR _usb_hmsc_GetStringDesc
00000A8D                         L223:	; entry.split
                                 ;     617 
                                 ;     618     return  USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",618
00000A8D 3D0100                  		MOV.W #0000H, 02H[R0]
00000A90 9809                    		MOV.W 02H[R0], R1
00000A92                         L224:	; entry.split1
                                 ;     619 }   /* eof usb_hmsc_GetStringDescriptor2() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",619
00000A92 5F11                    		MOVU.W R1, R1
00000A94 6704                    		RTSD #10H
00000A96                         _usb_hmsc_StrgSpecifiedPath:
                                 		.STACK	_usb_hmsc_StrgSpecifiedPath=20
                                 ;     620 
                                 ;     621 /******************************************************************************
                                 ;     622 Function Name   : usb_hmsc_StrgSpecifiedPath
                                 ;     623 Description     : Next Process Selector
                                 ;     624 Arguments       : USB_CLSINFO_t *mess  : Message
                                 ;     625 Return value    : none
                                 ;     626 ******************************************************************************/
                                 ;     627 void usb_hmsc_StrgSpecifiedPath(USB_CLSINFO_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",627
00000A96 7100F0                  		ADD #0FFFFFFF0H, R0
00000A99 A089                    		MOV.L R1, 0CH[R0]
00000A9B EF02                    		MOV.L R0, R2
00000A9D 6651                    		MOV.L #00000005H, R1
                                 ;     628 {
                                 ;     629     USB_MH_t            p_blf;
                                 ;     630     USB_ER_t            err;
                                 ;     631     USB_CLSINFO_t       *cp;
                                 ;     632 
                                 ;     633     /* Get mem pool blk */
                                 ;     634     if( R_USB_PGET_BLK(USB_HSTRG_MPL,&p_blf) == USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",634
00000A9F 05rrrrrr             A  		BSR _R_usb_cstd_PgetBlk
00000AA3 6101                    		CMP #00H, R1
00000AA5 21rr                    		BNE L235
00000AA7                         L226:	; bb5
                                 ;     635     {
                                 ;     636         cp = (USB_CLSINFO_t*)p_blf;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",636
00000AA7 E40002                  		MOV.L [R0], 08H[R0]
00000AAA                         L227:	; bb5.split
                                 ;     637         cp->msginfo = usb_shmsc_StrgProcess[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",637
00000AAA A889                    		MOV.L 0CH[R0], R1
00000AAC B991                    		MOVU.W 0CH[R1], R1
00000AAE FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000AB4 FE51E1                  		MOV.W [R1,R14], R1
00000AB7 A882                    		MOV.L 08H[R0], R2
00000AB9 90A1                    		MOV.W R1, 04H[R2]
00000ABB                         L228:	; bb5.split1
                                 ;     638         cp->keyword = mess->keyword;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",638
00000ABB A889                    		MOV.L 0CH[R0], R1
00000ABD A882                    		MOV.L 08H[R0], R2
00000ABF D5120303                		MOV.W 06H[R1], 06H[R2]
00000AC3                         L229:	; bb5.split2
                                 ;     639         cp->result  = mess->result;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",639
00000AC3 A889                    		MOV.L 0CH[R0], R1
00000AC5 A882                    		MOV.L 08H[R0], R2
00000AC7 D5120707                		MOV.W 0EH[R1], 0EH[R2]
00000ACB                         L230:	; bb5.split3
                                 ;     640 
                                 ;     641         cp->ip      = mess->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",641
00000ACB A889                    		MOV.L 0CH[R0], R1
00000ACD A882                    		MOV.L 08H[R0], R2
00000ACF D5120606                		MOV.W 0CH[R1], 0CH[R2]
00000AD3                         L231:	; bb5.split4
                                 ;     642         cp->ipp     = mess->ipp;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",642
00000AD3 A889                    		MOV.L 0CH[R0], R1
00000AD5 A882                    		MOV.L 08H[R0], R2
00000AD7 E5120202                		MOV.L 08H[R1], 08H[R2]
00000ADB                         L232:	; bb5.split5
                                 ;     643 
                                 ;     644         /* Send message */
                                 ;     645         err = R_USB_SND_MSG( USB_HSTRG_MBX, (USB_MSG_t*)p_blf );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",645
00000ADB EC02                    		MOV.L [R0], R2
00000ADD 6651                    		MOV.L #00000005H, R1
00000ADF 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
00000AE3 A009                    		MOV.L R1, 04H[R0]
00000AE5                         L233:	; bb5.split6
                                 ;     646         if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",646
00000AE5 A809                    		MOV.L 04H[R0], R1
00000AE7 6101                    		CMP #00H, R1
00000AE9 20rr                    		BEQ L235
00000AEB                         L234:	; bb41
                                 ;     647         {
                                 ;     648             err = R_USB_REL_BLK(USB_HSTRG_MPL,(USB_MH_t)p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",648
00000AEB EC02                    		MOV.L [R0], R2
00000AED 6651                    		MOV.L #00000005H, R1
00000AEF 05rrrrrr             A  		BSR _R_usb_cstd_RelBlk
00000AF3 A009                    		MOV.L R1, 04H[R0]
00000AF5 6704                    		RTSD #10H
00000AF7                         L235:	; return
                                 ;     649             USB_PRINTF0("### SpecifiedPass function snd_msg error\n");
                                 ;     650         }
                                 ;     651     }
                                 ;     652     else
                                 ;     653     {
                                 ;     654         USB_PRINTF0("### SpecifiedPass function pget_blk error\n");
                                 ;     655     }
                                 ;     656 }   /* eof usb_hmsc_StrgSpecifiedPath() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",656
00000AF7 6704                    		RTSD #10H
00000AF9                         _usb_hmsc_StrgCheckResult:
                                 		.STACK	_usb_hmsc_StrgCheckResult=20
                                 ;     657 
                                 ;     658 /******************************************************************************
                                 ;     659 Function Name   : usb_hmsc_StrgCheckResult
                                 ;     660 Description     : Hub class check result
                                 ;     661 Arguments       : USB_UTR_t *mess    : Message
                                 ;     662 Return value    : none
                                 ;     663 ******************************************************************************/
                                 ;     664 void usb_hmsc_StrgCheckResult(USB_UTR_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",664
00000AF9 7100F0                  		ADD #0FFFFFFF0H, R0
00000AFC A089                    		MOV.L R1, 0CH[R0]
00000AFE EF02                    		MOV.L R0, R2
00000B00 6651                    		MOV.L #00000005H, R1
                                 ;     665 {
                                 ;     666     USB_MH_t            p_blf;
                                 ;     667     USB_ER_t            err;
                                 ;     668     USB_CLSINFO_t       *cp;
                                 ;     669     
                                 ;     670     /* Get mem pool blk */
                                 ;     671     if( R_USB_PGET_BLK(USB_HSTRG_MPL,&p_blf) == USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",671
00000B02 05rrrrrr             A  		BSR _R_usb_cstd_PgetBlk
00000B06 6101                    		CMP #00H, R1
00000B08 21rr                    		BNE L246
00000B0A                         L237:	; bb5
                                 ;     672     {
                                 ;     673         cp = (USB_CLSINFO_t*)p_blf;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",673
00000B0A E40002                  		MOV.L [R0], 08H[R0]
00000B0D                         L238:	; bb5.split
                                 ;     674         cp->msginfo = usb_shmsc_StrgProcess[mess->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",674
00000B0D A889                    		MOV.L 0CH[R0], R1
00000B0F B991                    		MOVU.W 0CH[R1], R1
00000B11 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_StrgProcess, R14
00000B17 FE51E1                  		MOV.W [R1,R14], R1
00000B1A A882                    		MOV.L 08H[R0], R2
00000B1C 90A1                    		MOV.W R1, 04H[R2]
00000B1E                         L239:	; bb5.split1
                                 ;     675         cp->keyword = mess->keyword;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",675
00000B1E A889                    		MOV.L 0CH[R0], R1
00000B20 A882                    		MOV.L 08H[R0], R2
00000B22 D5120303                		MOV.W 06H[R1], 06H[R2]
00000B26                         L240:	; bb5.split2
                                 ;     676         cp->result  = mess->status;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",676
00000B26 A889                    		MOV.L 0CH[R0], R1
00000B28 A882                    		MOV.L 08H[R0], R2
00000B2A D5121007                		MOV.W 20H[R1], 0EH[R2]
00000B2E                         L241:	; bb5.split3
                                 ;     677 
                                 ;     678         cp->ip      = mess->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",678
00000B2E A889                    		MOV.L 0CH[R0], R1
00000B30 A882                    		MOV.L 08H[R0], R2
00000B32 D5120606                		MOV.W 0CH[R1], 0CH[R2]
00000B36                         L242:	; bb5.split4
                                 ;     679         cp->ipp     = mess->ipp;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",679
00000B36 A889                    		MOV.L 0CH[R0], R1
00000B38 A882                    		MOV.L 08H[R0], R2
00000B3A E5120202                		MOV.L 08H[R1], 08H[R2]
00000B3E                         L243:	; bb5.split5
                                 ;     680 
                                 ;     681         /* Send message */
                                 ;     682         err = R_USB_SND_MSG( USB_HSTRG_MBX, (USB_MSG_t*)p_blf );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",682
00000B3E EC02                    		MOV.L [R0], R2
00000B40 6651                    		MOV.L #00000005H, R1
00000B42 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
00000B46 A009                    		MOV.L R1, 04H[R0]
00000B48                         L244:	; bb5.split6
                                 ;     683         if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",683
00000B48 A809                    		MOV.L 04H[R0], R1
00000B4A 6101                    		CMP #00H, R1
00000B4C 20rr                    		BEQ L246
00000B4E                         L245:	; bb41
                                 ;     684         {
                                 ;     685             err = USB_REL_BLK(USB_HSTRG_MPL,(USB_MH_t)p_blf);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",685
00000B4E EC02                    		MOV.L [R0], R2
00000B50 6651                    		MOV.L #00000005H, R1
00000B52 05rrrrrr             A  		BSR _usb_cstd_RelBlk
00000B56 A009                    		MOV.L R1, 04H[R0]
00000B58 6704                    		RTSD #10H
00000B5A                         L246:	; return
                                 ;     686             USB_PRINTF0("### CheckResult function snd_msg error\n");
                                 ;     687         }
                                 ;     688     }
                                 ;     689     else
                                 ;     690     {
                                 ;     691         USB_PRINTF0("### CheckResult function pget_blk error\n");
                                 ;     692     }
                                 ;     693 }   /* eof usb_hmsc_StrgCheckResult() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",693
00000B5A 6704                    		RTSD #10H
00000B5C                         _usb_hmsc_GetStringDesc:
                                 		.STACK	_usb_hmsc_GetStringDesc=20
                                 ;     694 
                                 ;     695 /******************************************************************************
                                 ;     696 Function Name   : usb_hmsc_GetStringDesc
                                 ;     697 Description     : Set GetDescriptor
                                 ;     698 Arguments       : uint16_t addr            : device address
                                 ;     699                 : uint16_t string          : descriptor index
                                 ;     700                 : USB_CB_t complete       : callback function
                                 ;     701 Return value    : uint16_t                 : error info
                                 ;     702 ******************************************************************************/
                                 ;     703 uint16_t usb_hmsc_GetStringDesc(USB_UTR_t *ptr, uint16_t addr, uint16_t string
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",703
00000B5C 7100F0                  		ADD #0FFFFFFF0H, R0
00000B5F A089                    		MOV.L R1, 0CH[R0]
00000B61 910A                    		MOV.W R2, 0AH[R0]
00000B63 9103                    		MOV.W R3, 08H[R0]
00000B65 A00C                    		MOV.L R4, 04H[R0]
                                 ;     704             , USB_CB_t complete)
                                 ;     705 {
                                 ;     706     uint16_t        i;
                                 ;     707 
                                 ;     708     if( string == 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",708
00000B67 A889                    		MOV.L 0CH[R0], R1
00000B69 B991                    		MOVU.W 0CH[R1], R1
00000B6B 63A1                    		MUL #0AH, R1
00000B6D FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R2
00000B73 4B12                    		ADD R1, R2
00000B75 B901                    		MOVU.W 08H[R0], R1
00000B77 6101                    		CMP #00H, R1
00000B79 21rr                    		BNE L250
00000B7B                         L248:	; bb6
                                 ;     709     {
                                 ;     710         usb_shmsc_ClassRequest[ptr->ip][2] = (uint16_t)0x0000;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",710
00000B7B 3D2200                  		MOV.W #0000H, 04H[R2]
00000B7E                         L249:	; bb6.split
                                 ;     711         usb_shmsc_ClassRequest[ptr->ip][3] = (uint16_t)0x0004;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",711
00000B7E A88A                    		MOV.L 0CH[R0], R2
00000B80 B9A2                    		MOVU.W 0CH[R2], R2
00000B82 63A2                    		MUL #0AH, R2
00000B84 FB12rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R1
00000B8A 4B21                    		ADD R2, R1
00000B8C 3D1304                  		MOV.W #0004H, 06H[R1]
00000B8F 2Err                 B  		BRA L253
00000B91                         L250:	; bb21
                                 ;     712     }
                                 ;     713     else
                                 ;     714     {
                                 ;     715         /* Set LanguageID */
                                 ;     716         usb_shmsc_ClassRequest[ptr->ip][2] = (uint16_t)(usb_ghmsc_ClassData[ptr->ip][2]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",716
00000B91 A889                    		MOV.L 0CH[R0], R1
00000B93 B991                    		MOVU.W 0CH[R1], R1
00000B95 6C91                    		SHLL #09H, R1
00000B97 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_ClassData, R3
00000B9D 4B13                    		ADD R1, R3
00000B9F B0B1                    		MOVU.B 02H[R3], R1
00000BA1 90A1                    		MOV.W R1, 04H[R2]
00000BA3                         L251:	; bb21.split
                                 ;     717         usb_shmsc_ClassRequest[ptr->ip][2] |= (uint16_t)((uint16_t)(usb_ghmsc_ClassData[ptr->ip][3]) << 8);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",717
00000BA3 A889                    		MOV.L 0CH[R0], R1
00000BA5 B991                    		MOVU.W 0CH[R1], R1
00000BA7 EF1E                    		MOV.L R1, R14
00000BA9 63AE                    		MUL #0AH, R14
00000BAB FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R2
00000BB1 4BE2                    		ADD R14, R2
00000BB3 6C91                    		SHLL #09H, R1
00000BB5 FB32rrrrrrrr            		MOV.L #_usb_ghmsc_ClassData, R3
00000BBB 4B13                    		ADD R1, R3
00000BBD B0B9                    		MOVU.B 03H[R3], R1
00000BBF 6C81                    		SHLL #08H, R1
00000BC1 06552102                		OR 04H[R2].W, R1
00000BC5 90A1                    		MOV.W R1, 04H[R2]
00000BC7                         L252:	; bb21.split1
                                 ;     718         usb_shmsc_ClassRequest[ptr->ip][3] = (uint16_t)USB_HMSC_CLSDATASIZE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",718
00000BC7 A889                    		MOV.L 0CH[R0], R1
00000BC9 B991                    		MOVU.W 0CH[R1], R1
00000BCB 63A1                    		MUL #0AH, R1
00000BCD FBE2rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R14
00000BD3 4B1E                    		ADD R1, R14
00000BD5 F9E9030002              		MOV.W #0200H, 06H[R14]
00000BDA                         L253:	; bb73
                                 ;     719     }
                                 ;     720     usb_shmsc_ClassRequest[ptr->ip][0]   = USB_GET_DESCRIPTOR | USB_DEV_TO_HOST | USB_STANDARD | USB_DEVICE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",720
00000BDA A889                    		MOV.L 0CH[R0], R1
00000BDC B991                    		MOVU.W 0CH[R1], R1
00000BDE 63A1                    		MUL #0AH, R1
00000BE0 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R14
00000BE6 4B1E                    		ADD R1, R14
00000BE8 F8E98006                		MOV.W #0680H, [R14]
00000BEC                         L254:	; bb73.split
                                 ;     721     usb_shmsc_ClassRequest[ptr->ip][1]   = (uint16_t)(USB_STRING_DESCRIPTOR + string);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",721
00000BEC A889                    		MOV.L 0CH[R0], R1
00000BEE B991                    		MOVU.W 0CH[R1], R1
00000BF0 63A1                    		MUL #0AH, R1
00000BF2 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R2
00000BF8 4B12                    		ADD R1, R2
00000BFA B901                    		MOVU.W 08H[R0], R1
00000BFC 72110003                		ADD #0300H, R1
00000C00 9029                    		MOV.W R1, 02H[R2]
00000C02                         L255:	; bb73.split2
                                 ;     722     usb_shmsc_ClassRequest[ptr->ip][4]   = addr;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",722
00000C02 A889                    		MOV.L 0CH[R0], R1
00000C04 B991                    		MOVU.W 0CH[R1], R1
00000C06 63A1                    		MUL #0AH, R1
00000C08 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R2
00000C0E 4B12                    		ADD R1, R2
00000C10 D5020504                		MOV.W 0AH[R0], 08H[R2]
00000C14                         L256:	; bb73.split3
                                 ;     723 
                                 ;     724     for( i = 0; i < usb_shmsc_ClassRequest[ptr->ip][3]; i++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",724
00000C14 F80500                  		MOV.W #0000H, [R0]
00000C17 2Err                 B  		BRA L258
00000C19                         L257:	; bb100
                                 ;     725     {
                                 ;     726         usb_ghmsc_ClassData[ptr->ip][i]  = (uint8_t)0xFF;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",726
00000C19 B991                    		MOVU.W 0CH[R1], R1
00000C1B 6C91                    		SHLL #09H, R1
00000C1D FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_ClassData, R14
00000C23 4B1E                    		ADD R1, R14
00000C25 FBF6FF                  		MOV.L #0FFFFFFFFH, R15
00000C28 5C01                    		MOVU.W [R0], R1
00000C2A FE0E1F                  		MOV.B R15, [R14,R1]
00000C2D DC01                    		MOV.W [R0], R1
00000C2F 6211                    		ADD #01H, R1
00000C31 D301                    		MOV.W R1, [R0]
00000C33                         L258:	; bb112
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",724
00000C33 A889                    		MOV.L 0CH[R0], R1
00000C35 B992                    		MOVU.W 0CH[R1], R2
00000C37 63A2                    		MUL #0AH, R2
00000C39 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R14
00000C3F 4B2E                    		ADD R2, R14
00000C41 5C02                    		MOVU.W [R0], R2
00000C43 06C5E203                		CMP 06H[R14].UW, R2
00000C47 29rr                    		BLT L257
00000C49                         L259:	; bb127
                                 ;     727     }
                                 ;     728 
                                 ;     729     return usb_hmsc_CmdSubmit(ptr, complete);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",729
00000C49 A80A                    		MOV.L 04H[R0], R2
00000C4B 39rrrr               W  		BSR _usb_hmsc_CmdSubmit
00000C4E 9009                    		MOV.W R1, 02H[R0]
00000C50 9809                    		MOV.W 02H[R0], R1
00000C52                         L260:	; bb127.split
                                 ;     730 }   /* eof usb_hmsc_GetStringDesc() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",730
00000C52 5F11                    		MOVU.W R1, R1
00000C54 6704                    		RTSD #10H
00000C56                         _usb_hmsc_CmdSubmit:
                                 		.STACK	_usb_hmsc_CmdSubmit=16
                                 ;     731 
                                 ;     732 /******************************************************************************
                                 ;     733 Function Name   : usb_hmsc_CmdSubmit
                                 ;     734 Description     : command submit
                                 ;     735 Arguments       : USB_CB_t complete         : callback info
                                 ;     736 Return value    : uint16_t                  : USB_DONE
                                 ;     737 ******************************************************************************/
                                 ;     738 uint16_t usb_hmsc_CmdSubmit(USB_UTR_t *ptr, USB_CB_t complete)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",738
00000C56 60C0                    		SUB #0CH, R0
00000C58 A081                    		MOV.L R1, 08H[R0]
00000C5A A00A                    		MOV.L R2, 04H[R0]
                                 ;     739 {
                                 ;     740     usb_shmsc_ClassControl[ptr->ip].tranadr  = (void *)usb_ghmsc_ClassData[ptr->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",740
00000C5C A881                    		MOV.L 08H[R0], R1
00000C5E B991                    		MOVU.W 0CH[R1], R1
00000C60 EF1E                    		MOV.L R1, R14
00000C62 751E2C                  		MUL #2CH, R14
00000C65 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000C6B 4BE2                    		ADD R14, R2
00000C6D 6C91                    		SHLL #09H, R1
00000C6F FB32rrrrrrrr            		MOV.L #_usb_ghmsc_ClassData, R3
00000C75 4B13                    		ADD R1, R3
00000C77 A12B                    		MOV.L R3, 14H[R2]
00000C79                         L262:	; entry.split
                                 ;     741     usb_shmsc_ClassControl[ptr->ip].complete = complete;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",741
00000C79 A881                    		MOV.L 08H[R0], R1
00000C7B B991                    		MOVU.W 0CH[R1], R1
00000C7D 75112C                  		MUL #2CH, R1
00000C80 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000C86 4B12                    		ADD R1, R2
00000C88 E5020104                		MOV.L 04H[R0], 10H[R2]
00000C8C                         L263:	; entry.split1
                                 ;     742     usb_shmsc_ClassControl[ptr->ip].tranlen  = (uint32_t)usb_shmsc_ClassRequest[ptr->ip][3];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",742
00000C8C A881                    		MOV.L 08H[R0], R1
00000C8E B991                    		MOVU.W 0CH[R1], R1
00000C90 EF1E                    		MOV.L R1, R14
00000C92 751E2C                  		MUL #2CH, R14
00000C95 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000C9B 4BE2                    		ADD R14, R2
00000C9D 63A1                    		MUL #0AH, R1
00000C9F FB32rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R3
00000CA5 4B13                    		ADD R1, R3
00000CA7 B8B9                    		MOVU.W 06H[R3], R1
00000CA9 A1A1                    		MOV.L R1, 18H[R2]
00000CAB                         L264:	; entry.split2
                                 ;     743     usb_shmsc_ClassControl[ptr->ip].keyword  = USB_PIPE0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",743
00000CAB A881                    		MOV.L 08H[R0], R1
00000CAD B991                    		MOVU.W 0CH[R1], R1
00000CAF 75112C                  		MUL #2CH, R1
00000CB2 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000CB8 4B12                    		ADD R1, R2
00000CBA 3D2300                  		MOV.W #0000H, 06H[R2]
00000CBD                         L265:	; entry.split3
                                 ;     744     usb_shmsc_ClassControl[ptr->ip].setup    = usb_shmsc_ClassRequest[ptr->ip];
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",744
00000CBD A881                    		MOV.L 08H[R0], R1
00000CBF B991                    		MOVU.W 0CH[R1], R1
00000CC1 EF1E                    		MOV.L R1, R14
00000CC3 751E2C                  		MUL #2CH, R14
00000CC6 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000CCC 4BE2                    		ADD R14, R2
00000CCE 63A1                    		MUL #0AH, R1
00000CD0 FB32rrrrrrrr            		MOV.L #_usb_shmsc_ClassRequest, R3
00000CD6 4B13                    		ADD R1, R3
00000CD8 A1AB                    		MOV.L R3, 1CH[R2]
00000CDA                         L266:	; entry.split4
                                 ;     745     usb_shmsc_ClassControl[ptr->ip].segment  = USB_TRAN_END;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",745
00000CDA A881                    		MOV.L 08H[R0], R1
00000CDC B991                    		MOVU.W 0CH[R1], R1
00000CDE 75112C                  		MUL #2CH, R1
00000CE1 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R14
00000CE7 4B1E                    		ADD R1, R14
00000CE9 F9E42580                		MOV.B #80H, 25H[R14]
00000CED                         L267:	; entry.split5
                                 ;     746 
                                 ;     747     usb_shmsc_ClassControl[ptr->ip].ip   = ptr->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",747
00000CED A881                    		MOV.L 08H[R0], R1
00000CEF B991                    		MOVU.W 0CH[R1], R1
00000CF1 EF1E                    		MOV.L R1, R14
00000CF3 751E2C                  		MUL #2CH, R14
00000CF6 FB22rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R2
00000CFC 4BE2                    		ADD R14, R2
00000CFE 91A1                    		MOV.W R1, 0CH[R2]
00000D00                         L268:	; entry.split6
                                 ;     748     usb_shmsc_ClassControl[ptr->ip].ipp  = ptr->ipp;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",748
00000D00 A881                    		MOV.L 08H[R0], R1
00000D02 B992                    		MOVU.W 0CH[R1], R2
00000D04 75122C                  		MUL #2CH, R2
00000D07 FBE2rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R14
00000D0D 4B2E                    		ADD R2, R14
00000D0F E51E0202                		MOV.L 08H[R1], 08H[R14]
00000D13                         L269:	; entry.split7
                                 ;     749 
                                 ;     750     usb_hstd_TransferStart(&usb_shmsc_ClassControl[ptr->ip]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",750
00000D13 A881                    		MOV.L 08H[R0], R1
00000D15 B992                    		MOVU.W 0CH[R1], R2
00000D17 75122C                  		MUL #2CH, R2
00000D1A FB12rrrrrrrr            		MOV.L #_usb_shmsc_ClassControl, R1
00000D20 4B21                    		ADD R2, R1
00000D22 05rrrrrr             A  		BSR _usb_hstd_TransferStart
00000D26                         L270:	; entry.split8
                                 ;     751     
                                 ;     752     return USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",752
00000D26 3D0100                  		MOV.W #0000H, 02H[R0]
00000D29 9809                    		MOV.W 02H[R0], R1
00000D2B                         L271:	; entry.split9
                                 ;     753 }   /* eof usb_hmsc_CmdSubmit() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",753
00000D2B 5F11                    		MOVU.W R1, R1
00000D2D 6703                    		RTSD #0CH
00000D2F                         _usb_hmsc_SmpDevCheckBootRecord:
                                 		.STACK	_usb_hmsc_SmpDevCheckBootRecord=60
                                 ;     754 
                                 ;     755 /******************************************************************************
                                 ;     756 Function Name   : usb_hmsc_SmpDevCheckBootRecord
                                 ;     757 Description     : Device check boot record
                                 ;     758 Arguments       : uint8_t  *data      : Data
                                 ;     759                 : uint32_t *par_lba   : Par LBA
                                 ;     760                 : uint8_t  *par_info   : Par info
                                 ;     761                 : uint16_t flag       : Flag
                                 ;     762 Return value    : uint16_t            : Error code [USB_DONE/USB_ERROR]
                                 ;     763 ******************************************************************************/
                                 ;     764 uint16_t usb_hmsc_SmpDevCheckBootRecord(uint8_t *data, uint32_t *par_lba, uint8_t *par_info, uint16_t flag)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",764
00000D2F 7100C8                  		ADD #0FFFFFFC8H, R0
00000D32 A309                    		MOV.L R1, 34H[R0]
00000D34 A302                    		MOV.L R2, 30H[R0]
00000D36 A28B                    		MOV.L R3, 2CH[R0]
00000D38 950C                    		MOV.W R4, 2AH[R0]
                                 ;     765 {
                                 ;     766     USB_MBR_t       *mbr_data;
                                 ;     767     USB_PBR_t       *pbr_data;
                                 ;     768     USB_FAT1216_t   *fat1216;
                                 ;     769     USB_PTBL_t      *partition;
                                 ;     770     uint16_t        fat_sector, i, embr_flag;
                                 ;     771     uint32_t        total_sector32, dummy;
                                 ;     772 
                                 ;     773     mbr_data = (USB_MBR_t*)data;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",773
00000D3A E5000D02                		MOV.L 34H[R0], 08H[R0]
00000D3E                         L273:	; entry.split
                                 ;     774     pbr_data = (USB_PBR_t*)data;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",774
00000D3E E5000D03                		MOV.L 34H[R0], 0CH[R0]
00000D42                         L274:	; entry.split1
                                 ;     775 
                                 ;     776     /* BOOT Recorder ? */
                                 ;     777     dummy   = (uint32_t)(pbr_data->Signature[0]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",777
00000D42 A889                    		MOV.L 0CH[R0], R1
00000D44 5A11FE01                		MOVU.B 01FEH[R1], R1
00000D48 A209                    		MOV.L R1, 24H[R0]
00000D4A                         L275:	; entry.split2
                                 ;     778     dummy   |= (uint32_t)((uint16_t)(pbr_data->Signature[1]) << 8);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",778
00000D4A A889                    		MOV.L 0CH[R0], R1
00000D4C 5A11FF01                		MOVU.B 01FFH[R1], R1
00000D50 6C81                    		SHLL #08H, R1
00000D52 06950109                		OR 24H[R0].L, R1
00000D56 A209                    		MOV.L R1, 24H[R0]
00000D58                         L276:	; entry.split3
                                 ;     779     if( dummy != (uint32_t)USB_BOOTRECORD_SIG )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",779
00000D58 AA09                    		MOV.L 24H[R0], R1
00000D5A 770155AA00              		CMP #0AA55H, R1
00000D5F 20rr                    		BEQ L279
00000D61                         L277:	; bb34
                                 ;     780     {
                                 ;     781         par_info[0] = USB_PT_NONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",781
00000D61 AA89                    		MOV.L 2CH[R0], R1
00000D63 F81400                  		MOV.B #00H, [R1]
00000D66                         L278:	; bb34.split
                                 ;     782         USB_PRINTF1("    USB_BOOTRECORD_SIG error 0x%04x\n", dummy);
                                 ;     783         return USB_BOOT_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",783
00000D66 3D0305                  		MOV.W #0005H, 06H[R0]
00000D69 38rrrr               W  		BRA L344
00000D6C                         L279:	; bb41
                                 ;     784     }
                                 ;     785 
                                 ;     786     embr_flag = USB_PT_NONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",786
00000D6C 3D0F00                  		MOV.W #0000H, 1EH[R0]
00000D6F                         L280:	; bb41.split
                                 ;     787 
                                 ;     788     /* MBR check (Partition n) */
                                 ;     789     for( i = 0; i < USB_BOOTPARTNUM; i++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",789
00000D6F 3D0E00                  		MOV.W #0000H, 1CH[R0]
00000D72 38rrrr               W  		BRA L307
00000D75                         L281:	; bb42
                                 ;     790     {
                                 ;     791         partition   = (USB_PTBL_t*)&(mbr_data->PartitionTable[i * 16]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",791
00000D75 BB81                    		MOVU.W 1CH[R0], R1
00000D77 6C41                    		SHLL #04H, R1
00000D79 06890102                		ADD 08H[R0].L, R1
00000D7D 7211BE01                		ADD #01BEH, R1
00000D81 A109                    		MOV.L R1, 14H[R0]
00000D83                         L282:	; bb42.split
00000D83 660E                    		MOV.L #00000000H, R14
                                 ;     792         par_info[i] = USB_PT_NONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",792
00000D85 BB81                    		MOVU.W 1CH[R0], R1
00000D87 AA8A                    		MOV.L 2CH[R0], R2
00000D89 FE021E                  		MOV.B R14, [R2,R1]
00000D8C                         L283:	; bb42.split4
                                 ;     793         par_lba[i]  = (uint32_t)(partition->StartSectorNum[0]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",793
00000D8C A909                    		MOV.L 14H[R0], R1
00000D8E B211                    		MOVU.B 08H[R1], R1
00000D90 BB82                    		MOVU.W 1CH[R0], R2
00000D92 AB03                    		MOV.L 30H[R0], R3
00000D94 FE2231                  		MOV.L R1, [R2,R3]
00000D97                         L284:	; bb42.split5
                                 ;     794         par_lba[i]  |= (uint32_t)(partition->StartSectorNum[1]) << 8;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",794
00000D97 BB81                    		MOVU.W 1CH[R0], R1
00000D99 FDC21E                  		SHLL #02H, R1, R14
00000D9C AB02                    		MOV.L 30H[R0], R2
00000D9E 4B2E                    		ADD R2, R14
00000DA0 A90B                    		MOV.L 14H[R0], R3
00000DA2 B23B                    		MOVU.B 09H[R3], R3
00000DA4 6C83                    		SHLL #08H, R3
00000DA6 0694E3                  		OR [R14].L, R3
00000DA9 FE2123                  		MOV.L R3, [R1,R2]
00000DAC                         L285:	; bb42.split6
                                 ;     795         par_lba[i]  |= (uint32_t)(partition->StartSectorNum[2]) << 16;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",795
00000DAC BB81                    		MOVU.W 1CH[R0], R1
00000DAE FDC21E                  		SHLL #02H, R1, R14
00000DB1 AB02                    		MOV.L 30H[R0], R2
00000DB3 4B2E                    		ADD R2, R14
00000DB5 A90B                    		MOV.L 14H[R0], R3
00000DB7 B2B3                    		MOVU.B 0AH[R3], R3
00000DB9 6D03                    		SHLL #10H, R3
00000DBB 0694E3                  		OR [R14].L, R3
00000DBE FE2123                  		MOV.L R3, [R1,R2]
00000DC1                         L286:	; bb42.split7
                                 ;     796         par_lba[i]  |= (uint32_t)(partition->StartSectorNum[3]) << 24;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",796
00000DC1 BB81                    		MOVU.W 1CH[R0], R1
00000DC3 FDC21E                  		SHLL #02H, R1, R14
00000DC6 AB02                    		MOV.L 30H[R0], R2
00000DC8 4B2E                    		ADD R2, R14
00000DCA A90B                    		MOV.L 14H[R0], R3
00000DCC B2BB                    		MOVU.B 0BH[R3], R3
00000DCE 6D83                    		SHLL #18H, R3
00000DD0 0694E3                  		OR [R14].L, R3
00000DD3 FE2123                  		MOV.L R3, [R1,R2]
00000DD6                         L287:	; bb42.split8
                                 ;     797         switch( partition->PartitionType )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",797
00000DD6 A909                    		MOV.L 14H[R0], R1
00000DD8 B111                    		MOVU.B 04H[R1], R1
00000DDA 6101                    		CMP #00H, R1
00000DDC 20rr                    		BEQ L306
00000DDE                         L288:	; bb42.split8
00000DDE 6111                    		CMP #01H, R1
00000DE0 20rr                    		BEQ L297
00000DE2                         L289:	; bb42.split8
00000DE2 6141                    		CMP #04H, R1
00000DE4 20rr                    		BEQ L300
00000DE6                         L290:	; bb42.split8
00000DE6 6151                    		CMP #05H, R1
00000DE8 20rr                    		BEQ L295
00000DEA                         L291:	; bb42.split8
00000DEA 6161                    		CMP #06H, R1
00000DEC 20rr                    		BEQ L300
00000DEE                         L292:	; bb42.split8
00000DEE 711EF5                  		ADD #0FFFFFFF5H, R1, R14
00000DF1 612E                    		CMP #02H, R14
00000DF3 23rr                    		BLTU L303
00000DF5                         L293:	; bb42.split8
00000DF5 61E1                    		CMP #0EH, R1
00000DF7 20rr                    		BEQ L300
00000DF9                         L294:	; bb42.split8
00000DF9 61F1                    		CMP #0FH, R1
00000DFB 21rr                    		BNE L306
00000DFD                         L295:	; bb109
                                 ;     798         {
                                 ;     799         case USB_PT_NONE:
                                 ;     800             break;
                                 ;     801         case USB_PT_EPRTA:
                                 ;     802         case USB_PT_EPRTB:
                                 ;     803             embr_flag   = USB_EMBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",803
00000DFD 3D0F03                  		MOV.W #0003H, 1EH[R0]
00000E00                         L296:	; bb109.split
00000E00 665E                    		MOV.L #00000005H, R14
                                 ;     804             par_info[i] = USB_PT_EPRT;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",804
00000E02 BB81                    		MOVU.W 1CH[R0], R1
00000E04 AA8A                    		MOV.L 2CH[R0], R2
00000E06 FE021E                  		MOV.B R14, [R2,R1]
00000E09 2Err                 B  		BRA L306
00000E0B                         L297:	; bb115
                                 ;     805             break;
                                 ;     806         case USB_PT_FAT12A:
                                 ;     807             if( embr_flag == USB_PT_NONE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",807
00000E0B BB89                    		MOVU.W 1EH[R0], R1
00000E0D 6101                    		CMP #00H, R1
00000E0F 18                   S  		BNE L299
00000E10                         L298:	; bb116
                                 ;     808             {
                                 ;     809                 embr_flag = USB_MBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",809
00000E10 3D0F02                  		MOV.W #0002H, 1EH[R0]
00000E13                         L299:	; bb122
00000E13 661E                    		MOV.L #00000001H, R14
                                 ;     810             }
                                 ;     811             par_info[i] = USB_PT_FAT12;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",811
00000E15 BB81                    		MOVU.W 1CH[R0], R1
00000E17 AA8A                    		MOV.L 2CH[R0], R2
00000E19 FE021E                  		MOV.B R14, [R2,R1]
00000E1C 2Err                 B  		BRA L306
00000E1E                         L300:	; bb128
                                 ;     812             break;
                                 ;     813         case USB_PT_FAT16A:
                                 ;     814         case USB_PT_FAT16B:
                                 ;     815         case USB_PT_FAT16X:
                                 ;     816             if( embr_flag == USB_PT_NONE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",816
00000E1E BB89                    		MOVU.W 1EH[R0], R1
00000E20 6101                    		CMP #00H, R1
00000E22 18                   S  		BNE L302
00000E23                         L301:	; bb129
                                 ;     817             {
                                 ;     818                 embr_flag = USB_MBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",818
00000E23 3D0F02                  		MOV.W #0002H, 1EH[R0]
00000E26                         L302:	; bb135
00000E26 664E                    		MOV.L #00000004H, R14
                                 ;     819             }
                                 ;     820             par_info[i] = USB_PT_FAT16;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",820
00000E28 BB81                    		MOVU.W 1CH[R0], R1
00000E2A AA8A                    		MOV.L 2CH[R0], R2
00000E2C FE021E                  		MOV.B R14, [R2,R1]
00000E2F 2Err                 B  		BRA L306
00000E31                         L303:	; bb141
                                 ;     821             break;
                                 ;     822         case USB_PT_FAT32A:
                                 ;     823         case USB_PT_FAT32X:
                                 ;     824             if( embr_flag == USB_PT_NONE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",824
00000E31 BB89                    		MOVU.W 1EH[R0], R1
00000E33 6101                    		CMP #00H, R1
00000E35 18                   S  		BNE L305
00000E36                         L304:	; bb142
                                 ;     825             {
                                 ;     826                 embr_flag = USB_MBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",826
00000E36 3D0F02                  		MOV.W #0002H, 1EH[R0]
00000E39                         L305:	; bb148
00000E39 66BE                    		MOV.L #0000000BH, R14
                                 ;     827             }
                                 ;     828             par_info[i] = USB_PT_FAT32;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",828
00000E3B BB81                    		MOVU.W 1CH[R0], R1
00000E3D AA8A                    		MOV.L 2CH[R0], R2
00000E3F FE021E                  		MOV.B R14, [R2,R1]
00000E42                         L306:	; bb162
00000E42 9B81                    		MOV.W 1CH[R0], R1
00000E44 6211                    		ADD #01H, R1
00000E46 9381                    		MOV.W R1, 1CH[R0]
00000E48                         L307:	; bb165
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",789
00000E48 BB81                    		MOVU.W 1CH[R0], R1
00000E4A 6141                    		CMP #04H, R1
00000E4C 22rr                  * 		BLTU L281
         38rrrr                  
00000E51                         L308:	; bb171
                                 ;     829             break;
                                 ;     830         default:
                                 ;     831             if( flag != 0 )
                                 ;     832             {
                                 ;     833                 USB_PRINTF1("    Partition type not support 0x%02x\n", partition->PartitionType);
                                 ;     834             }
                                 ;     835             break;
                                 ;     836         }
                                 ;     837     }
                                 ;     838 
                                 ;     839     switch( embr_flag )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",839
00000E51 BB89                    		MOVU.W 1EH[R0], R1
00000E53 6021                    		SUB #02H, R1
00000E55 6111                    		CMP #01H, R1
00000E57 24rr                    		BGTU L310
00000E59                         L309:	; bb174
                                 ;     840     {
                                 ;     841     case USB_MBR_ADDR:
                                 ;     842     case USB_EMBR_ADDR:
                                 ;     843         return embr_flag;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",843
00000E59 D5000F03                		MOV.W 1EH[R0], 06H[R0]
00000E5D 38rrrr               W  		BRA L344
00000E60                         L310:	; bb178
                                 ;     844         break;
                                 ;     845     default:
                                 ;     846         break;
                                 ;     847     }
                                 ;     848 
                                 ;     849     /* PBR check */
                                 ;     850     fat1216     = (USB_FAT1216_t*)&(pbr_data->FATSigData);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",850
00000E60 A889                    		MOV.L 0CH[R0], R1
00000E62 711124                  		ADD #24H, R1
00000E65 A101                    		MOV.L R1, 10H[R0]
00000E67                         L311:	; bb178.split
                                 ;     851 
                                 ;     852     fat_sector      =  (uint16_t)(pbr_data->FATSector[0]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",852
00000E67 A889                    		MOV.L 0CH[R0], R1
00000E69 B591                    		MOVU.B 16H[R1], R1
00000E6B 9309                    		MOV.W R1, 1AH[R0]
00000E6D                         L312:	; bb178.split9
                                 ;     853     fat_sector      |= (uint16_t)((uint16_t)(pbr_data->FATSector[1]) << 8);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",853
00000E6D A889                    		MOV.L 0CH[R0], R1
00000E6F B599                    		MOVU.B 17H[R1], R1
00000E71 6C81                    		SHLL #08H, R1
00000E73 0655010D                		OR 1AH[R0].W, R1
00000E77 9309                    		MOV.W R1, 1AH[R0]
00000E79                         L313:	; bb178.split10
                                 ;     854     total_sector32  =  (uint32_t)(pbr_data->TotalSector1[0]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",854
00000E79 A889                    		MOV.L 0CH[R0], R1
00000E7B 591120                  		MOVU.B 20H[R1], R1
00000E7E A201                    		MOV.L R1, 20H[R0]
00000E80                         L314:	; bb178.split11
                                 ;     855     total_sector32  |= ((uint32_t)(pbr_data->TotalSector1[1]) << 8);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",855
00000E80 A889                    		MOV.L 0CH[R0], R1
00000E82 591121                  		MOVU.B 21H[R1], R1
00000E85 6C81                    		SHLL #08H, R1
00000E87 06950108                		OR 20H[R0].L, R1
00000E8B A201                    		MOV.L R1, 20H[R0]
00000E8D                         L315:	; bb178.split12
                                 ;     856     total_sector32  |= ((uint32_t)(pbr_data->TotalSector1[2]) << 16);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",856
00000E8D A889                    		MOV.L 0CH[R0], R1
00000E8F 591122                  		MOVU.B 22H[R1], R1
00000E92 6D01                    		SHLL #10H, R1
00000E94 06950108                		OR 20H[R0].L, R1
00000E98 A201                    		MOV.L R1, 20H[R0]
00000E9A                         L316:	; bb178.split13
                                 ;     857     total_sector32  |= ((uint32_t)(pbr_data->TotalSector1[3]) << 24);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",857
00000E9A A889                    		MOV.L 0CH[R0], R1
00000E9C 591123                  		MOVU.B 23H[R1], R1
00000E9F 6D81                    		SHLL #18H, R1
00000EA1 06950108                		OR 20H[R0].L, R1
00000EA5 A201                    		MOV.L R1, 20H[R0]
00000EA7                         L317:	; bb178.split14
                                 ;     858 
                                 ;     859     if( ((pbr_data->JMPcode == USB_JMPCODE1) &&
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",859
00000EA7 A889                    		MOV.L 0CH[R0], R1
00000EA9 581E                    		MOVU.B [R1], R14
00000EAB 755EEB                  		CMP #0EBH, R14
00000EAE 20rr                    		BEQ L333
00000EB0 2Err                 B  		BRA L335
00000EB2                         L318:	; bb237
                                 ;     860         (pbr_data->NOPcode == USB_NOPCODE)) ||
                                 ;     861         (pbr_data->JMPcode == USB_JMPCODE2) )
                                 ;     862     {
                                 ;     863         if( fat_sector == 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",863
00000EB2 BB09                    		MOVU.W 1AH[R0], R1
00000EB4 6101                    		CMP #00H, R1
00000EB6 21rr                    		BNE L321
00000EB8                         L319:	; bb239
                                 ;     864         {
                                 ;     865             if( total_sector32 != (uint32_t)0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",865
00000EB8 AA01                    		MOV.L 20H[R0], R1
00000EBA 6101                    		CMP #00H, R1
00000EBC 3Arrrr               W  		BEQ L341
00000EBF                         L320:	; bb240
                                 ;     866             {
                                 ;     867                 par_info[0] = USB_PT_FAT32; /* FAT32 spec */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",867
00000EBF AA89                    		MOV.L 2CH[R0], R1
00000EC1 F8140B                  		MOV.B #0BH, [R1]
00000EC4 38rrrr               W  		BRA L341
00000EC7                         L321:	; bb249
                                 ;     868             }
                                 ;     869         }
                                 ;     870         else
                                 ;     871         {
                                 ;     872             if( (fat1216->FileSystemType[3] == 0x31) && (fat1216->FileSystemType[4] == 0x32) )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",872
00000EC7 A901                    		MOV.L 10H[R0], R1
00000EC9 B519                    		MOVU.B 15H[R1], R1
00000ECB 755131                  		CMP #31H, R1
00000ECE 20rr                    		BEQ L329
00000ED0 2Err                 B  		BRA L331
00000ED2                         L322:	; bb250
                                 ;     873             {
                                 ;     874                 par_info[0] = USB_PT_FAT12; /* FAT12 spec */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",874
00000ED2 AA89                    		MOV.L 2CH[R0], R1
00000ED4 F81401                  		MOV.B #01H, [R1]
00000ED7 2Err                 B  		BRA L341
00000ED9                         L323:	; bb254
                                 ;     875             }
                                 ;     876             else if( (fat1216->FileSystemType[3] == 0x31) && (fat1216->FileSystemType[4] == 0x36) )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",876
00000ED9 A901                    		MOV.L 10H[R0], R1
00000EDB B519                    		MOVU.B 15H[R1], R1
00000EDD 755131                  		CMP #31H, R1
00000EE0 10                   S  		BEQ L325
00000EE1 2Err                 B  		BRA L327
00000EE3                         L324:	; bb255
                                 ;     877             {
                                 ;     878                 par_info[0] = USB_PT_FAT16; /* FAT16 spec */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",878
00000EE3 AA89                    		MOV.L 2CH[R0], R1
00000EE5 F81404                  		MOV.B #04H, [R1]
00000EE8 2Err                 B  		BRA L341
00000EEA                         L325:	; bb267
00000EEA A901                    		MOV.L 10H[R0], R1
00000EEC B591                    		MOVU.B 16H[R1], R1
00000EEE 755136                  		CMP #36H, R1
00000EF1 18                   S  		BNE L327
00000EF2                         L326:	; bb276
00000EF2 F80601                  		MOV.L #00000001H, [R0]
00000EF5 08                   S  		BRA L328
00000EF6                         L327:	; bb277
00000EF6 F80600                  		MOV.L #00000000H, [R0]
00000EF9                         L328:	; bb278
00000EF9 EC01                    		MOV.L [R0], R1
00000EFB 6101                    		CMP #00H, R1
00000EFD 21rr                    		BNE L324
00000EFF 2Err                 B  		BRA L341
00000F01                         L329:	; bb292
00000F01 A901                    		MOV.L 10H[R0], R1
00000F03 B591                    		MOVU.B 16H[R1], R1
00000F05 755132                  		CMP #32H, R1
00000F08 18                   S  		BNE L331
00000F09                         L330:	; bb301
00000F09 F80601                  		MOV.L #00000001H, [R0]
00000F0C 08                   S  		BRA L332
00000F0D                         L331:	; bb302
00000F0D F80600                  		MOV.L #00000000H, [R0]
00000F10                         L332:	; bb303
00000F10 EC01                    		MOV.L [R0], R1
00000F12 6101                    		CMP #00H, R1
00000F14 21rr                    		BNE L322
00000F16 2Err                 B  		BRA L323
00000F18                         L333:	; bb321
00000F18 A889                    		MOV.L 0CH[R0], R1
00000F1A B091                    		MOVU.B 02H[R1], R1
00000F1C 755190                  		CMP #90H, R1
00000F1F 18                   S  		BNE L335
00000F20                         L334:	; bb328
00000F20 F80601                  		MOV.L #00000001H, [R0]
00000F23 08                   S  		BRA L336
00000F24                         L335:	; bb329
00000F24 F80600                  		MOV.L #00000000H, [R0]
00000F27                         L336:	; bb330
00000F27 EC01                    		MOV.L [R0], R1
00000F29 6101                    		CMP #00H, R1
00000F2B 18                   S  		BNE L338
00000F2C                         L337:	; bb334
00000F2C A889                    		MOV.L 0CH[R0], R1
00000F2E 581E                    		MOVU.B [R1], R14
00000F30 755EE9                  		CMP #0E9H, R14
00000F33 18                   S  		BNE L339
00000F34                         L338:	; bb341
00000F34 F80601                  		MOV.L #00000001H, [R0]
00000F37 08                   S  		BRA L340
00000F38                         L339:	; bb342
00000F38 F80600                  		MOV.L #00000000H, [R0]
00000F3B                         L340:	; bb343
00000F3B EC01                    		MOV.L [R0], R1
00000F3D 6101                    		CMP #00H, R1
00000F3F 3Brrrr               W  		BNE L318
00000F42                         L341:	; bb349
                                 ;     879             }
                                 ;     880             else
                                 ;     881             {
                                 ;     882             }
                                 ;     883         }
                                 ;     884     }
                                 ;     885 
                                 ;     886     if( par_info[0] == USB_PT_NONE )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",886
00000F42 AA89                    		MOV.L 2CH[R0], R1
00000F44 581E                    		MOVU.B [R1], R14
00000F46 610E                    		CMP #00H, R14
00000F48 18                   S  		BNE L343
00000F49                         L342:	; bb350
                                 ;     887     {
                                 ;     888         USB_PRINTF0("    Partition error\n");
                                 ;     889         return USB_BOOT_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",889
00000F49 3D0305                  		MOV.W #0005H, 06H[R0]
00000F4C 08                   S  		BRA L344
00000F4D                         L343:	; bb352
                                 ;     890     }
                                 ;     891     else
                                 ;     892     {
                                 ;     893         return USB_PBR_ADDR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",893
00000F4D 3D0301                  		MOV.W #0001H, 06H[R0]
00000F50                         L344:	; bb362
00000F50 D5000314                		MOV.W 06H[R0], 28H[R0]
                                 ;     894     }
                                 ;     895 }   /* eof usb_hmsc_SmpDevCheckBootRecord() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",895
00000F54 BD01                    		MOVU.W 28H[R0], R1
00000F56 670E                    		RTSD #38H
00000F58                         _usb_hmsc_SmpFsiDriveClear:
                                 		.STACK	_usb_hmsc_SmpFsiDriveClear=24
                                 ;     896 
                                 ;     897 /******************************************************************************
                                 ;     898 Function Name   : usb_hmsc_SmpFsiDriveClear
                                 ;     899 Description     : Device check boot record
                                 ;     900 Arguments       : uint16_t addr       : Address
                                 ;     901 Return value    : none
                                 ;     902 ******************************************************************************/
                                 ;     903 void usb_hmsc_SmpFsiDriveClear(USB_UTR_t *ptr, uint16_t addr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",903
00000F58 7100EC                  		ADD #0FFFFFFECH, R0
00000F5B A101                    		MOV.L R1, 10H[R0]
00000F5D 918A                    		MOV.W R2, 0EH[R0]
                                 ;     904 {
                                 ;     905     uint16_t    i, offset, msgnum;
                                 ;     906     uint16_t    find = USB_NO;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",906
00000F5F 3D0500                  		MOV.W #0000H, 0AH[R0]
00000F62                         L346:	; entry.split
                                 ;     907     uint16_t    ip;
                                 ;     908 
                                 ;     909     ip = ptr->ip;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",909
00000F62 A901                    		MOV.L 10H[R0], R1
00000F64 D5100606                		MOV.W 0CH[R1], 0CH[R0]
00000F68                         L347:	; entry.split1
                                 ;     910     for( i = 0; i < USB_MAXDRIVE; i++ )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",910
00000F68 3D0200                  		MOV.W #0000H, 04H[R0]
00000F6B 38rrrr               W  		BRA L372
00000F6E                         L348:	; bb10
                                 ;     911     {
                                 ;     912         if( (usb_ghmsc_DriveChk[i][3] == addr) && (usb_ghmsc_DriveChk[i][5] == ip) )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",912
00000F6E B881                    		MOVU.W 04H[R0], R1
00000F70 63C1                    		MUL #0CH, R1
00000F72 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
00000F78 4B12                    		ADD R1, R2
00000F7A B8A9                    		MOVU.W 06H[R2], R1
00000F7C 06C50107                		CMP 0EH[R0].UW, R1
00000F80 3Arrrr               W  		BEQ L367
00000F83 38rrrr               W  		BRA L369
00000F86                         L349:	; bb11
                                 ;     913         {
                                 ;     914             msgnum = usb_hmsc_SmpDrive2Msgnum(ptr, i);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",914
00000F86 B882                    		MOVU.W 04H[R0], R2
00000F88 A901                    		MOV.L 10H[R0], R1
00000F8A 39rrrr               W  		BSR _usb_hmsc_SmpDrive2Msgnum
00000F8D 9101                    		MOV.W R1, 08H[R0]
00000F8F                         L350:	; bb11.split
                                 ;     915             if( USB_ERROR != msgnum )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",915
00000F8F B901                    		MOVU.W 08H[R0], R1
00000F91 7701FFFF00              		CMP #0FFFFH, R1
00000F96 3Arrrr               W  		BEQ L371
00000F99                         L351:	; bb16
                                 ;     916             {
                                 ;     917                 offset = (uint16_t)(2u * USB_EPL * msgnum);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",917
00000F99 B901                    		MOVU.W 08H[R0], R1
00000F9B 63C1                    		MUL #0CH, R1
00000F9D 9089                    		MOV.W R1, 06H[R0]
00000F9F                         L352:	; bb16.split
                                 ;     918 
                                 ;     919                 usb_ghmsc_PipeTable[ip][offset +1]  &= (USB_BFREON | USB_DBLBON | USB_CNTMDON | USB_SHTNAKON); /* PIPECFG */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",919
00000F9F B981                    		MOVU.W 0CH[R0], R1
00000FA1 6C21                    		SHLL #02H, R1
00000FA3 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00000FA9 4B1E                    		ADD R1, R14
00000FAB B889                    		MOVU.W 06H[R0], R1
00000FAD 6C11                    		SHLL #01H, R1
00000FAF 0688E1                  		ADD [R14].L, R1
00000FB2 B81A                    		MOVU.W 02H[R1], R2
00000FB4 76228007                		AND #0780H, R2
00000FB8 901A                    		MOV.W R2, 02H[R1]
00000FBA                         L353:	; bb16.split2
                                 ;     920                 usb_ghmsc_PipeTable[ip][offset +3]  = USB_NONE;     /* PIPEMAXP */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",920
00000FBA B981                    		MOVU.W 0CH[R0], R1
00000FBC 6C21                    		SHLL #02H, R1
00000FBE FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00000FC4 4B1E                    		ADD R1, R14
00000FC6 B889                    		MOVU.W 06H[R0], R1
00000FC8 6C11                    		SHLL #01H, R1
00000FCA 0688E1                  		ADD [R14].L, R1
00000FCD 3D1300                  		MOV.W #0000H, 06H[R1]
00000FD0                         L354:	; bb16.split3
                                 ;     921                 usb_ghmsc_PipeTable[ip][offset +4]  = USB_NONE;     /* PIPEPERI */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",921
00000FD0 B981                    		MOVU.W 0CH[R0], R1
00000FD2 6C21                    		SHLL #02H, R1
00000FD4 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00000FDA 4B1E                    		ADD R1, R14
00000FDC B889                    		MOVU.W 06H[R0], R1
00000FDE 6C11                    		SHLL #01H, R1
00000FE0 0688E1                  		ADD [R14].L, R1
00000FE3 3D1400                  		MOV.W #0000H, 08H[R1]
00000FE6                         L355:	; bb16.split4
                                 ;     922                 offset += USB_EPL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",922
00000FE6 B889                    		MOVU.W 06H[R0], R1
00000FE8 6261                    		ADD #06H, R1
00000FEA 9089                    		MOV.W R1, 06H[R0]
00000FEC                         L356:	; bb16.split5
                                 ;     923 
                                 ;     924                 usb_ghmsc_PipeTable[ip][offset +1]  &= (USB_BFREON | USB_DBLBON | USB_CNTMDON | USB_SHTNAKON); /* PIPECFG */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",924
00000FEC B981                    		MOVU.W 0CH[R0], R1
00000FEE 6C21                    		SHLL #02H, R1
00000FF0 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00000FF6 4B1E                    		ADD R1, R14
00000FF8 B889                    		MOVU.W 06H[R0], R1
00000FFA 6C11                    		SHLL #01H, R1
00000FFC 0688E1                  		ADD [R14].L, R1
00000FFF B81A                    		MOVU.W 02H[R1], R2
00001001 76228007                		AND #0780H, R2
00001005 901A                    		MOV.W R2, 02H[R1]
00001007                         L357:	; bb16.split6
                                 ;     925                 usb_ghmsc_PipeTable[ip][offset +3]  = USB_NONE;     /* PIPEMAXP */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",925
00001007 B981                    		MOVU.W 0CH[R0], R1
00001009 6C21                    		SHLL #02H, R1
0000100B FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00001011 4B1E                    		ADD R1, R14
00001013 B889                    		MOVU.W 06H[R0], R1
00001015 6C11                    		SHLL #01H, R1
00001017 0688E1                  		ADD [R14].L, R1
0000101A 3D1300                  		MOV.W #0000H, 06H[R1]
0000101D                         L358:	; bb16.split7
                                 ;     926                 usb_ghmsc_PipeTable[ip][offset +4]  = USB_NONE;     /* PIPEPERI */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",926
0000101D B981                    		MOVU.W 0CH[R0], R1
0000101F 6C21                    		SHLL #02H, R1
00001021 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00001027 4B1E                    		ADD R1, R14
00001029 B889                    		MOVU.W 06H[R0], R1
0000102B 6C11                    		SHLL #01H, R1
0000102D 0688E1                  		ADD [R14].L, R1
00001030 3D1400                  		MOV.W #0000H, 08H[R1]
00001033                         L359:	; bb16.split8
                                 ;     927 
                                 ;     928                 usb_ghmsc_DriveChk[i][0] = USB_NO;                  /* Yes/No */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",928
00001033 B881                    		MOVU.W 04H[R0], R1
00001035 63C1                    		MUL #0CH, R1
00001037 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
0000103D 4B1E                    		ADD R1, R14
0000103F F8E500                  		MOV.W #0000H, [R14]
00001042                         L360:	; bb16.split9
                                 ;     929                 usb_ghmsc_DriveChk[i][1] = 0;                       /* Unit Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",929
00001042 B881                    		MOVU.W 04H[R0], R1
00001044 63C1                    		MUL #0CH, R1
00001046 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
0000104C 4B12                    		ADD R1, R2
0000104E 3D2100                  		MOV.W #0000H, 02H[R2]
00001051                         L361:	; bb16.split10
                                 ;     930                 usb_ghmsc_DriveChk[i][2] = 0;                       /* Partition Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",930
00001051 B881                    		MOVU.W 04H[R0], R1
00001053 63C1                    		MUL #0CH, R1
00001055 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
0000105B 4B12                    		ADD R1, R2
0000105D 3D2200                  		MOV.W #0000H, 04H[R2]
00001060                         L362:	; bb16.split11
                                 ;     931                 usb_ghmsc_DriveChk[i][3] = 0;                       /* Device address */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",931
00001060 B881                    		MOVU.W 04H[R0], R1
00001062 63C1                    		MUL #0CH, R1
00001064 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
0000106A 4B12                    		ADD R1, R2
0000106C 3D2300                  		MOV.W #0000H, 06H[R2]
0000106F                         L363:	; bb16.split12
                                 ;     932                 usb_ghmsc_DriveChk[i][4] = 0;                       /* Device number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",932
0000106F B881                    		MOVU.W 04H[R0], R1
00001071 63C1                    		MUL #0CH, R1
00001073 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
00001079 4B12                    		ADD R1, R2
0000107B 3D2400                  		MOV.W #0000H, 08H[R2]
0000107E                         L364:	; bb16.split13
                                 ;     933                 usb_ghmsc_DriveChk[i][5] = 0;                       /* USB IP number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",933
0000107E B881                    		MOVU.W 04H[R0], R1
00001080 63C1                    		MUL #0CH, R1
00001082 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
00001088 4B12                    		ADD R1, R2
0000108A 3D2500                  		MOV.W #0000H, 0AH[R2]
0000108D                         L365:	; bb16.split14
                                 ;     934                 usb_ghmsc_MaxDrive--;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",934
0000108D FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxDrive, R14
00001093 DCEF                    		MOV.W [R14], R15
00001095 601F                    		SUB #01H, R15
00001097 D3EF                    		MOV.W R15, [R14]
00001099                         L366:	; bb16.split15
                                 ;     935                 find = USB_YES;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",935
00001099 3D0501                  		MOV.W #0001H, 0AH[R0]
0000109C 2Err                 B  		BRA L371
0000109E                         L367:	; bb129
0000109E B881                    		MOVU.W 04H[R0], R1
000010A0 63C1                    		MUL #0CH, R1
000010A2 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
000010A8 4B12                    		ADD R1, R2
000010AA B929                    		MOVU.W 0AH[R2], R1
000010AC 06C50106                		CMP 0CH[R0].UW, R1
000010B0 18                   S  		BNE L369
000010B1                         L368:	; bb141
000010B1 F80601                  		MOV.L #00000001H, [R0]
000010B4 08                   S  		BRA L370
000010B5                         L369:	; bb142
000010B5 F80600                  		MOV.L #00000000H, [R0]
000010B8                         L370:	; bb143
000010B8 EC01                    		MOV.L [R0], R1
000010BA 6101                    		CMP #00H, R1
000010BC 3Brrrr               W  		BNE L349
000010BF                         L371:	; bb148
000010BF 9881                    		MOV.W 04H[R0], R1
000010C1 6211                    		ADD #01H, R1
000010C3 9081                    		MOV.W R1, 04H[R0]
000010C5                         L372:	; bb151
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",910
000010C5 B881                    		MOVU.W 04H[R0], R1
000010C7 755110                  		CMP #10H, R1
000010CA 28rr                  * 		BLT L348
         38rrrr                  
000010CF                         L373:	; bb158
                                 ;     936             }
                                 ;     937         }
                                 ;     938     }
                                 ;     939 
                                 ;     940     if( find == USB_NO )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",940
000010CF B909                    		MOVU.W 0AH[R0], R1
000010D1 6101                    		CMP #00H, R1
000010D3 3Brrrr               W  		BNE L395
000010D6                         L374:	; bb160
                                 ;     941     {
                                 ;     942         if( (usb_ghmsc_DriveChk[USB_MAXDRIVE][3] == addr) && (usb_ghmsc_DriveChk[i][5] == ip) )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",942
000010D6 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000010DC 5DEE63                  		MOVU.W 0C6H[R14], R14
000010DF 06C50E07                		CMP 0EH[R0].UW, R14
000010E3 3Arrrr               W  		BEQ L391
000010E6 38rrrr               W  		BRA L393
000010E9                         L375:	; bb161
                                 ;     943         {
                                 ;     944             msgnum = usb_hmsc_SmpDrive2Msgnum(ptr, USB_MAXDRIVE);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",944
000010E9 A901                    		MOV.L 10H[R0], R1
000010EB 754210                  		MOV.L #00000010H, R2
000010EE 39rrrr               W  		BSR _usb_hmsc_SmpDrive2Msgnum
000010F1 9101                    		MOV.W R1, 08H[R0]
000010F3                         L376:	; bb161.split
                                 ;     945             if( USB_ERROR != msgnum )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",945
000010F3 B901                    		MOVU.W 08H[R0], R1
000010F5 7701FFFF00              		CMP #0FFFFH, R1
000010FA 3Arrrr               W  		BEQ L395
000010FD                         L377:	; bb165
                                 ;     946             {
                                 ;     947                 offset = (uint16_t)(2u * USB_EPL * msgnum);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",947
000010FD B901                    		MOVU.W 08H[R0], R1
000010FF 63C1                    		MUL #0CH, R1
00001101 9089                    		MOV.W R1, 06H[R0]
00001103                         L378:	; bb165.split
                                 ;     948 
                                 ;     949                 usb_ghmsc_PipeTable[ip][offset +1]  &= (USB_BFREON | USB_DBLBON | USB_CNTMDON | USB_SHTNAKON); /* PIPECFG */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",949
00001103 B981                    		MOVU.W 0CH[R0], R1
00001105 6C21                    		SHLL #02H, R1
00001107 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
0000110D 4B1E                    		ADD R1, R14
0000110F B889                    		MOVU.W 06H[R0], R1
00001111 6C11                    		SHLL #01H, R1
00001113 0688E1                  		ADD [R14].L, R1
00001116 B81A                    		MOVU.W 02H[R1], R2
00001118 76228007                		AND #0780H, R2
0000111C 901A                    		MOV.W R2, 02H[R1]
0000111E                         L379:	; bb165.split16
                                 ;     950                 usb_ghmsc_PipeTable[ip][offset +3]  = USB_NONE;     /* PIPEMAXP */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",950
0000111E B981                    		MOVU.W 0CH[R0], R1
00001120 6C21                    		SHLL #02H, R1
00001122 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00001128 4B1E                    		ADD R1, R14
0000112A B889                    		MOVU.W 06H[R0], R1
0000112C 6C11                    		SHLL #01H, R1
0000112E 0688E1                  		ADD [R14].L, R1
00001131 3D1300                  		MOV.W #0000H, 06H[R1]
00001134                         L380:	; bb165.split17
                                 ;     951                 usb_ghmsc_PipeTable[ip][offset +4]  = USB_NONE;     /* PIPEPERI */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",951
00001134 B981                    		MOVU.W 0CH[R0], R1
00001136 6C21                    		SHLL #02H, R1
00001138 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
0000113E 4B1E                    		ADD R1, R14
00001140 B889                    		MOVU.W 06H[R0], R1
00001142 6C11                    		SHLL #01H, R1
00001144 0688E1                  		ADD [R14].L, R1
00001147 3D1400                  		MOV.W #0000H, 08H[R1]
0000114A                         L381:	; bb165.split18
                                 ;     952                 offset += USB_EPL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",952
0000114A B889                    		MOVU.W 06H[R0], R1
0000114C 6261                    		ADD #06H, R1
0000114E 9089                    		MOV.W R1, 06H[R0]
00001150                         L382:	; bb165.split19
                                 ;     953 
                                 ;     954                 usb_ghmsc_PipeTable[ip][offset +1]  &= (USB_BFREON | USB_DBLBON | USB_CNTMDON | USB_SHTNAKON); /* PIPECFG */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",954
00001150 B981                    		MOVU.W 0CH[R0], R1
00001152 6C21                    		SHLL #02H, R1
00001154 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
0000115A 4B1E                    		ADD R1, R14
0000115C B889                    		MOVU.W 06H[R0], R1
0000115E 6C11                    		SHLL #01H, R1
00001160 0688E1                  		ADD [R14].L, R1
00001163 B81A                    		MOVU.W 02H[R1], R2
00001165 76228007                		AND #0780H, R2
00001169 901A                    		MOV.W R2, 02H[R1]
0000116B                         L383:	; bb165.split20
                                 ;     955                 usb_ghmsc_PipeTable[ip][offset +3]  = USB_NONE;     /* PIPEMAXP */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",955
0000116B B981                    		MOVU.W 0CH[R0], R1
0000116D 6C21                    		SHLL #02H, R1
0000116F FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
00001175 4B1E                    		ADD R1, R14
00001177 B889                    		MOVU.W 06H[R0], R1
00001179 6C11                    		SHLL #01H, R1
0000117B 0688E1                  		ADD [R14].L, R1
0000117E 3D1300                  		MOV.W #0000H, 06H[R1]
00001181                         L384:	; bb165.split21
                                 ;     956                 usb_ghmsc_PipeTable[ip][offset +4]  = USB_NONE;     /* PIPEPERI */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",956
00001181 B981                    		MOVU.W 0CH[R0], R1
00001183 6C21                    		SHLL #02H, R1
00001185 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_PipeTable, R14
0000118B 4B1E                    		ADD R1, R14
0000118D B889                    		MOVU.W 06H[R0], R1
0000118F 6C11                    		SHLL #01H, R1
00001191 0688E1                  		ADD [R14].L, R1
00001194 3D1400                  		MOV.W #0000H, 08H[R1]
00001197                         L385:	; bb165.split22
                                 ;     957 
                                 ;     958                 usb_ghmsc_DriveChk[USB_MAXDRIVE][0] = USB_NO;       /* Yes/No */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",958
00001197 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
0000119D F9E56000                		MOV.W #0000H, 0C0H[R14]
000011A1                         L386:	; bb165.split23
                                 ;     959                 usb_ghmsc_DriveChk[USB_MAXDRIVE][1] = 0;            /* Unit Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",959
000011A1 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000011A7 F9E56100                		MOV.W #0000H, 0C2H[R14]
000011AB                         L387:	; bb165.split24
                                 ;     960                 usb_ghmsc_DriveChk[USB_MAXDRIVE][2] = 0;            /* Partition Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",960
000011AB FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000011B1 F9E56200                		MOV.W #0000H, 0C4H[R14]
000011B5                         L388:	; bb165.split25
                                 ;     961                 usb_ghmsc_DriveChk[USB_MAXDRIVE][3] = 0;            /* Device address */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",961
000011B5 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000011BB F9E56300                		MOV.W #0000H, 0C6H[R14]
000011BF                         L389:	; bb165.split26
                                 ;     962                 usb_ghmsc_DriveChk[USB_MAXDRIVE][4] = 0;            /* Device number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",962
000011BF FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000011C5 F9E56400                		MOV.W #0000H, 0C8H[R14]
000011C9                         L390:	; bb165.split27
                                 ;     963                 usb_ghmsc_DriveChk[USB_MAXDRIVE][5] = 0;            /* USB IP number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",963
000011C9 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000011CF F9E56500                		MOV.W #0000H, 0CAH[R14]
000011D3 2Err                 B  		BRA L395
000011D5                         L391:	; bb242
000011D5 B881                    		MOVU.W 04H[R0], R1
000011D7 63C1                    		MUL #0CH, R1
000011D9 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
000011DF 4B12                    		ADD R1, R2
000011E1 B929                    		MOVU.W 0AH[R2], R1
000011E3 06C50106                		CMP 0CH[R0].UW, R1
000011E7 18                   S  		BNE L393
000011E8                         L392:	; bb254
000011E8 F80601                  		MOV.L #00000001H, [R0]
000011EB 08                   S  		BRA L394
000011EC                         L393:	; bb255
000011EC F80600                  		MOV.L #00000000H, [R0]
000011EF                         L394:	; bb256
000011EF EC01                    		MOV.L [R0], R1
000011F1 6101                    		CMP #00H, R1
000011F3 3Brrrr               W  		BNE L375
000011F6                         L395:	; bb268
                                 ;     964             }
                                 ;     965         }
                                 ;     966     }
                                 ;     967 
                                 ;     968     if( usb_ghmsc_StrgCount != 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",968
000011F6 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_StrgCount, R14
000011FC 5CEE                    		MOVU.W [R14], R14
000011FE 610E                    		CMP #00H, R14
00001200 20rr                    		BEQ L397
00001202                         L396:	; bb269
                                 ;     969     {
                                 ;     970         usb_ghmsc_StrgCount--;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",970
00001202 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_StrgCount, R14
00001208 DCEF                    		MOV.W [R14], R15
0000120A 601F                    		SUB #01H, R15
0000120C D3EF                    		MOV.W R15, [R14]
0000120E                         L397:	; bb277
                                 ;     971     }
                                 ;     972 
                                 ;     973     usb_ghmsc_OutPipe[ip][msgnum][0]    = USB_NOPORT;           /* Pipe initial */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",973
0000120E B981                    		MOVU.W 0CH[R0], R1
00001210 6C51                    		SHLL #05H, R1
00001212 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_OutPipe, R14
00001218 4B1E                    		ADD R1, R14
0000121A B901                    		MOVU.W 08H[R0], R1
0000121C 6C21                    		SHLL #02H, R1
0000121E 4B1E                    		ADD R1, R14
00001220 F8E9FFFF                		MOV.W #0FFFFH, [R14]
00001224                         L398:	; bb277.split
                                 ;     974     usb_ghmsc_OutPipe[ip][msgnum][1]    = 0;                    /* Toggle clear */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",974
00001224 B981                    		MOVU.W 0CH[R0], R1
00001226 6C51                    		SHLL #05H, R1
00001228 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_OutPipe, R2
0000122E 4B12                    		ADD R1, R2
00001230 B901                    		MOVU.W 08H[R0], R1
00001232 6C21                    		SHLL #02H, R1
00001234 4B12                    		ADD R1, R2
00001236 3D2100                  		MOV.W #0000H, 02H[R2]
00001239                         L399:	; bb277.split28
                                 ;     975     usb_ghmsc_InPipe[ip][msgnum][0]     = USB_NOPORT;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",975
00001239 B981                    		MOVU.W 0CH[R0], R1
0000123B 6C51                    		SHLL #05H, R1
0000123D FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_InPipe, R14
00001243 4B1E                    		ADD R1, R14
00001245 B901                    		MOVU.W 08H[R0], R1
00001247 6C21                    		SHLL #02H, R1
00001249 4B1E                    		ADD R1, R14
0000124B F8E9FFFF                		MOV.W #0FFFFH, [R14]
0000124F                         L400:	; bb277.split29
                                 ;     976     usb_ghmsc_InPipe[ip][msgnum][1]     = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",976
0000124F B981                    		MOVU.W 0CH[R0], R1
00001251 6C51                    		SHLL #05H, R1
00001253 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_InPipe, R2
00001259 4B12                    		ADD R1, R2
0000125B B901                    		MOVU.W 08H[R0], R1
0000125D 6C21                    		SHLL #02H, R1
0000125F 4B12                    		ADD R1, R2
00001261 3D2100                  		MOV.W #0000H, 02H[R2]
00001264                         L401:	; bb277.split30
                                 ;     977 
                                 ;     978     if( usb_ghmsc_StrgCount == 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",978
00001264 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_StrgCount, R14
0000126A 5CEE                    		MOVU.W [R14], R14
0000126C 610E                    		CMP #00H, R14
0000126E 18                   S  		BNE L403
0000126F                         L402:	; bb315
                                 ;     979     {
                                 ;     980         R_usb_hmsc_TaskClose(ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",980
0000126F A901                    		MOV.L 10H[R0], R1
00001271 05rrrrrr             A  		BSR _R_usb_hmsc_TaskClose
00001275 6705                    		RTSD #14H
00001277                         L403:	; return
                                 ;     981     }
                                 ;     982 }   /* eof usb_hmsc_SmpFsiDriveClear() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",982
00001277 6705                    		RTSD #14H
00001279                         _usb_hmsc_SmpTotalDrive:
                                 		.STACK	_usb_hmsc_SmpTotalDrive=8
                                 ;     983 
                                 ;     984 
                                 ;     985 /******************************************************************************
                                 ;     986 Function Name   : usb_hmsc_SmpTotalDrive
                                 ;     987 Description     : Total drive information
                                 ;     988 Arguments       : none
                                 ;     989 Return value    : uint16_t             : Max drive
                                 ;     990 ******************************************************************************/
                                 ;     991 uint16_t usb_hmsc_SmpTotalDrive(void)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",991
00001279 6040                    		SUB #04H, R0
                                 ;     992 {
                                 ;     993     return usb_ghmsc_MaxDrive;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",993
0000127B FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_MaxDrive, R14
00001281 D4E001                  		MOV.W [R14], 02H[R0]
00001284 9809                    		MOV.W 02H[R0], R1
00001286                         L405:	; entry.split
                                 ;     994 }   /* eof usb_hmsc_SmpTotalDrive() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",994
00001286 5F11                    		MOVU.W R1, R1
00001288 6701                    		RTSD #04H
0000128A                         _usb_hmsc_SmpDrive2Unit:
                                 		.STACK	_usb_hmsc_SmpDrive2Unit=16
                                 ;     995 
                                 ;     996 /******************************************************************************
                                 ;     997 Function Name   : usb_hmsc_SmpDrive2Unit
                                 ;     998 Description     : Total drive information
                                 ;     999 Arguments       : uint16_t side        : Side
                                 ;    1000 Return value    : uint16_t             : Unit number
                                 ;    1001 ******************************************************************************/
                                 ;    1002 uint16_t usb_hmsc_SmpDrive2Unit(USB_UTR_t *ptr, uint16_t side)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1002
0000128A 60C0                    		SUB #0CH, R0
0000128C A081                    		MOV.L R1, 08H[R0]
0000128E 908A                    		MOV.W R2, 06H[R0]
                                 ;    1003 {
                                 ;    1004     if( usb_ghmsc_DriveChk[side][0] != USB_YES )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1004
00001290 B889                    		MOVU.W 06H[R0], R1
00001292 63C1                    		MUL #0CH, R1
00001294 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
0000129A 4B1E                    		ADD R1, R14
0000129C 5CEE                    		MOVU.W [R14], R14
0000129E 611E                    		CMP #01H, R14
000012A0 10                   S  		BEQ L408
000012A1                         L407:	; bb3
                                 ;    1005     {
                                 ;    1006         USB_PRINTF3("### Drive %d is not opened.   Unit=%d, Partition=%d !\n",
                                 ;    1007                 side, usb_ghmsc_DriveChk[side][1], usb_ghmsc_DriveChk[side][2]);
                                 ;    1008         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1008
000012A1 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000012A6 2Err                 B  		BRA L409
000012A8                         L408:	; bb14
                                 ;    1009     }
                                 ;    1010     return (usb_ghmsc_DriveChk[side][1]);           /* Unit Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1010
000012A8 B889                    		MOVU.W 06H[R0], R1
000012AA 63C1                    		MUL #0CH, R1
000012AC FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
000012B2 4B12                    		ADD R1, R2
000012B4 D5200101                		MOV.W 02H[R2], 02H[R0]
000012B8                         L409:	; bb22
000012B8 D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1011 }   /* eof usb_hmsc_SmpDrive2Unit() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1011
000012BC B881                    		MOVU.W 04H[R0], R1
000012BE 6703                    		RTSD #0CH
000012C0                         _usb_hmsc_SmpDrive2Part:
                                 		.STACK	_usb_hmsc_SmpDrive2Part=16
                                 ;    1012 
                                 ;    1013 /******************************************************************************
                                 ;    1014 Function Name   : usb_hmsc_SmpDrive2Part
                                 ;    1015 Description     : Retrieves partition number
                                 ;    1016 Arguments       : uint16_t side        : Side
                                 ;    1017 Return value    : uint16_t             : Partition number
                                 ;    1018 ******************************************************************************/
                                 ;    1019 uint16_t usb_hmsc_SmpDrive2Part(USB_UTR_t *ptr, uint16_t side)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1019
000012C0 60C0                    		SUB #0CH, R0
000012C2 A081                    		MOV.L R1, 08H[R0]
000012C4 908A                    		MOV.W R2, 06H[R0]
                                 ;    1020 {
                                 ;    1021     if( usb_ghmsc_DriveChk[side][0] != USB_YES )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1021
000012C6 B889                    		MOVU.W 06H[R0], R1
000012C8 63C1                    		MUL #0CH, R1
000012CA FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
000012D0 4B1E                    		ADD R1, R14
000012D2 5CEE                    		MOVU.W [R14], R14
000012D4 611E                    		CMP #01H, R14
000012D6 10                   S  		BEQ L412
000012D7                         L411:	; bb3
                                 ;    1022     {
                                 ;    1023         USB_PRINTF3("### Drive %d is not opened.   Unit=%d, Partition=%d !\n"
                                 ;    1024             , side, usb_ghmsc_DriveChk[side][1], usb_ghmsc_DriveChk[side][2]);
                                 ;    1025         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1025
000012D7 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000012DC 2Err                 B  		BRA L413
000012DE                         L412:	; bb14
                                 ;    1026     }
                                 ;    1027     return (usb_ghmsc_DriveChk[side][2]);   /* Parttition Number */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1027
000012DE B889                    		MOVU.W 06H[R0], R1
000012E0 63C1                    		MUL #0CH, R1
000012E2 FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
000012E8 4B12                    		ADD R1, R2
000012EA D5200201                		MOV.W 04H[R2], 02H[R0]
000012EE                         L413:	; bb22
000012EE D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1028 }   /* eof usb_hmsc_SmpDrive2Part() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1028
000012F2 B881                    		MOVU.W 04H[R0], R1
000012F4 6703                    		RTSD #0CH
000012F6                         _usb_hmsc_SmpDrive2Addr:
                                 		.STACK	_usb_hmsc_SmpDrive2Addr=16
                                 ;    1029 
                                 ;    1030 /******************************************************************************
                                 ;    1031 Function Name   : usb_hmsc_SmpDrive2Addr
                                 ;    1032 Description     : Retrieves device address
                                 ;    1033 Arguments       : uint16_t side        : Side
                                 ;    1034 Return value    : uint16_t             : Device address
                                 ;    1035 ******************************************************************************/
                                 ;    1036 void usb_hmsc_SmpDrive2Addr(uint16_t side, USB_UTR_t *devadr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1036
000012F6 7EA6                    		PUSH.L R6
000012F8 6080                    		SUB #08H, R0
000012FA 9089                    		MOV.W R1, 06H[R0]
000012FC E302                    		MOV.L R2, [R0]
                                 ;    1037 {
                                 ;    1038     devadr->keyword = usb_ghmsc_DriveChk[side][3];   /* Device Address */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1038
000012FE B889                    		MOVU.W 06H[R0], R1
00001300 63C1                    		MUL #0CH, R1
00001302 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
00001308 4B1E                    		ADD R1, R14
0000130A D5E20303                		MOV.W 06H[R14], 06H[R2]
0000130E                         L415:	; entry.split
                                 ;    1039     devadr->ip     = usb_ghmsc_DriveChk[side][5];   /* USB IP No.     */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1039
0000130E B889                    		MOVU.W 06H[R0], R1
00001310 63C1                    		MUL #0CH, R1
00001312 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
00001318 4B1E                    		ADD R1, R14
0000131A EC01                    		MOV.L [R0], R1
0000131C D5E10506                		MOV.W 0AH[R14], 0CH[R1]
00001320                         L416:	; entry.split1
                                 ;    1040     devadr->ipp    = R_usb_cstd_GetUsbIpAdr(devadr->ip);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1040
00001320 EC06                    		MOV.L [R0], R6
00001322 B9E1                    		MOVU.W 0CH[R6], R1
00001324 05rrrrrr             A  		BSR _R_usb_cstd_GetUsbIpAdr
00001328 A0E1                    		MOV.L R1, 08H[R6]
0000132A 3F6603                  		RTSD #0CH, R6-R6
0000132D                         _usb_hmsc_SmpDrive2Msgnum:
                                 		.STACK	_usb_hmsc_SmpDrive2Msgnum=16
                                 ;    1041 }   /* eof usb_hmsc_SmpDrive2Addr() */
                                 ;    1042 
                                 ;    1043 
                                 ;    1044 /******************************************************************************
                                 ;    1045 Function Name   : usb_hmsc_SmpDrive2Msgnum
                                 ;    1046 Description     : Checks drive number
                                 ;    1047 Arguments       : uint16_t side        : Side
                                 ;    1048 Return value    : uint16_t             : Drive address
                                 ;    1049 ******************************************************************************/
                                 ;    1050 uint16_t usb_hmsc_SmpDrive2Msgnum(USB_UTR_t *ptr, uint16_t side)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1050
0000132D 60C0                    		SUB #0CH, R0
0000132F A081                    		MOV.L R1, 08H[R0]
00001331 908A                    		MOV.W R2, 06H[R0]
                                 ;    1051 {
                                 ;    1052     if( USB_NO == usb_ghmsc_DriveChk[side][0] )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1052
00001333 B889                    		MOVU.W 06H[R0], R1
00001335 63C1                    		MUL #0CH, R1
00001337 FBE2rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R14
0000133D 4B1E                    		ADD R1, R14
0000133F 5CEE                    		MOVU.W [R14], R14
00001341 610E                    		CMP #00H, R14
00001343 18                   S  		BNE L419
00001344                         L418:	; bb3
                                 ;    1053     {
                                 ;    1054         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1054
00001344 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
00001349 2Err                 B  		BRA L420
0000134B                         L419:	; bb14
                                 ;    1055     }
                                 ;    1056     return (usb_ghmsc_DriveChk[side][4]);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1056
0000134B B889                    		MOVU.W 06H[R0], R1
0000134D 63C1                    		MUL #0CH, R1
0000134F FB22rrrrrrrr            		MOV.L #_usb_ghmsc_DriveChk, R2
00001355 4B12                    		ADD R1, R2
00001357 D5200401                		MOV.W 08H[R2], 02H[R0]
0000135B                         L420:	; bb22
0000135B D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1057 }   /* eof usb_hmsc_SmpDrive2Msgnum() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1057
0000135F B881                    		MOVU.W 04H[R0], R1
00001361 6703                    		RTSD #0CH
00001363                         _usb_hmsc_ClassWait:
                                 		.STACK	_usb_hmsc_ClassWait=40
                                 ;    1058 
                                 ;    1059 /******************************************************************************
                                 ;    1060 Function Name   : usb_hmsc_ClassWait
                                 ;    1061 Description     : HMSC Class Wait
                                 ;    1062 Arguments       : USB_UTR_t *mess : 
                                 ;    1063 Return value    : none
                                 ;    1064 ******************************************************************************/
                                 ;    1065 void usb_hmsc_ClassWait(USB_ID_t id, USB_UTR_t *mess)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1065
00001363 7100DC                  		ADD #0FFFFFFDCH, R0
00001366 9409                    		MOV.W R1, 22H[R0]
00001368 A18A                    		MOV.L R2, 1CH[R0]
0000136A 710308                  		ADD #08H, R0, R3
0000136D 660E                    		MOV.L #00000000H, R14
                                 ;    1066 {
                                 ;    1067     USB_ER_t        err;                    /* Error code */
                                 ;    1068     uint16_t        mode, tbl[10];
                                 ;    1069 
                                 ;    1070     R_usb_hstd_DeviceInformation(mess, 0, (uint16_t *)&tbl);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1070
0000136F EF21                    		MOV.L R2, R1
00001371 EFE2                    		MOV.L R14, R2
00001373 05rrrrrr             A  		BSR _R_usb_hstd_DeviceInformation
00001377                         L422:	; entry.split
                                 ;    1071 
                                 ;    1072     if( mess->keyword == 0 )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1072
00001377 A989                    		MOV.L 1CH[R0], R1
00001379 B899                    		MOVU.W 06H[R1], R1
0000137B 6101                    		CMP #00H, R1
0000137D 18                   S  		BNE L424
0000137E                         L423:	; bb7
                                 ;    1073     {
                                 ;    1074         mode = tbl[9];      /* PORT1 */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1074
0000137E D5000D03                		MOV.W 1AH[R0], 06H[R0]
00001382 08                   S  		BRA L425
00001383                         L424:	; bb11
                                 ;    1075     }
                                 ;    1076     else
                                 ;    1077     {
                                 ;    1078         mode = tbl[8];      /* PORT0 */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1078
00001383 D5000C03                		MOV.W 18H[R0], 06H[R0]
00001387                         L425:	; bb22
                                 ;    1079     }
                                 ;    1080     if( mode != USB_DEFAULT )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1080
00001387 B889                    		MOVU.W 06H[R0], R1
00001389 755128                  		CMP #28H, R1
0000138C 20rr                    		BEQ L429
0000138E                         L426:	; bb23
                                 ;    1081     {
                                 ;    1082         mess->msginfo = USB_MSG_MGR_AORDETACH;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1082
0000138E A989                    		MOV.L 1CH[R0], R1
00001390 F919022101              		MOV.W #0121H, 04H[R1]
00001395                         L427:	; bb23.split
                                 ;    1083         err = R_USB_SND_MSG(USB_MGR_MBX, (USB_MSG_t*)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1083
00001395 A98A                    		MOV.L 1CH[R0], R2
00001397 6621                    		MOV.L #00000002H, R1
00001399 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
0000139D E301                    		MOV.L R1, [R0]
0000139F                         L428:	; bb23.split1
                                 ;    1084         if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1084
0000139F 6709                    		RTSD #24H
000013A1                         L429:	; bb36
                                 ;    1085         {
                                 ;    1086             USB_PRINTF0("### USB Strg enuwait snd_msg error\n");
                                 ;    1087         }
                                 ;    1088     }
                                 ;    1089     else
                                 ;    1090     {
                                 ;    1091         err = R_USB_SND_MSG(id, (USB_MSG_t*)mess);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1091
000013A1 A98A                    		MOV.L 1CH[R0], R2
000013A3 590122                  		MOVU.B 22H[R0], R1
000013A6 05rrrrrr             A  		BSR _R_usb_cstd_SndMsg
000013AA E301                    		MOV.L R1, [R0]
000013AC                         L430:	; bb36.split
                                 ;    1092         if( err != USB_E_OK )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1092
000013AC 6709                    		RTSD #24H
000013AE                         _usb_hmsc_StdReqCheck:
                                 		.STACK	_usb_hmsc_StdReqCheck=12
                                 ;    1093         {
                                 ;    1094             USB_PRINTF0("### USB Strg enuwait snd_msg error\n");
                                 ;    1095         }
                                 ;    1096     }
                                 ;    1097 }   /* eof usb_hmsc_ClassWait() */
                                 ;    1098 
                                 ;    1099 /******************************************************************************
                                 ;    1100 Function Name   : usb_hmsc_StdReqCheck
                                 ;    1101 Description     : Sample Standard Request Check
                                 ;    1102 Arguments       : uint16_t errcheck        : error
                                 ;    1103 Return value    : uint16_t                 : error info
                                 ;    1104 ******************************************************************************/
                                 ;    1105 uint16_t usb_hmsc_StdReqCheck(uint16_t errcheck)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1105
000013AE 6080                    		SUB #08H, R0
000013B0 9089                    		MOV.W R1, 06H[R0]
                                 ;    1106 {
                                 ;    1107     if( errcheck == USB_DATA_TMO )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1107
000013B2 6191                    		CMP #09H, R1
000013B4 18                   S  		BNE L433
000013B5                         L432:	; bb2
                                 ;    1108     {
                                 ;    1109         USB_PRINTF0("*** Standard Request Timeout error !\n");
                                 ;    1110         return  USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1110
000013B5 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000013BA 2Err                 B  		BRA L438
000013BC                         L433:	; bb5
                                 ;    1111     }
                                 ;    1112     else if( errcheck == USB_DATA_STALL )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1112
000013BC B889                    		MOVU.W 06H[R0], R1
000013BE 6161                    		CMP #06H, R1
000013C0 18                   S  		BNE L435
000013C1                         L434:	; bb6
                                 ;    1113     {
                                 ;    1114         USB_PRINTF0("*** Standard Request STALL !\n");
                                 ;    1115         return  USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1115
000013C1 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000013C6 2Err                 B  		BRA L438
000013C8                         L435:	; bb9
                                 ;    1116     }
                                 ;    1117     else if( errcheck != USB_CTRL_END )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1117
000013C8 B889                    		MOVU.W 06H[R0], R1
000013CA 6101                    		CMP #00H, R1
000013CC 10                   S  		BEQ L437
000013CD                         L436:	; bb10
                                 ;    1118     {
                                 ;    1119         USB_PRINTF0("*** Standard Request error !\n");
                                 ;    1120         return  USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1120
000013CD F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000013D2 08                   S  		BRA L438
000013D3                         L437:	; bb29
                                 ;    1121     }
                                 ;    1122     else
                                 ;    1123     {
                                 ;    1124     }
                                 ;    1125     return  USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1125
000013D3 3D0100                  		MOV.W #0000H, 02H[R0]
000013D6                         L438:	; bb31
000013D6 D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1126 }   /* eof usb_hmsc_StdReqCheck() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1126
000013DA B881                    		MOVU.W 04H[R0], R1
000013DC 6702                    		RTSD #08H
000013DE                         _usb_hmsc_GetStringDescriptor1Check:
                                 		.STACK	_usb_hmsc_GetStringDescriptor1Check=16
                                 ;    1127 
                                 ;    1128 /******************************************************************************
                                 ;    1129 Function Name   : usb_hmsc_GetStringDescriptor1Check
                                 ;    1130 Description     : Get String descriptor Check
                                 ;    1131 Arguments       : uint16_t errcheck         : errcheck
                                 ;    1132 Return value    : uint16_t                  : error info
                                 ;    1133 ******************************************************************************/
                                 ;    1134 uint16_t usb_hmsc_GetStringDescriptor1Check(USB_UTR_t *ptr, uint16_t errcheck)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1134
000013DE 60C0                    		SUB #0CH, R0
000013E0 A081                    		MOV.L R1, 08H[R0]
000013E2 908A                    		MOV.W R2, 06H[R0]
                                 ;    1135 {
                                 ;    1136     if( errcheck == (USB_ER_t)USB_DATA_STALL )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1136
000013E4 6162                    		CMP #06H, R2
000013E6 18                   S  		BNE L441
000013E7                         L440:	; bb3
                                 ;    1137     {
                                 ;    1138         USB_PRINTF0("*** LanguageID  not support !\n");
                                 ;    1139         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1139
000013E7 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000013EC 2Err                 B  		BRA L444
000013EE                         L441:	; bb6
                                 ;    1140     }
                                 ;    1141     else if( errcheck != (USB_ER_t)USB_CTRL_END )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1141
000013EE B889                    		MOVU.W 06H[R0], R1
000013F0 6101                    		CMP #00H, R1
000013F2 10                   S  		BEQ L443
000013F3                         L442:	; bb7
                                 ;    1142     {
                                 ;    1143         USB_PRINTF0("*** LanguageID  not support !\n");
                                 ;    1144         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1144
000013F3 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
000013F8 08                   S  		BRA L444
000013F9                         L443:	; bb20
                                 ;    1145     }
                                 ;    1146     else
                                 ;    1147     {
                                 ;    1148     }
                                 ;    1149 
                                 ;    1150     return  USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1150
000013F9 3D0100                  		MOV.W #0000H, 02H[R0]
000013FC                         L444:	; bb22
000013FC D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1151 }   /* eof usb_hmsc_GetStringDescriptor1Check() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1151
00001400 B881                    		MOVU.W 04H[R0], R1
00001402 6703                    		RTSD #0CH
00001404                         _usb_hmsc_GetStringDescriptor2Check:
                                 		.STACK	_usb_hmsc_GetStringDescriptor2Check=16
                                 ;    1152 
                                 ;    1153 /******************************************************************************
                                 ;    1154 Function Name   : usb_hmsc_GetStringDescriptor2Check
                                 ;    1155 Description     : Get String descriptor Check
                                 ;    1156 Arguments       : uint16_t errcheck         : errcheck
                                 ;    1157 Return value    : uint16_t                  : error info
                                 ;    1158 ******************************************************************************/
                                 ;    1159 uint16_t usb_hmsc_GetStringDescriptor2Check(USB_UTR_t *ptr, uint16_t errcheck)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1159
00001404 60C0                    		SUB #0CH, R0
00001406 A081                    		MOV.L R1, 08H[R0]
00001408 908A                    		MOV.W R2, 06H[R0]
                                 ;    1160 {
                                 ;    1161     if( errcheck == (USB_ER_t)USB_DATA_STALL )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1161
0000140A 6162                    		CMP #06H, R2
0000140C 18                   S  		BNE L447
0000140D                         L446:	; bb3
                                 ;    1162     {
                                 ;    1163         USB_PRINTF0("*** SerialNumber not support !\n");
                                 ;    1164         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1164
0000140D F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
00001412 2Err                 B  		BRA L450
00001414                         L447:	; bb6
                                 ;    1165     }
                                 ;    1166     else if( errcheck != (USB_ER_t)USB_CTRL_END )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1166
00001414 B889                    		MOVU.W 06H[R0], R1
00001416 6101                    		CMP #00H, R1
00001418 10                   S  		BEQ L449
00001419                         L448:	; bb7
                                 ;    1167     {
                                 ;    1168         USB_PRINTF0("*** SerialNumber not support !\n");
                                 ;    1169         return USB_ERROR;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1169
00001419 F90901FFFF              		MOV.W #0FFFFH, 02H[R0]
0000141E 08                   S  		BRA L450
0000141F                         L449:	; bb20
                                 ;    1170     }
                                 ;    1171     else
                                 ;    1172     {
                                 ;    1173     }
                                 ;    1174 
                                 ;    1175     return USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1175
0000141F 3D0100                  		MOV.W #0000H, 02H[R0]
00001422                         L450:	; bb22
00001422 D5000102                		MOV.W 02H[R0], 04H[R0]
                                 ;    1176 }   /* eof usb_hmsc_GetStringDescriptor2Check() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1176
00001426 B881                    		MOVU.W 04H[R0], R1
00001428 6703                    		RTSD #0CH
0000142A                         _usb_hmsc_SmpFsiSectorInitialized:
                                 		.STACK	_usb_hmsc_SmpFsiSectorInitialized=16
                                 ;    1177 
                                 ;    1178 
                                 ;    1179 /******************************************************************************
                                 ;    1180 Function Name   : usb_hmsc_SmpFsiSectorInitialized
                                 ;    1181 Description     : Initialized global area
                                 ;    1182 Arguments       : int side : drive number
                                 ;    1183                 : uint32_t offset : buffer address
                                 ;    1184                 : uint16_t size : sector size
                                 ;    1185 Return value    : none
                                 ;    1186 ******************************************************************************/
                                 ;    1187 void usb_hmsc_SmpFsiSectorInitialized(uint16_t side, uint32_t offset,
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1187
0000142A 60C0                    		SUB #0CH, R0
0000142C 9109                    		MOV.W R1, 0AH[R0]
0000142E A00A                    		MOV.L R2, 04H[R0]
00001430 900B                    		MOV.W R3, 02H[R0]
                                 ;    1188      uint16_t size)
                                 ;    1189 {
                                 ;    1190     USB_MEDIA_INITIALIZE(side);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1190
00001432 B90A                    		MOVU.W 0AH[R0], R2
00001434 6601                    		MOV.L #00000000H, R1
00001436 EF13                    		MOV.L R1, R3
00001438 05rrrrrr             A  		BSR _usb_cstd_DummyFunction
0000143C 6703                    		RTSD #0CH
0000143E                         _usb_hmsc_SmpFsiOffsetSectorRead:
                                 		.STACK	_usb_hmsc_SmpFsiOffsetSectorRead=12
                                 ;    1191 }   /* eof usb_hmsc_SmpFsiSectorInitialized() */
                                 ;    1192 
                                 ;    1193 /******************************************************************************
                                 ;    1194 Function Name   : usb_hmsc_SmpFsiOffsetSectorRead
                                 ;    1195 Description     : Offset Sector Read
                                 ;    1196 Arguments       : int side : drive number
                                 ;    1197                 : uint16_t size : sector size
                                 ;    1198 Return value    : uint32_t offset_sector[side]
                                 ;    1199 ******************************************************************************/
                                 ;    1200 uint32_t usb_hmsc_SmpFsiOffsetSectorRead(uint16_t side)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1200
0000143E 6080                    		SUB #08H, R0
00001440 9089                    		MOV.W R1, 06H[R0]
                                 ;    1201 {
                                 ;    1202     return (uint32_t)0uL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1202
00001442 F80600                  		MOV.L #00000000H, [R0]
00001445 6601                    		MOV.L #00000000H, R1
00001447                         L453:	; entry.split
                                 ;    1203 }   /* eof usb_hmsc_SmpFsiOffsetSectorRead() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1203
00001447 6702                    		RTSD #08H
00001449                         _usb_hmsc_SmpFsiFileSystemInitialized:
                                 		.STACK	_usb_hmsc_SmpFsiFileSystemInitialized=20
                                 ;    1204 
                                 ;    1205 /******************************************************************************
                                 ;    1206 Function Name   : usb_hmsc_SmpFsiFileSystemInitialized
                                 ;    1207 Description     : Initialized global area
                                 ;    1208 Arguments       : uint16_t side    : drive number
                                 ;    1209                 : uint8_t *Data    : partition table
                                 ;    1210                 : uint32_t Offset  : offset address
                                 ;    1211 Return value    : uint16_t DONE
                                 ;    1212 ******************************************************************************/
                                 ;    1213 uint16_t usb_hmsc_SmpFsiFileSystemInitialized(uint16_t side, uint8_t *Data,
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1213
00001449 7100F0                  		ADD #0FFFFFFF0H, R0
0000144C 9189                    		MOV.W R1, 0EH[R0]
0000144E A082                    		MOV.L R2, 08H[R0]
00001450 A00B                    		MOV.L R3, 04H[R0]
                                 ;    1214      uint32_t Offset)
                                 ;    1215 {
                                 ;    1216     return USB_DONE;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1216
00001452 3D0100                  		MOV.W #0000H, 02H[R0]
00001455 9809                    		MOV.W 02H[R0], R1
00001457                         L455:	; entry.split
                                 ;    1217 }   /* eof usb_hmsc_SmpFsiFileSystemInitialized() */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\r_usb_hmsc\src\r_usb_hstorage_driver.c",1217
00001457 5F11                    		MOVU.W R1, R1
00001459 6704                    		RTSD #10H
                                 ;    1218 
                                 ;    1219 
                                 ;    1220 /******************************************************************************
                                 ;    1221 End  Of File
                                 ;    1222 ******************************************************************************/
                                 		.swsection	W,stuff
00000000                         L142:
00000000 rrrr                    		.switch		L19-L143
00000002 rrrr                    		.switch		L39-L143
00000004 rrrr                    		.switch		L57-L143
00000006 rrrr                    		.switch		L63-L143
00000008 rrrr                    		.switch		L90-L143
0000000A rrrr                    		.switch		L93-L143
0000000C rrrr                    		.switch		L96-L143
0000000E rrrr                    		.switch		L104-L143
00000010 rrrr                    		.switch		L112-L143
00000012 rrrr                    		.switch		L125-L143
                                 		.SECTION	W,ROMDATA,ALIGN=4
                                 		.SECTION	W_1,ROMDATA
                                 		.SECTION	W_2,ROMDATA,ALIGN=2
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     04115   LINES

Section List

Attr         Size               Name
CODE     0000005211(0000145BH)  P
ROMDATA  0000000000(00000000H)  W
ROMDATA  0000000000(00000000H)  W_1
ROMDATA  0000000020(00000014H)  W_2

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx124\$ccrx\r_usb_hstorage_driver.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01\CompactaXP_build\r_usb_hstorage_driver.lst
-output=C:\Workspace\e2studio\git\MT01\CompactaXP_build\r_usb_hmsc\src\r_usb_hstorage_driver.obj
