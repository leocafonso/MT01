* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Tue Mar 14 14:03:05 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  14-Mar-2017 14:03:05
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=r_usb_cstdfunction.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx\src,C:/Workspace/e2studio/
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=r_usb_cstdfunction.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=0,EASYMAK=1,MOBILE=0,FREE_RTOS_PP
                                 ;r_usb_cstdfunction.c
                                 
                                 		.glb	_usb_cstd_set_usbip_mode_sub
                                 		.glb	_usb_creg_set_dcfm
                                 		.glb	_usb_creg_set_drpd
                                 		.glb	_usb_cstd_BerneEnable
                                 		.glb	_usb_cpu_Delay1us
                                 		.glb	_usb_hstd_InitConnect
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _usb_cstd_set_usbip_mode_sub:
                                 		.STACK	_usb_cstd_set_usbip_mode_sub=12
                                 ;       1 /***********************************************************************************************************************
                                 ;       2 * DISCLAIMER
                                 ;       3 * This software is supplied by Renesas Electronics Corporation and is only intended for use with Renesas products. No
                                 ;       4 * other uses are authorized. This software is owned by Renesas Electronics Corporation and is protected under all
                                 ;       5 * applicable laws, including copyright laws.
                                 ;       6 * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES REGARDING
                                 ;       7 * THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY,
                                 ;       8 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. ALL SUCH WARRANTIES ARE EXPRESSLY DISCLAIMED. TO THE MAXIMUM
                                 ;       9 * EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS ELECTRONICS CORPORATION NOR ANY OF ITS AFFILIATED COMPANIES
                                 ;      10 * SHALL BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES FOR ANY REASON RELATED TO THIS
                                 ;      11 * SOFTWARE, EVEN IF RENESAS OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                                 ;      12 * Renesas reserves the right, without notice, to make changes to this software and to discontinue the availability of
                                 ;      13 * this software. By using this software, you agree to the additional terms and conditions found by accessing the
                                 ;      14 * following link:
                                 ;      15 * http://www.renesas.com/disclaimer
                                 ;      16 *
                                 ;      17 * Copyright (C) 2014(2015) Renesas Electronics Corporation. All rights reserved.
                                 ;      18 ***********************************************************************************************************************/
                                 ;      19 /***********************************************************************************************************************
                                 ;      20 * File Name    : r_usb_cstdfunction.c
                                 ;      21 * Description  : USB Host and Peripheral common low level functions.
                                 ;      22 ***********************************************************************************************************************/
                                 ;      23 /**********************************************************************************************************************
                                 ;      24 * History : DD.MM.YYYY Version Description
                                 ;      25 *         : 04.01.2014 1.00 First Release
                                 ;      26 *         : 30.01.2015 1.01    Added RX71M.
                                 ;      27 ***********************************************************************************************************************/
                                 ;      28 
                                 ;      29 /******************************************************************************
                                 ;      30 Includes   <System Includes> , "Project Includes"
                                 ;      31 ******************************************************************************/
                                 ;      32 #include "r_usb_basic_if.h"
                                 ;      33 #include "r_usb_reg_access.h"
                                 ;      34 
                                 ;      35 #if defined(BSP_MCU_RX64M)
                                 ;      36     #if( USB_SPEED_MODE_PP == USB_HS_PP )
                                 ;      37         #error "You can not set USB_HS_PP in USB_SPEED_MODE_PP of r_usb_basic_config.h when using RX64M."
                                 ;      38     #endif
                                 ;      39 #endif
                                 ;      40 
                                 ;      41 
                                 ;      42 #if( USB_FUNCSEL_USBIP1_PP != USB_HOST_PP )
                                 ;      43     #if defined( USB_HOST_BC_ENABLE )
                                 ;      44         #error "You can not set USB_HS_ENABLE to USB_SPEED_MODE since USB_FUNCSELIP1_PP is not USB_HOST_PP \
                                 ;      45                 in r_usb_basic_config.h."
                                 ;      46     #endif
                                 ;      47 #endif
                                 ;      48 
                                 ;      49 #if( USB_FUNCSEL_USBIP1_PP == USB_HOST_PP )
                                 ;      50     #if !defined( USB_HOST_BC_ENABLE )
                                 ;      51         #if defined( USB_BC_DCP_ENABLE )
                                 ;      52             #error "You can not define USB_BC_DCP_ENABLE since USB_HOST_BC_ENABLE is not defined \
                                 ;      53                     in r_usb_basic_config.h."
                                 ;      54         #endif
                                 ;      55     #endif
                                 ;      56 #endif
                                 ;      57 
                                 ;      58 #if defined(BSP_MCU_RX64M)
                                 ;      59     #if defined(USB_HS_EL_TEST)
                                 ;      60         #error "You can not enable USB_HS_EL_TEST in r_usb_basic_config.h when using RX64M."
                                 ;      61     #endif
                                 ;      62 #endif
                                 ;      63 
                                 ;      64 #if !defined(USB_HOST_COMPLIANCE_MODE)
                                 ;      65     #if defined(USB_HS_EL_TEST)
                                 ;      66         #error "You can not enable USB_HS_EL_TEST in r_usb_basic_config.h \
                                 ;      67                 when USB_HOST_COMPLIANCE_MODE is disabled."
                                 ;      68     #endif
                                 ;      69 #endif
                                 ;      70 /******************************************************************************
                                 ;      71 Constant macro definitions
                                 ;      72 ******************************************************************************/
                                 ;      73 
                                 ;      74 /******************************************************************************
                                 ;      75 External variables and functions
                                 ;      76 ******************************************************************************/
                                 ;      77 
                                 ;      78 /******************************************************************************
                                 ;      79 Private global variables and functions
                                 ;      80 ******************************************************************************/
                                 ;      81 
                                 ;      82 /******************************************************************************
                                 ;      83 Renesas Abstracted common standard function functions
                                 ;      84 ******************************************************************************/
                                 ;      85 
                                 ;      86 /******************************************************************************
                                 ;      87 Function Name   : usb_cstd_set_usbip_mode_sub
                                 ;      88 Description     : USB init depending on mode (host peripharal). 
                                 ;      89 Arguments       : USB_UTR_t *ptr    : USB system internal structure.
                                 ;      90                 : uint16_t function : HOST/PERI
                                 ;      91 Return value    : none
                                 ;      92 ******************************************************************************/
                                 ;      93 void usb_cstd_set_usbip_mode_sub(USB_UTR_t *ptr, uint16_t function)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",93
00000000 6080                    		SUB #08H, R0
00000002 A009                    		MOV.L R1, 04H[R0]
00000004 900A                    		MOV.W R2, 02H[R0]
                                 ;      94 {
                                 ;      95 
                                 ;      96 #if USB_PORTSEL_PP == USB_2PORT_PP
                                 ;      97     uint16_t   else_connect_inf;
                                 ;      98 #endif  /* USB_PORTSEL_PP == USB_2PORT_PP */
                                 ;      99 
                                 ;     100 #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M)
                                 ;     101     usb_cstd_set_sofcfg_intl( ptr );
                                 ;     102 #endif /* #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M) */
                                 ;     103     
                                 ;     104     if (function == (uint16_t)USB_PERI)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",104
00000006 6122                    		CMP #02H, R2
00000008 20rr                    		BEQ L16
0000000A                         L11:	; bb4
                                 ;     105     {
                                 ;     106 #if USB_FUNCSEL_USBIP0_PP == USB_PERI_PP || USB_FUNCSEL_USBIP1_PP == USB_PERI_PP
                                 ;     107 #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M)
                                 ;     108         usb_creg_clr_drpd( ptr, USB_PORT0 );
                                 ;     109         usb_preg_write_physlew( ptr );
                                 ;     110 #endif /* #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M) */
                                 ;     111         /* Interrupt Enable */
                                 ;     112         usb_cstd_BerneEnable(ptr);
                                 ;     113         usb_pstd_InitConnect(ptr);
                                 ;     114 #endif  /* USB_FUNCSEL_USBIP0_PP == USB_PERI_PP || USB_FUNCSEL_USBIP1_PP == USB_PERI_PP */
                                 ;     115     }
                                 ;     116     else
                                 ;     117     {
                                 ;     118 #if USB_FUNCSEL_USBIP0_PP == USB_HOST_PP || USB_FUNCSEL_USBIP1_PP == USB_HOST_PP
                                 ;     119         usb_creg_set_dcfm( ptr );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",119
0000000A A809                    		MOV.L 04H[R0], R1
0000000C 05rrrrrr             A  		BSR _usb_creg_set_dcfm
00000010                         L12:	; bb4.split
                                 ;     120         usb_creg_set_drpd( ptr, USB_PORT0 );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",120
00000010 A809                    		MOV.L 04H[R0], R1
00000012 6602                    		MOV.L #00000000H, R2
00000014 05rrrrrr             A  		BSR _usb_creg_set_drpd
00000018                         L13:	; bb4.split1
                                 ;     121 #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M)
                                 ;     122         usb_hreg_write_physlew( ptr );
                                 ;     123 #endif /* #if defined(BSP_MCU_RX64M) | (BSP_MCU_RX71M) */
                                 ;     124 #if USB_PORTSEL_PP == USB_2PORT_PP
                                 ;     125         usb_creg_set_drpd( ptr, USB_PORT1 );
                                 ;     126         /* Set CNEN bit for RX64M */
                                 ;     127         usb_creg_set_cnen( ptr );
                                 ;     128 #endif  /* USB_PORTSEL_PP == USB_2PORT_PP */
                                 ;     129         /* Interrupt Enable */
                                 ;     130         usb_cstd_BerneEnable(ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",130
00000018 A809                    		MOV.L 04H[R0], R1
0000001A 05rrrrrr             A  		BSR _usb_cstd_BerneEnable
0000001E                         L14:	; bb4.split2
0000001E 66A1                    		MOV.L #0000000AH, R1
                                 ;     131         /* Wait 10us */
                                 ;     132         usb_cpu_Delay1us((uint16_t)10);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",132
00000020 05rrrrrr             A  		BSR _usb_cpu_Delay1us
00000024                         L15:	; bb4.split3
                                 ;     133 #if USB_PORTSEL_PP == USB_2PORT_PP
                                 ;     134         /* Interrupt Enable */
                                 ;     135 #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M)
                                 ;     136         usb_hstd_OvrcrEnable(ptr, USB_PORT0);
                                 ;     137         usb_hstd_OvrcrEnable(ptr, USB_PORT1);
                                 ;     138 #endif /* #if defined(BSP_MCU_RX64M) | (BSP_MCU_RX71M) */
                                 ;     139         /* Vbus ON and Check Connect */
                                 ;     140         else_connect_inf = usb_hstd_InitConnect(ptr, USB_PORT0, USB_DETACHED );
                                 ;     141         usb_hstd_InitConnect(ptr, USB_PORT1, else_connect_inf);
                                 ;     142 #else   /* USB_PORTSEL_PP == USB_2PORT_PP */
                                 ;     143 #if defined(BSP_MCU_RX64M) || (BSP_MCU_RX71M)
                                 ;     144         /* Interrupt Enable */
                                 ;     145         usb_hstd_OvrcrEnable(ptr, USB_PORT0);
                                 ;     146 #endif /* #if defined(BSP_MCU_RX64M) | (BSP_MCU_RX71M) */
                                 ;     147         /* Vbus ON and Check Connect */
                                 ;     148         usb_hstd_InitConnect(ptr, USB_PORT0, USB_DETACHED );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",148
00000024 A809                    		MOV.L 04H[R0], R1
00000026 66A3                    		MOV.L #0000000AH, R3
00000028 6602                    		MOV.L #00000000H, R2
0000002A 05rrrrrr             A  		BSR _usb_hstd_InitConnect
0000002E 6702                    		RTSD #08H
00000030                         L16:	; return
                                 ;     149 #endif  /* USB_PORTSEL_PP == USB_2PORT_PP */
                                 ;     150 #endif  /* USB_FUNCSEL_USBIP0_PP == USB_HOST_PP || USB_FUNCSEL_USBIP1_PP == USB_HOST_PP */
                                 ;     151     }
                                 ;     152 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\r_usb_basic\src\driver\comm\r_usb_cstdfunction.c",152
00000030 6702                    		RTSD #08H
                                 ;     153 /******************************************************************************
                                 ;     154 End of function usb_cstd_set_usbip_mode_sub
                                 ;     155 ******************************************************************************/
                                 ;     156 
                                 ;     157 /******************************************************************************
                                 ;     158 End  Of File
                                 ;     159 ******************************************************************************/
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00228   LINES

Section List

Attr         Size               Name
CODE     0000000050(00000032H)  P

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx4DB7\$ccrx\r_usb_cstdfunction.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01_master\MT01_build\r_usb_cstdfunction.lst
-output=C:\Workspace\e2studio\git\MT01_master\MT01_build\r_usb_basic\src\driver\comm\r_usb_cstdfunction.obj
