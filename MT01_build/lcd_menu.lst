* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Mon Mar 20 17:11:48 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  20-Mar-2017 17:11:48
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=lcd_menu.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx\src,C:/Workspace/e2studio/
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=lcd_menu.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=0,EASYMAK=1,MOBILE=0,FREE_RTOS_PP
                                 ;lcd_menu.c
                                 
                                 		.glb	_qKeyboard
                                 		.glb	_iif_func_enter
                                 		.glb	_iif_func_esc
                                 		.glb	_iif_func_down
                                 		.glb	_iif_func_up
                                 		.glb	_iif_func_left
                                 		.glb	_iif_func_right
                                 		.glb	_iif_func_zdown
                                 		.glb	_iif_func_zup
                                 		.glb	_iif_func_released
                                 		.glb	_u8g_font_6x10
                                 		.glb	_u8g_font_helvB08
                                 		.glb	_ut_menu_init
                                 		.glb	_ut_menu_go_up
                                 		.glb	_ut_menu_go_down
                                 		.glb	_ut_menu_show
                                 		.glb	_ut_lcd_clear
                                 		.glb	_ut_lcd_clear_str
                                 		.glb	_ut_lcd_drawStr
                                 		.glb	_ut_lcd_output_str
                                 		.glb	_ut_menu_browse
                                 		.glb	_xQueueGenericReceive
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _ut_menu_init:
                                 		.STACK	_ut_menu_init=8
                                 ;       1 // ***********************************************************************
                                 ;       2 // LCD menu
                                 ;       3 // ***********************************************************************
                                 ;       4 
                                 ;       5 #include <stdlib.h>
                                 ;       6 #include <stdio.h>
                                 ;       7 #include <string.h>
                                 ;       8 
                                 ;       9 //************************************************************************
                                 ;      10 // Projekt includes						// Include your own functions here
                                 ;      11 //************************************************************************
                                 ;      12 
                                 ;      13 #include "FreeRTOS.h"
                                 ;      14 #include "task.h"
                                 ;      15 #include "keyboard.h"
                                 ;      16 #include "interpreter_if.h"
                                 ;      17 
                                 ;      18 #include "lcd_menu.h"
                                 ;      19 #include "lcd.h"
                                 ;      20 
                                 ;      21 // ***********************************************************************
                                 ;      22 // Variable definitions
                                 ;      23 // ***********************************************************************
                                 ;      24 
                                 ;      25 // ***********************************************************************
                                 ;      26 // Init menu function
                                 ;      27 // ***********************************************************************
                                 ;      28 void ut_menu_init(ut_menu* menu_ptr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",28
00000000 6040                    		SUB #04H, R0
00000002 E301                    		MOV.L R1, [R0]
00000004 FB3AA401                		MOV.L #000001A4H, R3
00000008 6602                    		MOV.L #00000000H, R2
                                 ;      29 {
                                 ;      30 	memset((void *)menu_ptr, 0, sizeof(ut_menu));
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",30
0000000A 7F88                    		SSTR.B
0000000C                         L11:	; entry.split
                                 ;      31 
                                 ;      32 	menu_ptr->maxItemsPerPage = MAX_ROW - 1;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",32
0000000C EC01                    		MOV.L [R0], R1
0000000E FA149A0105              		MOV.B #05H, 019AH[R1]
00000013                         L12:	; entry.split1
                                 ;      33 //	menu_ptr->maxItemsPerPage = MAX_ROW;
                                 ;      34 	menu_ptr->boShowTitle = true;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",34
00000013 EC01                    		MOV.L [R0], R1
00000015 FA149B0101              		MOV.B #01H, 019BH[R1]
0000001A 6701                    		RTSD #04H
0000001C                         _ut_menu_go_up:
                                 		.STACK	_ut_menu_go_up=12
                                 ;      35 }
                                 ;      36 
                                 ;      37 /**
                                 ;      38  *
                                 ;      39  */
                                 ;      40 void ut_menu_go_up(ut_menu* menu_ptr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",40
0000001C 6080                    		SUB #08H, R0
0000001E A009                    		MOV.L R1, 04H[R0]
                                 ;      41 {
                                 ;      42 	if(menu_ptr->selectedItem > 0)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",42
00000020 5D1ECA                  		MOVU.W 0194H[R1], R14
00000023 610E                    		CMP #00H, R14
00000025 2Brr                    		BLE L21
00000027                         L14:	; bb3
                                 ;      43 	{
                                 ;      44 		/* If selection is the first item in screen */
                                 ;      45 		if(menu_ptr->selectedItem == menu_ptr->offset && menu_ptr->offset > 0)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",45
00000027 A809                    		MOV.L 04H[R0], R1
00000029 5D1ECA                  		MOVU.W 0194H[R1], R14
0000002C 06C51ECC                		CMP 0198H[R1].UW, R14
00000030 20rr                    		BEQ L16
00000032 2Err                 B  		BRA L18
00000034                         L15:	; bb4
                                 ;      46 		{
                                 ;      47 			menu_ptr->offset--;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",47
00000034 A809                    		MOV.L 04H[R0], R1
00000036 DD1ECC                  		MOV.W 0198H[R1], R14
00000039 601E                    		SUB #01H, R14
0000003B D71ECC                  		MOV.W R14, 0198H[R1]
0000003E 2Err                 B  		BRA L20
00000040                         L16:	; bb18
00000040 A809                    		MOV.L 04H[R0], R1
00000042 5D1ECC                  		MOVU.W 0198H[R1], R14
00000045 610E                    		CMP #00H, R14
00000047 2Brr                    		BLE L18
00000049                         L17:	; bb25
00000049 F80601                  		MOV.L #00000001H, [R0]
0000004C 08                   S  		BRA L19
0000004D                         L18:	; bb26
0000004D F80600                  		MOV.L #00000000H, [R0]
00000050                         L19:	; bb27
00000050 EC01                    		MOV.L [R0], R1
00000052 6101                    		CMP #00H, R1
00000054 21rr                    		BNE L15
00000056                         L20:	; bb31
                                 ;      48 		}
                                 ;      49 		menu_ptr->selectedItem--;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",49
00000056 A809                    		MOV.L 04H[R0], R1
00000058 DD1ECA                  		MOV.W 0194H[R1], R14
0000005B 601E                    		SUB #01H, R14
0000005D D71ECA                  		MOV.W R14, 0194H[R1]
00000060 6702                    		RTSD #08H
00000062                         L21:	; return
                                 ;      50 	}
                                 ;      51 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",51
00000062 6702                    		RTSD #08H
00000064                         _ut_menu_go_down:
                                 		.STACK	_ut_menu_go_down=12
                                 ;      52 
                                 ;      53 /**
                                 ;      54  *
                                 ;      55  */
                                 ;      56 void ut_menu_go_down(ut_menu* menu_ptr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",56
00000064 6080                    		SUB #08H, R0
00000066 A009                    		MOV.L R1, 04H[R0]
                                 ;      57 {
                                 ;      58 	/* Check if it is last position */
                                 ;      59 	if(menu_ptr->selectedItem < (menu_ptr->numItems - 1))
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",59
00000068 5D1ECB                  		MOVU.W 0196H[R1], R14
0000006B 601E                    		SUB #01H, R14
0000006D 5D1FCA                  		MOVU.W 0194H[R1], R15
00000070 47EF                    		CMP R14, R15
00000072 28rr                    		BGE L30
00000074                         L23:	; bb3
                                 ;      60 	{
                                 ;      61 		/* Last screen position and selected item */
                                 ;      62 		if((menu_ptr->selectedItem == (menu_ptr->offset + menu_ptr->maxItemsPerPage - 1)) &&
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",62
00000074 A809                    		MOV.L 04H[R0], R1
00000076 5D1ECC                  		MOVU.W 0198H[R1], R14
00000079 4A1E9A01                		ADD 019AH[R1].UB, R14
0000007D 601E                    		SUB #01H, R14
0000007F 5D1FCA                  		MOVU.W 0194H[R1], R15
00000082 47EF                    		CMP R14, R15
00000084 20rr                    		BEQ L25
00000086 2Err                 B  		BRA L27
00000088                         L24:	; bb4
                                 ;      63 				((menu_ptr->offset + menu_ptr->maxItemsPerPage) < menu_ptr->numItems))
                                 ;      64 		{
                                 ;      65 			menu_ptr->offset++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",65
00000088 A809                    		MOV.L 04H[R0], R1
0000008A DD1ECC                  		MOV.W 0198H[R1], R14
0000008D 621E                    		ADD #01H, R14
0000008F D71ECC                  		MOV.W R14, 0198H[R1]
00000092 2Err                 B  		BRA L29
00000094                         L25:	; bb24
00000094 A809                    		MOV.L 04H[R0], R1
00000096 5D1ECC                  		MOVU.W 0198H[R1], R14
00000099 4A1E9A01                		ADD 019AH[R1].UB, R14
0000009D 06C51ECB                		CMP 0196H[R1].UW, R14
000000A1 28rr                    		BGE L27
000000A3                         L26:	; bb40
000000A3 F80601                  		MOV.L #00000001H, [R0]
000000A6 08                   S  		BRA L28
000000A7                         L27:	; bb41
000000A7 F80600                  		MOV.L #00000000H, [R0]
000000AA                         L28:	; bb42
000000AA EC01                    		MOV.L [R0], R1
000000AC 6101                    		CMP #00H, R1
000000AE 21rr                    		BNE L24
000000B0                         L29:	; bb46
                                 ;      66 		}
                                 ;      67 
                                 ;      68 		menu_ptr->selectedItem++;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",68
000000B0 A809                    		MOV.L 04H[R0], R1
000000B2 DD1ECA                  		MOV.W 0194H[R1], R14
000000B5 621E                    		ADD #01H, R14
000000B7 D71ECA                  		MOV.W R14, 0194H[R1]
000000BA 6702                    		RTSD #08H
000000BC                         L30:	; return
                                 ;      69 	}
                                 ;      70 
                                 ;      71 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",71
000000BC 6702                    		RTSD #08H
000000BE                         _ut_menu_show:
                                 		.STACK	_ut_menu_show=24
                                 ;      72 
                                 ;      73 // ***********************************************************************
                                 ;      74 // Show menu function
                                 ;      75 // ***********************************************************************
                                 ;      76 void ut_menu_show(ut_menu* menu_ptr)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",76
000000BE 60C0                    		SUB #0CH, R0
000000C0 A081                    		MOV.L R1, 08H[R0]
                                 ;      77 {
                                 ;      78 	uint8_t row = 0;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",78
000000C2 3C0600                  		MOV.B #00H, 06H[R0]
000000C5                         L32:	; entry.split
                                 ;      79 
                                 ;      80 	ut_lcd_clear();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",80
000000C5 05rrrrrr             A  		BSR _ut_lcd_clear
000000C9                         L33:	; entry.split1
                                 ;      81 	/* Title handling */
                                 ;      82 	if(menu_ptr->boShowTitle)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",82
000000C9 A881                    		MOV.L 08H[R0], R1
000000CB 5A1E9B01                		MOVU.B 019BH[R1], R14
000000CF 610E                    		CMP #00H, R14
000000D1 20rr                    		BEQ L36
000000D3                         L34:	; bb4
                                 ;      83 	{
                                 ;      84 		/* Clear previous data */
                                 ;      85 	//	ut_lcd_clear();
                                 ;      86 		ut_lcd_clear_str();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",86
000000D3 05rrrrrr             A  		BSR _ut_lcd_clear_str
000000D7                         L35:	; bb4.split
                                 ;      87 		/* Copy data */
                                 ;      88 	//	ut_lcd_drawString(row++, 0, menu_ptr->title, true);
                                 ;      89 
                                 ;      90 		ut_lcd_drawStr(row++, 0, menu_ptr->title, BACKGROUND_FRAMED,ITEM_NO_MARKED,u8g_font_helvB08);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",90
000000D7 B181                    		MOVU.B 06H[R0], R1
000000D9 711201                  		ADD #01H, R1, R2
000000DC 8182                    		MOV.B R2, 06H[R0]
000000DE A882                    		MOV.L 08H[R0], R2
000000E0 ED2364                  		MOV.L 0190H[R2], R3
000000E3 6080                    		SUB #08H, R0
000000E5 FB22rrrrrrrr            		MOV.L #_u8g_font_helvB08, R2
000000EB A00A                    		MOV.L R2, 04H[R0]
000000ED F80400                  		MOV.B #00H, [R0]
000000F0 6624                    		MOV.L #00000002H, R4
000000F2 6602                    		MOV.L #00000000H, R2
000000F4 05rrrrrr             A  		BSR _ut_lcd_drawStr
000000F8 6280                    		ADD #08H, R0
000000FA                         L36:	; bb16
                                 ;      91 
                                 ;      92 	}
                                 ;      93 
                                 ;      94 	/* Items */
                                 ;      95 	uint8_t menuItem = menu_ptr->offset;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",95
000000FA A881                    		MOV.L 08H[R0], R1
000000FC C610980107              		MOV.B 0198H[R1], 07H[R0]
00000101 2Err                 B  		BRA L38
00000103                         L37:	; bb21
                                 ;      96 	for(; (menuItem < menu_ptr->numItems) && (row < (menu_ptr->maxItemsPerPage+1)); row++, menuItem++)
                                 ;      97 	{
                                 ;      98 	//	ut_lcd_drawString(row, 0, menu_ptr->items[menuItem].text, (menuItem == menu_ptr->selectedItem));
                                 ;      99 		ut_lcd_drawStr(row, 0, menu_ptr->items[menuItem].text, (menuItem == menu_ptr->selectedItem),(menu_ptr->itemMarked == row),u8g_font_6x10);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",99
00000103 B18A                    		MOVU.B 07H[R0], R2
00000105 EF2E                    		MOV.L R2, R14
00000107 751E14                  		MUL #14H, R14
0000010A A881                    		MOV.L 08H[R0], R1
0000010C 5D1FCA                  		MOVU.W 0194H[R1], R15
0000010F 5A159C01                		MOVU.B 019CH[R1], R5
00000113 4BE1                    		ADD R14, R1
00000115 A89B                    		MOV.L 0CH[R1], R3
00000117 B181                    		MOVU.B 06H[R0], R1
00000119 6080                    		SUB #08H, R0
0000011B FB42rrrrrrrr            		MOV.L #_u8g_font_6x10, R4
00000121 A00C                    		MOV.L R4, 04H[R0]
00000123 4715                    		CMP R1, R5
00000125 FCDBE0                  		SCEQ.L R14
00000128 C30E                    		MOV.B R14, [R0]
0000012A 47F2                    		CMP R15, R2
0000012C FCDB40                  		SCEQ.L R4
0000012F 6602                    		MOV.L #00000000H, R2
00000131 05rrrrrr             A  		BSR _ut_lcd_drawStr
00000135 6280                    		ADD #08H, R0
00000137 B181                    		MOVU.B 06H[R0], R1
00000139 6211                    		ADD #01H, R1
0000013B 8181                    		MOV.B R1, 06H[R0]
0000013D B189                    		MOVU.B 07H[R0], R1
0000013F 6211                    		ADD #01H, R1
00000141 8189                    		MOV.B R1, 07H[R0]
00000143                         L38:	; bb55
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",96
00000143 A881                    		MOV.L 08H[R0], R1
00000145 B18A                    		MOVU.B 07H[R0], R2
00000147 06C512CB                		CMP 0196H[R1].UW, R2
0000014B 28rr                    		BGE L41
0000014D                         L39:	; bb64
0000014D A881                    		MOV.L 08H[R0], R1
0000014F 5A1E9A01                		MOVU.B 019AH[R1], R14
00000153 621E                    		ADD #01H, R14
00000155 B181                    		MOVU.B 06H[R0], R1
00000157 47E1                    		CMP R14, R1
00000159 28rr                    		BGE L41
0000015B                         L40:	; bb74
0000015B F80601                  		MOV.L #00000001H, [R0]
0000015E 08                   S  		BRA L42
0000015F                         L41:	; bb75
0000015F F80600                  		MOV.L #00000000H, [R0]
00000162                         L42:	; bb76
00000162 EC01                    		MOV.L [R0], R1
00000164 6101                    		CMP #00H, R1
00000166 21rr                    		BNE L37
00000168                         L43:	; bb81
                                 ;     100 	}
                                 ;     101 
                                 ;     102 	/* Put on screen */
                                 ;     103 	//ut_lcd_output();
                                 ;     104 	ut_lcd_output_str(menu_ptr->currentState);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",104
00000168 A881                    		MOV.L 08H[R0], R1
0000016A ED1168                  		MOV.L 01A0H[R1], R1
0000016D 05rrrrrr             A  		BSR _ut_lcd_output_str
00000171 6703                    		RTSD #0CH
00000173                         _ut_menu_browse:
                                 		.STACK	_ut_menu_browse=28
                                 ;     105 }
                                 ;     106 
                                 ;     107 /**
                                 ;     108  *
                                 ;     109  * @param menu_ptr
                                 ;     110  * @param timeout
                                 ;     111  * @return
                                 ;     112  */
                                 ;     113 int8_t ut_menu_browse(ut_menu* menu_ptr, uint32_t timeout)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",113
00000173 7100E8                  		ADD #0FFFFFFE8H, R0
00000176 A109                    		MOV.L R1, 14H[R0]
00000178 A102                    		MOV.L R2, 10H[R0]
                                 ;     114 {
                                 ;     115 	uint32_t keyEntry;
                                 ;     116 
                                 ;     117 	/* show menu */
                                 ;     118 	ut_menu_show(menu_ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",118
0000017A A909                    		MOV.L 14H[R0], R1
0000017C 39rrrr               W  		BSR _ut_menu_show
0000017F 38rrrr               W  		BRA L70
00000182                         L45:	; bb
                                 ;     119 
                                 ;     120 	/* Wait for keyboard */
                                 ;     121 	while(xQueueReceive( qKeyboard, &keyEntry, timeout ) && menu_ptr->selectedItem < menu_ptr->numItems)
                                 ;     122 	{
                                 ;     123 		/* Check which key */
                                 ;     124 		switch (keyEntry)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",124
00000182 A881                    		MOV.L 08H[R0], R1
00000184 6101                    		CMP #00H, R1
00000186 3Arrrr               W  		BEQ L68
00000189                         L46:	; bb
00000189 6111                    		CMP #01H, R1
0000018B 3Arrrr               W  		BEQ L66
0000018E                         L47:	; bb
0000018E 6141                    		CMP #04H, R1
00000190 20rr                    		BEQ L62
00000192                         L48:	; bb
00000192 755110                  		CMP #10H, R1
00000195 20rr                    		BEQ L60
00000197                         L49:	; bb
00000197 755120                  		CMP #20H, R1
0000019A 20rr                    		BEQ L59
0000019C                         L50:	; bb
0000019C 755140                  		CMP #40H, R1
0000019F 20rr                    		BEQ L61
000001A1                         L51:	; bb
000001A1 76010001                		CMP #0100H, R1
000001A5 20rr                    		BEQ L56
000001A7                         L52:	; bb
000001A7 76010002                		CMP #0200H, R1
000001AB 20rr                    		BEQ L58
000001AD                         L53:	; bb
000001AD 76010004                		CMP #0400H, R1
000001B1 3Brrrr               W  		BNE L69
000001B4                         L54:	; bb6
                                 ;     125 		{
                                 ;     126 		case KEY_DOWN:
                                 ;     127 			iif_func_down();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",127
000001B4 FBE2rrrrrrrr            		MOV.L #_iif_func_down, R14
000001BA ECEE                    		MOV.L [R14], R14
000001BC 7F1E                    		JSR R14
000001BE                         L55:	; bb6.split
                                 ;     128 			ut_menu_go_down(menu_ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",128
000001BE A909                    		MOV.L 14H[R0], R1
000001C0 39rrrr               W  		BSR _ut_menu_go_down
000001C3 38rrrr               W  		BRA L69
000001C6                         L56:	; bb9
                                 ;     129 			break;
                                 ;     130 
                                 ;     131 		case KEY_UP:
                                 ;     132 			iif_func_up();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",132
000001C6 FBE2rrrrrrrr            		MOV.L #_iif_func_up, R14
000001CC ECEE                    		MOV.L [R14], R14
000001CE 7F1E                    		JSR R14
000001D0                         L57:	; bb9.split
                                 ;     133 			ut_menu_go_up(menu_ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",133
000001D0 A909                    		MOV.L 14H[R0], R1
000001D2 39rrrr               W  		BSR _ut_menu_go_up
000001D5 38rrrr               W  		BRA L69
000001D8                         L58:	; bb12
                                 ;     134 			break;
                                 ;     135 
                                 ;     136 		case KEY_RIGHT:
                                 ;     137 			iif_func_right();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",137
000001D8 FBE2rrrrrrrr            		MOV.L #_iif_func_right, R14
000001DE ECEE                    		MOV.L [R14], R14
000001E0 7F1E                    		JSR R14
000001E2 2Err                 B  		BRA L69
000001E4                         L59:	; bb14
                                 ;     138 			break;
                                 ;     139 
                                 ;     140 		case KEY_LEFT:
                                 ;     141 			iif_func_left();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",141
000001E4 FBE2rrrrrrrr            		MOV.L #_iif_func_left, R14
000001EA ECEE                    		MOV.L [R14], R14
000001EC 7F1E                    		JSR R14
000001EE 2Err                 B  		BRA L69
000001F0                         L60:	; bb16
                                 ;     142 			break;
                                 ;     143 
                                 ;     144 		case KEY_Z_UP:
                                 ;     145 			iif_func_zup();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",145
000001F0 FBE2rrrrrrrr            		MOV.L #_iif_func_zup, R14
000001F6 ECEE                    		MOV.L [R14], R14
000001F8 7F1E                    		JSR R14
000001FA 2Err                 B  		BRA L69
000001FC                         L61:	; bb18
                                 ;     146 			break;
                                 ;     147 
                                 ;     148 		case KEY_Z_DOWN:
                                 ;     149 			iif_func_zdown();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",149
000001FC FBE2rrrrrrrr            		MOV.L #_iif_func_zdown, R14
00000202 ECEE                    		MOV.L [R14], R14
00000204 7F1E                    		JSR R14
00000206 2Err                 B  		BRA L69
00000208                         L62:	; bb20
                                 ;     150 			break;
                                 ;     151 
                                 ;     152 		case KEY_ENTER:
                                 ;     153 			/* Callback function, if any */
                                 ;     154 			iif_func_enter();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",154
00000208 FBE2rrrrrrrr            		MOV.L #_iif_func_enter, R14
0000020E ECEE                    		MOV.L [R14], R14
00000210 7F1E                    		JSR R14
00000212                         L63:	; bb20.split
                                 ;     155 			if(menu_ptr->items[menu_ptr->selectedItem].callback_func)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",155
00000212 A909                    		MOV.L 14H[R0], R1
00000214 5D1ECA                  		MOVU.W 0194H[R1], R14
00000217 751E14                  		MUL #14H, R14
0000021A 4BE1                    		ADD R14, R1
0000021C A911                    		MOV.L 10H[R1], R1
0000021E 6101                    		CMP #00H, R1
00000220 20rr                    		BEQ L65
00000222                         L64:	; bb23
                                 ;     156 			{
                                 ;     157 				menu_ptr->items[menu_ptr->selectedItem].callback_func(menu_ptr->selectedItem);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",157
00000222 A909                    		MOV.L 14H[R0], R1
00000224 5D1ECA                  		MOVU.W 0194H[R1], R14
00000227 EFEF                    		MOV.L R14, R15
00000229 751F14                  		MUL #14H, R15
0000022C 4BF1                    		ADD R15, R1
0000022E A912                    		MOV.L 10H[R1], R2
00000230 5BE1                    		MOVU.B R14, R1
00000232 7F12                    		JSR R2
00000234                         L65:	; bb50
                                 ;     158 			}
                                 ;     159 			return menu_ptr->selectedItem;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",159
00000234 A909                    		MOV.L 14H[R0], R1
00000236 C610940107              		MOV.B 0194H[R1], 07H[R0]
0000023B 2Err                 B  		BRA L76
0000023D                         L66:	; bb56
                                 ;     160 
                                 ;     161 		case KEY_ESC:
                                 ;     162 			iif_func_esc();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",162
0000023D FBE2rrrrrrrr            		MOV.L #_iif_func_esc, R14
00000243 ECEE                    		MOV.L [R14], R14
00000245 7F1E                    		JSR R14
00000247                         L67:	; bb56.split
                                 ;     163 			return -1;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",163
00000247 3C07FF                  		MOV.B #0FFH, 07H[R0]
0000024A 2Err                 B  		BRA L76
0000024C                         L68:	; bb59
                                 ;     164 
                                 ;     165 		case KEY_RELEASED:
                                 ;     166 			iif_func_released();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",166
0000024C FBE2rrrrrrrr            		MOV.L #_iif_func_released, R14
00000252 ECEE                    		MOV.L [R14], R14
00000254 7F1E                    		JSR R14
00000256                         L69:	; bb62
                                 ;     167 			break;
                                 ;     168 
                                 ;     169 		default:
                                 ;     170 			break;
                                 ;     171 		}
                                 ;     172 
                                 ;     173 		/* Show again */
                                 ;     174 		ut_menu_show(menu_ptr);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",174
00000256 A909                    		MOV.L 14H[R0], R1
00000258 39rrrr               W  		BSR _ut_menu_show
0000025B                         L70:	; bb64
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",121
0000025B FBE2rrrrrrrr            		MOV.L #_qKeyboard, R14
00000261 ECE1                    		MOV.L [R14], R1
00000263 A903                    		MOV.L 10H[R0], R3
00000265 6604                    		MOV.L #00000000H, R4
00000267 710208                  		ADD #08H, R0, R2
0000026A 05rrrrrr             A  		BSR _xQueueGenericReceive
0000026E 6101                    		CMP #00H, R1
00000270 20rr                    		BEQ L73
00000272                         L71:	; bb71
00000272 A909                    		MOV.L 14H[R0], R1
00000274 5D1ECA                  		MOVU.W 0194H[R1], R14
00000277 06C51ECB                		CMP 0196H[R1].UW, R14
0000027B 28rr                    		BGE L73
0000027D                         L72:	; bb82
0000027D F80601                  		MOV.L #00000001H, [R0]
00000280 08                   S  		BRA L74
00000281                         L73:	; bb83
00000281 F80600                  		MOV.L #00000000H, [R0]
00000284                         L74:	; bb84
00000284 EC01                    		MOV.L [R0], R1
00000286 6101                    		CMP #00H, R1
00000288 3Brrrr               W  		BNE L45
0000028B                         L75:	; bb89
                                 ;     175 	}
                                 ;     176 
                                 ;     177 	/* Timeout */
                                 ;     178 	return -2;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",178
0000028B 3C07FE                  		MOV.B #0FEH, 07H[R0]
0000028E                         L76:	; bb91
0000028E C500070F                		MOV.B 07H[R0], 0FH[R0]
                                 ;     179 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\Display\lcd_menu.c",179
00000292 8B89                    		MOV.B 0FH[R0], R1
00000294 6706                    		RTSD #18H
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00603   LINES

Section List

Attr         Size               Name
CODE     0000000662(00000296H)  P

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx124\$ccrx\lcd_menu.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01_master\MT01_build\lcd_menu.lst
-output=C:\Workspace\e2studio\git\MT01_master\MT01_build\src\Display\lcd_menu.obj
